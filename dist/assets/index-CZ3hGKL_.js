(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Da(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const St={},fs=[],ze=()=>{},xp=()=>!1,Ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ka=e=>e.startsWith("onUpdate:"),ce=Object.assign,Na=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ap=Object.prototype.hasOwnProperty,Ct=(e,t)=>Ap.call(e,t),ot=Array.isArray,ds=e=>$i(e)==="[object Map]",ph=e=>$i(e)==="[object Set]",ut=e=>typeof e=="function",qt=e=>typeof e=="string",Fn=e=>typeof e=="symbol",kt=e=>e!==null&&typeof e=="object",gh=e=>(kt(e)||ut(e))&&ut(e.then)&&ut(e.catch),mh=Object.prototype.toString,$i=e=>mh.call(e),Ip=e=>$i(e).slice(8,-1),_h=e=>$i(e)==="[object Object]",Oa=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ir=Da(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ji=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Cp=/-(\w)/g,Rn=ji(e=>e.replace(Cp,(t,n)=>n?n.toUpperCase():"")),Rp=/\B([A-Z])/g,Jn=ji(e=>e.replace(Rp,"-$1").toLowerCase()),yh=ji(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ao=ji(e=>e?`on${yh(e)}`:""),xn=(e,t)=>!Object.is(e,t),ui=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Go=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Qo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let dc;const qi=()=>dc||(dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ma(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=qt(s)?Dp(s):Ma(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(qt(e)||kt(e))return e}const Sp=/;(?![^(]*\))/g,Pp=/:([^]+)/,Vp=/\/\*[^]*?\*\//g;function Dp(e){const t={};return e.replace(Vp,"").split(Sp).forEach(n=>{if(n){const s=n.split(Pp);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function je(e){let t="";if(qt(e))t=e;else if(ot(e))for(let n=0;n<e.length;n++){const s=je(e[n]);s&&(t+=s+" ")}else if(kt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const kp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Np=Da(kp);function vh(e){return!!e||e===""}const Eh=e=>!!(e&&e.__v_isRef===!0),Gt=e=>qt(e)?e:e==null?"":ot(e)||kt(e)&&(e.toString===mh||!ut(e.toString))?Eh(e)?Gt(e.value):JSON.stringify(e,bh,2):String(e),bh=(e,t)=>Eh(t)?bh(e,t.value):ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Io(s,i)+" =>"]=r,n),{})}:ph(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Io(n))}:Fn(t)?Io(t):kt(t)&&!ot(t)&&!_h(t)?String(t):t,Io=(e,t="")=>{var n;return Fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _e;class Op{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_e,!t&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=_e;try{return _e=this,t()}finally{_e=n}}}on(){++this._on===1&&(this.prevScope=_e,_e=this)}off(){this._on>0&&--this._on===0&&(_e=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Mp(){return _e}let Pt;const Co=new WeakSet;class Th{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_e&&_e.active&&_e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Co.has(this)&&(Co.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pc(this),Ah(this);const t=Pt,n=Ne;Pt=this,Ne=!0;try{return this.fn()}finally{Ih(this),Pt=t,Ne=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ba(t);this.deps=this.depsTail=void 0,pc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Co.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wo(this)&&this.run()}get dirty(){return Wo(this)}}let wh=0,or,ar;function xh(e,t=!1){if(e.flags|=8,t){e.next=ar,ar=e;return}e.next=or,or=e}function Fa(){wh++}function La(){if(--wh>0)return;if(ar){let t=ar;for(ar=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;or;){let t=or;for(or=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ah(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ih(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ba(s),Fp(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Wo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ch(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ch(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Er)||(e.globalVersion=Er,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wo(e))))return;e.flags|=2;const t=e.dep,n=Pt,s=Ne;Pt=e,Ne=!0;try{Ah(e);const r=e.fn(e._value);(t.version===0||xn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Pt=n,Ne=s,Ih(e),e.flags&=-3}}function Ba(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ba(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Fp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ne=!0;const Rh=[];function ln(){Rh.push(Ne),Ne=!1}function cn(){const e=Rh.pop();Ne=e===void 0?!0:e}function pc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pt;Pt=void 0;try{t()}finally{Pt=n}}}let Er=0;class Lp{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ua{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pt||!Ne||Pt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pt)n=this.activeLink=new Lp(Pt,this),Pt.deps?(n.prevDep=Pt.depsTail,Pt.depsTail.nextDep=n,Pt.depsTail=n):Pt.deps=Pt.depsTail=n,Sh(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Pt.depsTail,n.nextDep=void 0,Pt.depsTail.nextDep=n,Pt.depsTail=n,Pt.deps===n&&(Pt.deps=s)}return n}trigger(t){this.version++,Er++,this.notify(t)}notify(t){Fa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{La()}}}function Sh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Sh(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Yo=new WeakMap,Gn=Symbol(""),Xo=Symbol(""),br=Symbol("");function oe(e,t,n){if(Ne&&Pt){let s=Yo.get(e);s||Yo.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ua),r.map=s,r.key=n),r.track()}}function rn(e,t,n,s,r,i){const a=Yo.get(e);if(!a){Er++;return}const l=u=>{u&&u.trigger()};if(Fa(),t==="clear")a.forEach(l);else{const u=ot(e),f=u&&Oa(n);if(u&&n==="length"){const d=Number(s);a.forEach((p,m)=>{(m==="length"||m===br||!Fn(m)&&m>=d)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),f&&l(a.get(br)),t){case"add":u?f&&l(a.get("length")):(l(a.get(Gn)),ds(e)&&l(a.get(Xo)));break;case"delete":u||(l(a.get(Gn)),ds(e)&&l(a.get(Xo)));break;case"set":ds(e)&&l(a.get(Gn));break}}La()}function rs(e){const t=It(e);return t===e?t:(oe(t,"iterate",br),Ve(e)?t:t.map(Zt))}function Hi(e){return oe(e=It(e),"iterate",br),e}const Bp={__proto__:null,[Symbol.iterator](){return Ro(this,Symbol.iterator,Zt)},concat(...e){return rs(this).concat(...e.map(t=>ot(t)?rs(t):t))},entries(){return Ro(this,"entries",e=>(e[1]=Zt(e[1]),e))},every(e,t){return Ze(this,"every",e,t,void 0,arguments)},filter(e,t){return Ze(this,"filter",e,t,n=>n.map(Zt),arguments)},find(e,t){return Ze(this,"find",e,t,Zt,arguments)},findIndex(e,t){return Ze(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ze(this,"findLast",e,t,Zt,arguments)},findLastIndex(e,t){return Ze(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ze(this,"forEach",e,t,void 0,arguments)},includes(...e){return So(this,"includes",e)},indexOf(...e){return So(this,"indexOf",e)},join(e){return rs(this).join(e)},lastIndexOf(...e){return So(this,"lastIndexOf",e)},map(e,t){return Ze(this,"map",e,t,void 0,arguments)},pop(){return Xs(this,"pop")},push(...e){return Xs(this,"push",e)},reduce(e,...t){return gc(this,"reduce",e,t)},reduceRight(e,...t){return gc(this,"reduceRight",e,t)},shift(){return Xs(this,"shift")},some(e,t){return Ze(this,"some",e,t,void 0,arguments)},splice(...e){return Xs(this,"splice",e)},toReversed(){return rs(this).toReversed()},toSorted(e){return rs(this).toSorted(e)},toSpliced(...e){return rs(this).toSpliced(...e)},unshift(...e){return Xs(this,"unshift",e)},values(){return Ro(this,"values",Zt)}};function Ro(e,t,n){const s=Hi(e),r=s[t]();return s!==e&&!Ve(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Up=Array.prototype;function Ze(e,t,n,s,r,i){const a=Hi(e),l=a!==e&&!Ve(e),u=a[t];if(u!==Up[t]){const p=u.apply(e,i);return l?Zt(p):p}let f=n;a!==e&&(l?f=function(p,m){return n.call(this,Zt(p),m,e)}:n.length>2&&(f=function(p,m){return n.call(this,p,m,e)}));const d=u.call(a,f,s);return l&&r?r(d):d}function gc(e,t,n,s){const r=Hi(e);let i=n;return r!==e&&(Ve(e)?n.length>3&&(i=function(a,l,u){return n.call(this,a,l,u,e)}):i=function(a,l,u){return n.call(this,a,Zt(l),u,e)}),r[t](i,...s)}function So(e,t,n){const s=It(e);oe(s,"iterate",br);const r=s[t](...n);return(r===-1||r===!1)&&qa(n[0])?(n[0]=It(n[0]),s[t](...n)):r}function Xs(e,t,n=[]){ln(),Fa();const s=It(e)[t].apply(e,n);return La(),cn(),s}const $p=Da("__proto__,__v_isRef,__isVue"),Ph=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fn));function jp(e){Fn(e)||(e=String(e));const t=It(this);return oe(t,"has",e),t.hasOwnProperty(e)}class Vh{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Jp:Oh:i?Nh:kh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=ot(t);if(!r){let u;if(a&&(u=Bp[n]))return u;if(n==="hasOwnProperty")return jp}const l=Reflect.get(t,n,le(t)?t:s);return(Fn(n)?Ph.has(n):$p(n))||(r||oe(t,"get",n),i)?l:le(l)?a&&Oa(n)?l:l.value:kt(l)?r?Fh(l):Yn(l):l}}class Dh extends Vh{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const u=Sn(i);if(!Ve(s)&&!Sn(s)&&(i=It(i),s=It(s)),!ot(t)&&le(i)&&!le(s))return u?!1:(i.value=s,!0)}const a=ot(t)&&Oa(n)?Number(n)<t.length:Ct(t,n),l=Reflect.set(t,n,s,le(t)?t:r);return t===It(r)&&(a?xn(s,i)&&rn(t,"set",n,s):rn(t,"add",n,s)),l}deleteProperty(t,n){const s=Ct(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&rn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Fn(n)||!Ph.has(n))&&oe(t,"has",n),s}ownKeys(t){return oe(t,"iterate",ot(t)?"length":Gn),Reflect.ownKeys(t)}}class qp extends Vh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hp=new Dh,zp=new qp,Kp=new Dh(!0);const Jo=e=>e,ei=e=>Reflect.getPrototypeOf(e);function Gp(e,t,n){return function(...s){const r=this.__v_raw,i=It(r),a=ds(i),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,f=r[e](...s),d=n?Jo:t?bi:Zt;return!t&&oe(i,"iterate",u?Xo:Gn),{next(){const{value:p,done:m}=f.next();return m?{value:p,done:m}:{value:l?[d(p[0]),d(p[1])]:d(p),done:m}},[Symbol.iterator](){return this}}}}function ni(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qp(e,t){const n={get(r){const i=this.__v_raw,a=It(i),l=It(r);e||(xn(r,l)&&oe(a,"get",r),oe(a,"get",l));const{has:u}=ei(a),f=t?Jo:e?bi:Zt;if(u.call(a,r))return f(i.get(r));if(u.call(a,l))return f(i.get(l));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!e&&oe(It(r),"iterate",Gn),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=It(i),l=It(r);return e||(xn(r,l)&&oe(a,"has",r),oe(a,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const a=this,l=a.__v_raw,u=It(l),f=t?Jo:e?bi:Zt;return!e&&oe(u,"iterate",Gn),l.forEach((d,p)=>r.call(i,f(d),f(p),a))}};return ce(n,e?{add:ni("add"),set:ni("set"),delete:ni("delete"),clear:ni("clear")}:{add(r){!t&&!Ve(r)&&!Sn(r)&&(r=It(r));const i=It(this);return ei(i).has.call(i,r)||(i.add(r),rn(i,"add",r,r)),this},set(r,i){!t&&!Ve(i)&&!Sn(i)&&(i=It(i));const a=It(this),{has:l,get:u}=ei(a);let f=l.call(a,r);f||(r=It(r),f=l.call(a,r));const d=u.call(a,r);return a.set(r,i),f?xn(i,d)&&rn(a,"set",r,i):rn(a,"add",r,i),this},delete(r){const i=It(this),{has:a,get:l}=ei(i);let u=a.call(i,r);u||(r=It(r),u=a.call(i,r)),l&&l.call(i,r);const f=i.delete(r);return u&&rn(i,"delete",r,void 0),f},clear(){const r=It(this),i=r.size!==0,a=r.clear();return i&&rn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Gp(r,e,t)}),n}function $a(e,t){const n=Qp(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Ct(n,r)&&r in s?n:s,r,i)}const Wp={get:$a(!1,!1)},Yp={get:$a(!1,!0)},Xp={get:$a(!0,!1)};const kh=new WeakMap,Nh=new WeakMap,Oh=new WeakMap,Jp=new WeakMap;function Zp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tg(e){return e.__v_skip||!Object.isExtensible(e)?0:Zp(Ip(e))}function Yn(e){return Sn(e)?e:ja(e,!1,Hp,Wp,kh)}function Mh(e){return ja(e,!1,Kp,Yp,Nh)}function Fh(e){return ja(e,!0,zp,Xp,Oh)}function ja(e,t,n,s,r){if(!kt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=tg(e);if(i===0)return e;const a=r.get(e);if(a)return a;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function ps(e){return Sn(e)?ps(e.__v_raw):!!(e&&e.__v_isReactive)}function Sn(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function qa(e){return e?!!e.__v_raw:!1}function It(e){const t=e&&e.__v_raw;return t?It(t):e}function eg(e){return!Ct(e,"__v_skip")&&Object.isExtensible(e)&&Go(e,"__v_skip",!0),e}const Zt=e=>kt(e)?Yn(e):e,bi=e=>kt(e)?Fh(e):e;function le(e){return e?e.__v_isRef===!0:!1}function Oe(e){return Lh(e,!1)}function ng(e){return Lh(e,!0)}function Lh(e,t){return le(e)?e:new sg(e,t)}class sg{constructor(t,n){this.dep=new Ua,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:It(t),this._value=n?t:Zt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ve(t)||Sn(t);t=s?t:It(t),xn(t,n)&&(this._rawValue=t,this._value=s?t:Zt(t),this.dep.trigger())}}function gs(e){return le(e)?e.value:e}const rg={get:(e,t,n)=>t==="__v_raw"?e:gs(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return le(r)&&!le(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Bh(e){return ps(e)?e:new Proxy(e,rg)}class ig{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ua(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Er-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return xh(this,!0),!0}get value(){const t=this.dep.track();return Ch(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function og(e,t,n=!1){let s,r;return ut(e)?s=e:(s=e.get,r=e.set),new ig(s,r,n)}const si={},Ti=new WeakMap;let Hn;function ag(e,t=!1,n=Hn){if(n){let s=Ti.get(n);s||Ti.set(n,s=[]),s.push(e)}}function lg(e,t,n=St){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:l,call:u}=n,f=z=>r?z:Ve(z)||r===!1||r===0?on(z,1):on(z);let d,p,m,E,V=!1,R=!1;if(le(e)?(p=()=>e.value,V=Ve(e)):ps(e)?(p=()=>f(e),V=!0):ot(e)?(R=!0,V=e.some(z=>ps(z)||Ve(z)),p=()=>e.map(z=>{if(le(z))return z.value;if(ps(z))return f(z);if(ut(z))return u?u(z,2):z()})):ut(e)?t?p=u?()=>u(e,2):e:p=()=>{if(m){ln();try{m()}finally{cn()}}const z=Hn;Hn=d;try{return u?u(e,3,[E]):e(E)}finally{Hn=z}}:p=ze,t&&r){const z=p,ft=r===!0?1/0:r;p=()=>on(z(),ft)}const k=Mp(),W=()=>{d.stop(),k&&k.active&&Na(k.effects,d)};if(i&&t){const z=t;t=(...ft)=>{z(...ft),W()}}let U=R?new Array(e.length).fill(si):si;const H=z=>{if(!(!(d.flags&1)||!d.dirty&&!z))if(t){const ft=d.run();if(r||V||(R?ft.some((pt,x)=>xn(pt,U[x])):xn(ft,U))){m&&m();const pt=Hn;Hn=d;try{const x=[ft,U===si?void 0:R&&U[0]===si?[]:U,E];U=ft,u?u(t,3,x):t(...x)}finally{Hn=pt}}}else d.run()};return l&&l(H),d=new Th(p),d.scheduler=a?()=>a(H,!1):H,E=z=>ag(z,!1,d),m=d.onStop=()=>{const z=Ti.get(d);if(z){if(u)u(z,4);else for(const ft of z)ft();Ti.delete(d)}},t?s?H(!0):U=d.run():a?a(H.bind(null,!0),!0):d.run(),W.pause=d.pause.bind(d),W.resume=d.resume.bind(d),W.stop=W,W}function on(e,t=1/0,n){if(t<=0||!kt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,le(e))on(e.value,t,n);else if(ot(e))for(let s=0;s<e.length;s++)on(e[s],t,n);else if(ph(e)||ds(e))e.forEach(s=>{on(s,t,n)});else if(_h(e)){for(const s in e)on(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&on(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kr(e,t,n,s){try{return s?e(...s):e()}catch(r){zi(r,t,n)}}function Ge(e,t,n,s){if(ut(e)){const r=kr(e,t,n,s);return r&&gh(r)&&r.catch(i=>{zi(i,t,n)}),r}if(ot(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Ge(e[i],t,n,s));return r}}function zi(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||St;if(t){let l=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,u,f)===!1)return}l=l.parent}if(i){ln(),kr(i,null,10,[e,u,f]),cn();return}}cg(e,n,r,s,a)}function cg(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const de=[];let Be=-1;const ms=[];let vn=null,is=0;const Uh=Promise.resolve();let wi=null;function $h(e){const t=wi||Uh;return e?t.then(this?e.bind(this):e):t}function ug(e){let t=Be+1,n=de.length;for(;t<n;){const s=t+n>>>1,r=de[s],i=Tr(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Ha(e){if(!(e.flags&1)){const t=Tr(e),n=de[de.length-1];!n||!(e.flags&2)&&t>=Tr(n)?de.push(e):de.splice(ug(t),0,e),e.flags|=1,jh()}}function jh(){wi||(wi=Uh.then(Hh))}function hg(e){ot(e)?ms.push(...e):vn&&e.id===-1?vn.splice(is+1,0,e):e.flags&1||(ms.push(e),e.flags|=1),jh()}function mc(e,t,n=Be+1){for(;n<de.length;n++){const s=de[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;de.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function qh(e){if(ms.length){const t=[...new Set(ms)].sort((n,s)=>Tr(n)-Tr(s));if(ms.length=0,vn){vn.push(...t);return}for(vn=t,is=0;is<vn.length;is++){const n=vn[is];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}vn=null,is=0}}const Tr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hh(e){try{for(Be=0;Be<de.length;Be++){const t=de[Be];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),kr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Be<de.length;Be++){const t=de[Be];t&&(t.flags&=-2)}Be=-1,de.length=0,qh(),wi=null,(de.length||ms.length)&&Hh()}}let Pe=null,zh=null;function xi(e){const t=Pe;return Pe=e,zh=e&&e.type.__scopeId||null,t}function fg(e,t=Pe,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ac(-1);const i=xi(t);let a;try{a=e(...r)}finally{xi(i),s._d&&Ac(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function nn(e,t){if(Pe===null)return e;const n=Wi(Pe),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,a,l,u=St]=t[r];i&&(ut(i)&&(i={mounted:i,updated:i}),i.deep&&on(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function jn(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let a=0;a<r.length;a++){const l=r[a];i&&(l.oldValue=i[a].value);let u=l.dir[s];u&&(ln(),Ge(u,n,8,[e.el,l,e,t]),cn())}}const dg=Symbol("_vte"),pg=e=>e.__isTeleport;function za(e,t){e.shapeFlag&6&&e.component?(e.transition=t,za(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Kh(e,t){return ut(e)?ce({name:e.name},t,{setup:e}):e}function Gh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function lr(e,t,n,s,r=!1){if(ot(e)){e.forEach((V,R)=>lr(V,t&&(ot(t)?t[R]:t),n,s,r));return}if(cr(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&lr(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Wi(s.component):s.el,a=r?null:i,{i:l,r:u}=e,f=t&&t.r,d=l.refs===St?l.refs={}:l.refs,p=l.setupState,m=It(p),E=p===St?()=>!1:V=>Ct(m,V);if(f!=null&&f!==u&&(qt(f)?(d[f]=null,E(f)&&(p[f]=null)):le(f)&&(f.value=null)),ut(u))kr(u,l,12,[a,d]);else{const V=qt(u),R=le(u);if(V||R){const k=()=>{if(e.f){const W=V?E(u)?p[u]:d[u]:u.value;r?ot(W)&&Na(W,i):ot(W)?W.includes(i)||W.push(i):V?(d[u]=[i],E(u)&&(p[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else V?(d[u]=a,E(u)&&(p[u]=a)):R&&(u.value=a,e.k&&(d[e.k]=a))};a?(k.id=-1,we(k,n)):k()}}}qi().requestIdleCallback;qi().cancelIdleCallback;const cr=e=>!!e.type.__asyncLoader,Qh=e=>e.type.__isKeepAlive;function gg(e,t){Wh(e,"a",t)}function mg(e,t){Wh(e,"da",t)}function Wh(e,t,n=pe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ki(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Qh(r.parent.vnode)&&_g(s,t,n,r),r=r.parent}}function _g(e,t,n,s){const r=Ki(t,e,s,!0);Xh(()=>{Na(s[t],r)},n)}function Ki(e,t,n=pe,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{ln();const l=Nr(n),u=Ge(t,n,e,a);return l(),cn(),u});return s?r.unshift(i):r.push(i),i}}const fn=e=>(t,n=pe)=>{(!xr||e==="sp")&&Ki(e,(...s)=>t(...s),n)},yg=fn("bm"),Yh=fn("m"),vg=fn("bu"),Eg=fn("u"),bg=fn("bum"),Xh=fn("um"),Tg=fn("sp"),wg=fn("rtg"),xg=fn("rtc");function Ag(e,t=pe){Ki("ec",e,t)}const Ig=Symbol.for("v-ndc");function ur(e,t,n,s){let r;const i=n,a=ot(e);if(a||qt(e)){const l=a&&ps(e);let u=!1,f=!1;l&&(u=!Ve(e),f=Sn(e),e=Hi(e)),r=new Array(e.length);for(let d=0,p=e.length;d<p;d++)r[d]=t(u?f?bi(Zt(e[d])):Zt(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(kt(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const d=l[u];r[u]=t(e[d],d,u,i)}}else r=[];return r}const Zo=e=>e?yf(e)?Wi(e):Zo(e.parent):null,hr=ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zo(e.parent),$root:e=>Zo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zh(e),$forceUpdate:e=>e.f||(e.f=()=>{Ha(e.update)}),$nextTick:e=>e.n||(e.n=$h.bind(e.proxy)),$watch:e=>Gg.bind(e)}),Po=(e,t)=>e!==St&&!e.__isScriptSetup&&Ct(e,t),Cg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:l,appContext:u}=e;let f;if(t[0]!=="$"){const E=a[t];if(E!==void 0)switch(E){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Po(s,t))return a[t]=1,s[t];if(r!==St&&Ct(r,t))return a[t]=2,r[t];if((f=e.propsOptions[0])&&Ct(f,t))return a[t]=3,i[t];if(n!==St&&Ct(n,t))return a[t]=4,n[t];ta&&(a[t]=0)}}const d=hr[t];let p,m;if(d)return t==="$attrs"&&oe(e.attrs,"get",""),d(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==St&&Ct(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,Ct(m,t))return m[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return Po(r,t)?(r[t]=n,!0):s!==St&&Ct(s,t)?(s[t]=n,!0):Ct(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},a){let l;return!!n[a]||e!==St&&Ct(e,a)||Po(t,a)||(l=i[0])&&Ct(l,a)||Ct(s,a)||Ct(hr,a)||Ct(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ct(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _c(e){return ot(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ta=!0;function Rg(e){const t=Zh(e),n=e.proxy,s=e.ctx;ta=!1,t.beforeCreate&&yc(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:a,watch:l,provide:u,inject:f,created:d,beforeMount:p,mounted:m,beforeUpdate:E,updated:V,activated:R,deactivated:k,beforeDestroy:W,beforeUnmount:U,destroyed:H,unmounted:z,render:ft,renderTracked:pt,renderTriggered:x,errorCaptured:y,serverPrefetch:T,expose:A,inheritAttrs:I,components:S,directives:b,filters:ue}=t;if(f&&Sg(f,s,null),a)for(const gt in a){const dt=a[gt];ut(dt)&&(s[gt]=dt.bind(n))}if(r){const gt=r.call(n,n);kt(gt)&&(e.data=Yn(gt))}if(ta=!0,i)for(const gt in i){const dt=i[gt],be=ut(dt)?dt.bind(n,n):ut(dt.get)?dt.get.bind(n,n):ze,De=!ut(dt)&&ut(dt.set)?dt.set.bind(n):ze,Ie=Se({get:be,set:De});Object.defineProperty(s,gt,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Nt=>Ie.value=Nt})}if(l)for(const gt in l)Jh(l[gt],s,n,gt);if(u){const gt=ut(u)?u.call(n):u;Reflect.ownKeys(gt).forEach(dt=>{hi(dt,gt[dt])})}d&&yc(d,e,"c");function $t(gt,dt){ot(dt)?dt.forEach(be=>gt(be.bind(n))):dt&&gt(dt.bind(n))}if($t(yg,p),$t(Yh,m),$t(vg,E),$t(Eg,V),$t(gg,R),$t(mg,k),$t(Ag,y),$t(xg,pt),$t(wg,x),$t(bg,U),$t(Xh,z),$t(Tg,T),ot(A))if(A.length){const gt=e.exposed||(e.exposed={});A.forEach(dt=>{Object.defineProperty(gt,dt,{get:()=>n[dt],set:be=>n[dt]=be})})}else e.exposed||(e.exposed={});ft&&e.render===ze&&(e.render=ft),I!=null&&(e.inheritAttrs=I),S&&(e.components=S),b&&(e.directives=b),T&&Gh(e)}function Sg(e,t,n=ze){ot(e)&&(e=ea(e));for(const s in e){const r=e[s];let i;kt(r)?"default"in r?i=an(r.from||s,r.default,!0):i=an(r.from||s):i=an(r),le(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[s]=i}}function yc(e,t,n){Ge(ot(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Jh(e,t,n,s){let r=s.includes(".")?df(n,s):()=>n[s];if(qt(e)){const i=t[e];ut(i)&&fi(r,i)}else if(ut(e))fi(r,e.bind(n));else if(kt(e))if(ot(e))e.forEach(i=>Jh(i,t,n,s));else{const i=ut(e.handler)?e.handler.bind(n):t[e.handler];ut(i)&&fi(r,i,e)}}function Zh(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:!r.length&&!n&&!s?u=t:(u={},r.length&&r.forEach(f=>Ai(u,f,a,!0)),Ai(u,t,a)),kt(t)&&i.set(t,u),u}function Ai(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&Ai(e,i,n,!0),r&&r.forEach(a=>Ai(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const l=Pg[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Pg={data:vc,props:Ec,emits:Ec,methods:er,computed:er,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:er,directives:er,watch:Dg,provide:vc,inject:Vg};function vc(e,t){return t?e?function(){return ce(ut(e)?e.call(this,this):e,ut(t)?t.call(this,this):t)}:t:e}function Vg(e,t){return er(ea(e),ea(t))}function ea(e){if(ot(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function er(e,t){return e?ce(Object.create(null),e,t):t}function Ec(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:ce(Object.create(null),_c(e),_c(t??{})):t}function Dg(e,t){if(!e)return t;if(!t)return e;const n=ce(Object.create(null),e);for(const s in t)n[s]=fe(e[s],t[s]);return n}function tf(){return{app:null,config:{isNativeTag:xp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kg=0;function Ng(e,t){return function(s,r=null){ut(s)||(s=ce({},s)),r!=null&&!kt(r)&&(r=null);const i=tf(),a=new WeakSet,l=[];let u=!1;const f=i.app={_uid:kg++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:pm,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&ut(d.install)?(a.add(d),d.install(f,...p)):ut(d)&&(a.add(d),d(f,...p))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,p){return p?(i.components[d]=p,f):i.components[d]},directive(d,p){return p?(i.directives[d]=p,f):i.directives[d]},mount(d,p,m){if(!u){const E=f._ceVNode||Dt(s,r);return E.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(E,d,m),u=!0,f._container=d,d.__vue_app__=f,Wi(E.component)}},onUnmount(d){l.push(d)},unmount(){u&&(Ge(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return i.provides[d]=p,f},runWithContext(d){const p=_s;_s=f;try{return d()}finally{_s=p}}};return f}}let _s=null;function hi(e,t){if(pe){let n=pe.provides;const s=pe.parent&&pe.parent.provides;s===n&&(n=pe.provides=Object.create(s)),n[e]=t}}function an(e,t,n=!1){const s=pe||Pe;if(s||_s){let r=_s?_s._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ut(t)?t.call(s&&s.proxy):t}}const ef={},nf=()=>Object.create(ef),sf=e=>Object.getPrototypeOf(e)===ef;function Og(e,t,n,s=!1){const r={},i=nf();e.propsDefaults=Object.create(null),rf(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=s?r:Mh(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Mg(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=e,l=It(r),[u]=e.propsOptions;let f=!1;if((s||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let m=d[p];if(Gi(e.emitsOptions,m))continue;const E=t[m];if(u)if(Ct(i,m))E!==i[m]&&(i[m]=E,f=!0);else{const V=Rn(m);r[V]=na(u,l,V,E,e,!1)}else E!==i[m]&&(i[m]=E,f=!0)}}}else{rf(e,t,r,i)&&(f=!0);let d;for(const p in l)(!t||!Ct(t,p)&&((d=Jn(p))===p||!Ct(t,d)))&&(u?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=na(u,l,p,void 0,e,!0)):delete r[p]);if(i!==l)for(const p in i)(!t||!Ct(t,p))&&(delete i[p],f=!0)}f&&rn(e.attrs,"set","")}function rf(e,t,n,s){const[r,i]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(ir(u))continue;const f=t[u];let d;r&&Ct(r,d=Rn(u))?!i||!i.includes(d)?n[d]=f:(l||(l={}))[d]=f:Gi(e.emitsOptions,u)||(!(u in s)||f!==s[u])&&(s[u]=f,a=!0)}if(i){const u=It(n),f=l||St;for(let d=0;d<i.length;d++){const p=i[d];n[p]=na(r,u,p,f[p],e,!Ct(f,p))}}return a}function na(e,t,n,s,r,i){const a=e[n];if(a!=null){const l=Ct(a,"default");if(l&&s===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&ut(u)){const{propsDefaults:f}=r;if(n in f)s=f[n];else{const d=Nr(r);s=f[n]=u.call(null,t),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!l?s=!1:a[1]&&(s===""||s===Jn(n))&&(s=!0))}return s}const Fg=new WeakMap;function of(e,t,n=!1){const s=n?Fg:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,a={},l=[];let u=!1;if(!ut(e)){const d=p=>{u=!0;const[m,E]=of(p,t,!0);ce(a,m),E&&l.push(...E)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return kt(e)&&s.set(e,fs),fs;if(ot(i))for(let d=0;d<i.length;d++){const p=Rn(i[d]);bc(p)&&(a[p]=St)}else if(i)for(const d in i){const p=Rn(d);if(bc(p)){const m=i[d],E=a[p]=ot(m)||ut(m)?{type:m}:ce({},m),V=E.type;let R=!1,k=!0;if(ot(V))for(let W=0;W<V.length;++W){const U=V[W],H=ut(U)&&U.name;if(H==="Boolean"){R=!0;break}else H==="String"&&(k=!1)}else R=ut(V)&&V.name==="Boolean";E[0]=R,E[1]=k,(R||Ct(E,"default"))&&l.push(p)}}const f=[a,l];return kt(e)&&s.set(e,f),f}function bc(e){return e[0]!=="$"&&!ir(e)}const Ka=e=>e[0]==="_"||e==="$stable",Ga=e=>ot(e)?e.map($e):[$e(e)],Lg=(e,t,n)=>{if(t._n)return t;const s=fg((...r)=>Ga(t(...r)),n);return s._c=!1,s},af=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Ka(r))continue;const i=e[r];if(ut(i))t[r]=Lg(r,i,s);else if(i!=null){const a=Ga(i);t[r]=()=>a}}},lf=(e,t)=>{const n=Ga(t);e.slots.default=()=>n},cf=(e,t,n)=>{for(const s in t)(n||!Ka(s))&&(e[s]=t[s])},Bg=(e,t,n)=>{const s=e.slots=nf();if(e.vnode.shapeFlag&32){const r=t.__;r&&Go(s,"__",r,!0);const i=t._;i?(cf(s,t,n),n&&Go(s,"_",i,!0)):af(t,s)}else t&&lf(e,t)},Ug=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,a=St;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:cf(r,t,n):(i=!t.$stable,af(t,r)),a=t}else t&&(lf(e,t),a={default:1});if(i)for(const l in r)!Ka(l)&&a[l]==null&&delete r[l]},we=tm;function $g(e){return jg(e)}function jg(e,t){const n=qi();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:l,createComment:u,setText:f,setElementText:d,parentNode:p,nextSibling:m,setScopeId:E=ze,insertStaticContent:V}=e,R=(_,v,C,O=null,L=null,M=null,Q=void 0,j=null,$=!!v.dynamicChildren)=>{if(_===v)return;_&&!Js(_,v)&&(O=N(_),Nt(_,L,M,!0),_=null),v.patchFlag===-2&&($=!1,v.dynamicChildren=null);const{type:B,ref:et,shapeFlag:K}=v;switch(B){case Qi:k(_,v,C,O);break;case Pn:W(_,v,C,O);break;case di:_==null&&U(v,C,O,Q);break;case ve:S(_,v,C,O,L,M,Q,j,$);break;default:K&1?ft(_,v,C,O,L,M,Q,j,$):K&6?b(_,v,C,O,L,M,Q,j,$):(K&64||K&128)&&B.process(_,v,C,O,L,M,Q,j,$,Z)}et!=null&&L?lr(et,_&&_.ref,M,v||_,!v):et==null&&_&&_.ref!=null&&lr(_.ref,null,M,_,!0)},k=(_,v,C,O)=>{if(_==null)s(v.el=l(v.children),C,O);else{const L=v.el=_.el;v.children!==_.children&&f(L,v.children)}},W=(_,v,C,O)=>{_==null?s(v.el=u(v.children||""),C,O):v.el=_.el},U=(_,v,C,O)=>{[_.el,_.anchor]=V(_.children,v,C,O,_.el,_.anchor)},H=({el:_,anchor:v},C,O)=>{let L;for(;_&&_!==v;)L=m(_),s(_,C,O),_=L;s(v,C,O)},z=({el:_,anchor:v})=>{let C;for(;_&&_!==v;)C=m(_),r(_),_=C;r(v)},ft=(_,v,C,O,L,M,Q,j,$)=>{v.type==="svg"?Q="svg":v.type==="math"&&(Q="mathml"),_==null?pt(v,C,O,L,M,Q,j,$):T(_,v,L,M,Q,j,$)},pt=(_,v,C,O,L,M,Q,j)=>{let $,B;const{props:et,shapeFlag:K,transition:tt,dirs:rt}=_;if($=_.el=a(_.type,M,et&&et.is,et),K&8?d($,_.children):K&16&&y(_.children,$,null,O,L,Vo(_,M),Q,j),rt&&jn(_,null,O,"created"),x($,_,_.scopeId,Q,O),et){for(const ct in et)ct!=="value"&&!ir(ct)&&i($,ct,null,et[ct],M,O);"value"in et&&i($,"value",null,et.value,M),(B=et.onVnodeBeforeMount)&&Le(B,O,_)}rt&&jn(_,null,O,"beforeMount");const nt=qg(L,tt);nt&&tt.beforeEnter($),s($,v,C),((B=et&&et.onVnodeMounted)||nt||rt)&&we(()=>{B&&Le(B,O,_),nt&&tt.enter($),rt&&jn(_,null,O,"mounted")},L)},x=(_,v,C,O,L)=>{if(C&&E(_,C),O)for(let M=0;M<O.length;M++)E(_,O[M]);if(L){let M=L.subTree;if(v===M||gf(M.type)&&(M.ssContent===v||M.ssFallback===v)){const Q=L.vnode;x(_,Q,Q.scopeId,Q.slotScopeIds,L.parent)}}},y=(_,v,C,O,L,M,Q,j,$=0)=>{for(let B=$;B<_.length;B++){const et=_[B]=j?En(_[B]):$e(_[B]);R(null,et,v,C,O,L,M,Q,j)}},T=(_,v,C,O,L,M,Q)=>{const j=v.el=_.el;let{patchFlag:$,dynamicChildren:B,dirs:et}=v;$|=_.patchFlag&16;const K=_.props||St,tt=v.props||St;let rt;if(C&&qn(C,!1),(rt=tt.onVnodeBeforeUpdate)&&Le(rt,C,v,_),et&&jn(v,_,C,"beforeUpdate"),C&&qn(C,!0),(K.innerHTML&&tt.innerHTML==null||K.textContent&&tt.textContent==null)&&d(j,""),B?A(_.dynamicChildren,B,j,C,O,Vo(v,L),M):Q||dt(_,v,j,null,C,O,Vo(v,L),M,!1),$>0){if($&16)I(j,K,tt,C,L);else if($&2&&K.class!==tt.class&&i(j,"class",null,tt.class,L),$&4&&i(j,"style",K.style,tt.style,L),$&8){const nt=v.dynamicProps;for(let ct=0;ct<nt.length;ct++){const mt=nt[ct],Qt=K[mt],Wt=tt[mt];(Wt!==Qt||mt==="value")&&i(j,mt,Qt,Wt,L,C)}}$&1&&_.children!==v.children&&d(j,v.children)}else!Q&&B==null&&I(j,K,tt,C,L);((rt=tt.onVnodeUpdated)||et)&&we(()=>{rt&&Le(rt,C,v,_),et&&jn(v,_,C,"updated")},O)},A=(_,v,C,O,L,M,Q)=>{for(let j=0;j<v.length;j++){const $=_[j],B=v[j],et=$.el&&($.type===ve||!Js($,B)||$.shapeFlag&198)?p($.el):C;R($,B,et,null,O,L,M,Q,!0)}},I=(_,v,C,O,L)=>{if(v!==C){if(v!==St)for(const M in v)!ir(M)&&!(M in C)&&i(_,M,v[M],null,L,O);for(const M in C){if(ir(M))continue;const Q=C[M],j=v[M];Q!==j&&M!=="value"&&i(_,M,j,Q,L,O)}"value"in C&&i(_,"value",v.value,C.value,L)}},S=(_,v,C,O,L,M,Q,j,$)=>{const B=v.el=_?_.el:l(""),et=v.anchor=_?_.anchor:l("");let{patchFlag:K,dynamicChildren:tt,slotScopeIds:rt}=v;rt&&(j=j?j.concat(rt):rt),_==null?(s(B,C,O),s(et,C,O),y(v.children||[],C,et,L,M,Q,j,$)):K>0&&K&64&&tt&&_.dynamicChildren?(A(_.dynamicChildren,tt,C,L,M,Q,j),(v.key!=null||L&&v===L.subTree)&&uf(_,v,!0)):dt(_,v,C,et,L,M,Q,j,$)},b=(_,v,C,O,L,M,Q,j,$)=>{v.slotScopeIds=j,_==null?v.shapeFlag&512?L.ctx.activate(v,C,O,Q,$):ue(v,C,O,L,M,Q,$):Ae(_,v,$)},ue=(_,v,C,O,L,M,Q)=>{const j=_.component=lm(_,O,L);if(Qh(_)&&(j.ctx.renderer=Z),cm(j,!1,Q),j.asyncDep){if(L&&L.registerDep(j,$t,Q),!_.el){const $=j.subTree=Dt(Pn);W(null,$,v,C)}}else $t(j,_,v,C,L,M,Q)},Ae=(_,v,C)=>{const O=v.component=_.component;if(Jg(_,v,C))if(O.asyncDep&&!O.asyncResolved){gt(O,v,C);return}else O.next=v,O.update();else v.el=_.el,O.vnode=v},$t=(_,v,C,O,L,M,Q)=>{const j=()=>{if(_.isMounted){let{next:K,bu:tt,u:rt,parent:nt,vnode:ct}=_;{const ee=hf(_);if(ee){K&&(K.el=ct.el,gt(_,K,Q)),ee.asyncDep.then(()=>{_.isUnmounted||j()});return}}let mt=K,Qt;qn(_,!1),K?(K.el=ct.el,gt(_,K,Q)):K=ct,tt&&ui(tt),(Qt=K.props&&K.props.onVnodeBeforeUpdate)&&Le(Qt,nt,K,ct),qn(_,!0);const Wt=wc(_),Ce=_.subTree;_.subTree=Wt,R(Ce,Wt,p(Ce.el),N(Ce),_,L,M),K.el=Wt.el,mt===null&&Zg(_,Wt.el),rt&&we(rt,L),(Qt=K.props&&K.props.onVnodeUpdated)&&we(()=>Le(Qt,nt,K,ct),L)}else{let K;const{el:tt,props:rt}=v,{bm:nt,m:ct,parent:mt,root:Qt,type:Wt}=_,Ce=cr(v);qn(_,!1),nt&&ui(nt),!Ce&&(K=rt&&rt.onVnodeBeforeMount)&&Le(K,mt,v),qn(_,!0);{Qt.ce&&Qt.ce._def.shadowRoot!==!1&&Qt.ce._injectChildStyle(Wt);const ee=_.subTree=wc(_);R(null,ee,C,O,_,L,M),v.el=ee.el}if(ct&&we(ct,L),!Ce&&(K=rt&&rt.onVnodeMounted)){const ee=v;we(()=>Le(K,mt,ee),L)}(v.shapeFlag&256||mt&&cr(mt.vnode)&&mt.vnode.shapeFlag&256)&&_.a&&we(_.a,L),_.isMounted=!0,v=C=O=null}};_.scope.on();const $=_.effect=new Th(j);_.scope.off();const B=_.update=$.run.bind($),et=_.job=$.runIfDirty.bind($);et.i=_,et.id=_.uid,$.scheduler=()=>Ha(et),qn(_,!0),B()},gt=(_,v,C)=>{v.component=_;const O=_.vnode.props;_.vnode=v,_.next=null,Mg(_,v.props,O,C),Ug(_,v.children,C),ln(),mc(_),cn()},dt=(_,v,C,O,L,M,Q,j,$=!1)=>{const B=_&&_.children,et=_?_.shapeFlag:0,K=v.children,{patchFlag:tt,shapeFlag:rt}=v;if(tt>0){if(tt&128){De(B,K,C,O,L,M,Q,j,$);return}else if(tt&256){be(B,K,C,O,L,M,Q,j,$);return}}rt&8?(et&16&&me(B,L,M),K!==B&&d(C,K)):et&16?rt&16?De(B,K,C,O,L,M,Q,j,$):me(B,L,M,!0):(et&8&&d(C,""),rt&16&&y(K,C,O,L,M,Q,j,$))},be=(_,v,C,O,L,M,Q,j,$)=>{_=_||fs,v=v||fs;const B=_.length,et=v.length,K=Math.min(B,et);let tt;for(tt=0;tt<K;tt++){const rt=v[tt]=$?En(v[tt]):$e(v[tt]);R(_[tt],rt,C,null,L,M,Q,j,$)}B>et?me(_,L,M,!0,!1,K):y(v,C,O,L,M,Q,j,$,K)},De=(_,v,C,O,L,M,Q,j,$)=>{let B=0;const et=v.length;let K=_.length-1,tt=et-1;for(;B<=K&&B<=tt;){const rt=_[B],nt=v[B]=$?En(v[B]):$e(v[B]);if(Js(rt,nt))R(rt,nt,C,null,L,M,Q,j,$);else break;B++}for(;B<=K&&B<=tt;){const rt=_[K],nt=v[tt]=$?En(v[tt]):$e(v[tt]);if(Js(rt,nt))R(rt,nt,C,null,L,M,Q,j,$);else break;K--,tt--}if(B>K){if(B<=tt){const rt=tt+1,nt=rt<et?v[rt].el:O;for(;B<=tt;)R(null,v[B]=$?En(v[B]):$e(v[B]),C,nt,L,M,Q,j,$),B++}}else if(B>tt)for(;B<=K;)Nt(_[B],L,M,!0),B++;else{const rt=B,nt=B,ct=new Map;for(B=nt;B<=tt;B++){const Yt=v[B]=$?En(v[B]):$e(v[B]);Yt.key!=null&&ct.set(Yt.key,B)}let mt,Qt=0;const Wt=tt-nt+1;let Ce=!1,ee=0;const pn=new Array(Wt);for(B=0;B<Wt;B++)pn[B]=0;for(B=rt;B<=K;B++){const Yt=_[B];if(Qt>=Wt){Nt(Yt,L,M,!0);continue}let Re;if(Yt.key!=null)Re=ct.get(Yt.key);else for(mt=nt;mt<=tt;mt++)if(pn[mt-nt]===0&&Js(Yt,v[mt])){Re=mt;break}Re===void 0?Nt(Yt,L,M,!0):(pn[Re-nt]=B+1,Re>=ee?ee=Re:Ce=!0,R(Yt,v[Re],C,null,L,M,Q,j,$),Qt++)}const Ls=Ce?Hg(pn):fs;for(mt=Ls.length-1,B=Wt-1;B>=0;B--){const Yt=nt+B,Re=v[Yt],Br=Yt+1<et?v[Yt+1].el:O;pn[B]===0?R(null,Re,C,Br,L,M,Q,j,$):Ce&&(mt<0||B!==Ls[mt]?Ie(Re,C,Br,2):mt--)}}},Ie=(_,v,C,O,L=null)=>{const{el:M,type:Q,transition:j,children:$,shapeFlag:B}=_;if(B&6){Ie(_.component.subTree,v,C,O);return}if(B&128){_.suspense.move(v,C,O);return}if(B&64){Q.move(_,v,C,Z);return}if(Q===ve){s(M,v,C);for(let K=0;K<$.length;K++)Ie($[K],v,C,O);s(_.anchor,v,C);return}if(Q===di){H(_,v,C);return}if(O!==2&&B&1&&j)if(O===0)j.beforeEnter(M),s(M,v,C),we(()=>j.enter(M),L);else{const{leave:K,delayLeave:tt,afterLeave:rt}=j,nt=()=>{_.ctx.isUnmounted?r(M):s(M,v,C)},ct=()=>{K(M,()=>{nt(),rt&&rt()})};tt?tt(M,nt,ct):ct()}else s(M,v,C)},Nt=(_,v,C,O=!1,L=!1)=>{const{type:M,props:Q,ref:j,children:$,dynamicChildren:B,shapeFlag:et,patchFlag:K,dirs:tt,cacheIndex:rt}=_;if(K===-2&&(L=!1),j!=null&&(ln(),lr(j,null,C,_,!0),cn()),rt!=null&&(v.renderCache[rt]=void 0),et&256){v.ctx.deactivate(_);return}const nt=et&1&&tt,ct=!cr(_);let mt;if(ct&&(mt=Q&&Q.onVnodeBeforeUnmount)&&Le(mt,v,_),et&6)Fe(_.component,C,O);else{if(et&128){_.suspense.unmount(C,O);return}nt&&jn(_,null,v,"beforeUnmount"),et&64?_.type.remove(_,v,C,Z,O):B&&!B.hasOnce&&(M!==ve||K>0&&K&64)?me(B,v,C,!1,!0):(M===ve&&K&384||!L&&et&16)&&me($,v,C),O&&Ot(_)}(ct&&(mt=Q&&Q.onVnodeUnmounted)||nt)&&we(()=>{mt&&Le(mt,v,_),nt&&jn(_,null,v,"unmounted")},C)},Ot=_=>{const{type:v,el:C,anchor:O,transition:L}=_;if(v===ve){dn(C,O);return}if(v===di){z(_);return}const M=()=>{r(C),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(_.shapeFlag&1&&L&&!L.persisted){const{leave:Q,delayLeave:j}=L,$=()=>Q(C,M);j?j(_.el,M,$):$()}else M()},dn=(_,v)=>{let C;for(;_!==v;)C=m(_),r(_),_=C;r(v)},Fe=(_,v,C)=>{const{bum:O,scope:L,job:M,subTree:Q,um:j,m:$,a:B,parent:et,slots:{__:K}}=_;Tc($),Tc(B),O&&ui(O),et&&ot(K)&&K.forEach(tt=>{et.renderCache[tt]=void 0}),L.stop(),M&&(M.flags|=8,Nt(Q,_,v,C)),j&&we(j,v),we(()=>{_.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},me=(_,v,C,O=!1,L=!1,M=0)=>{for(let Q=M;Q<_.length;Q++)Nt(_[Q],v,C,O,L)},N=_=>{if(_.shapeFlag&6)return N(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const v=m(_.anchor||_.el),C=v&&v[dg];return C?m(C):v};let X=!1;const Y=(_,v,C)=>{_==null?v._vnode&&Nt(v._vnode,null,null,!0):R(v._vnode||null,_,v,null,null,null,C),v._vnode=_,X||(X=!0,mc(),qh(),X=!1)},Z={p:R,um:Nt,m:Ie,r:Ot,mt:ue,mc:y,pc:dt,pbc:A,n:N,o:e};return{render:Y,hydrate:void 0,createApp:Ng(Y)}}function Vo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function qg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function uf(e,t,n=!1){const s=e.children,r=t.children;if(ot(s)&&ot(r))for(let i=0;i<s.length;i++){const a=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=En(r[i]),l.el=a.el),!n&&l.patchFlag!==-2&&uf(a,l)),l.type===Qi&&(l.el=a.el),l.type===Pn&&!l.el&&(l.el=a.el)}}function Hg(e){const t=e.slice(),n=[0];let s,r,i,a,l;const u=e.length;for(s=0;s<u;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<f?i=l+1:a=l;f<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function hf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:hf(t)}function Tc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const zg=Symbol.for("v-scx"),Kg=()=>an(zg);function fi(e,t,n){return ff(e,t,n)}function ff(e,t,n=St){const{immediate:s,deep:r,flush:i,once:a}=n,l=ce({},n),u=t&&s||!t&&i!=="post";let f;if(xr){if(i==="sync"){const E=Kg();f=E.__watcherHandles||(E.__watcherHandles=[])}else if(!u){const E=()=>{};return E.stop=ze,E.resume=ze,E.pause=ze,E}}const d=pe;l.call=(E,V,R)=>Ge(E,d,V,R);let p=!1;i==="post"?l.scheduler=E=>{we(E,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(E,V)=>{V?E():Ha(E)}),l.augmentJob=E=>{t&&(E.flags|=4),p&&(E.flags|=2,d&&(E.id=d.uid,E.i=d))};const m=lg(e,t,l);return xr&&(f?f.push(m):u&&m()),m}function Gg(e,t,n){const s=this.proxy,r=qt(e)?e.includes(".")?df(s,e):()=>s[e]:e.bind(s,s);let i;ut(t)?i=t:(i=t.handler,n=t);const a=Nr(this),l=ff(r,i.bind(s),n);return a(),l}function df(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Qg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Rn(t)}Modifiers`]||e[`${Jn(t)}Modifiers`];function Wg(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||St;let r=n;const i=t.startsWith("update:"),a=i&&Qg(s,t.slice(7));a&&(a.trim&&(r=n.map(d=>qt(d)?d.trim():d)),a.number&&(r=n.map(Qo)));let l,u=s[l=Ao(t)]||s[l=Ao(Rn(t))];!u&&i&&(u=s[l=Ao(Jn(t))]),u&&Ge(u,e,6,r);const f=s[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ge(f,e,6,r)}}function pf(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let a={},l=!1;if(!ut(e)){const u=f=>{const d=pf(f,t,!0);d&&(l=!0,ce(a,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(kt(e)&&s.set(e,null),null):(ot(i)?i.forEach(u=>a[u]=null):ce(a,i),kt(e)&&s.set(e,a),a)}function Gi(e,t){return!e||!Ui(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ct(e,t[0].toLowerCase()+t.slice(1))||Ct(e,Jn(t))||Ct(e,t))}function wc(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:l,emit:u,render:f,renderCache:d,props:p,data:m,setupState:E,ctx:V,inheritAttrs:R}=e,k=xi(e);let W,U;try{if(n.shapeFlag&4){const z=r||s,ft=z;W=$e(f.call(ft,z,d,p,E,m,V)),U=l}else{const z=t;W=$e(z.length>1?z(p,{attrs:l,slots:a,emit:u}):z(p,null)),U=t.props?l:Yg(l)}}catch(z){fr.length=0,zi(z,e,1),W=Dt(Pn)}let H=W;if(U&&R!==!1){const z=Object.keys(U),{shapeFlag:ft}=H;z.length&&ft&7&&(i&&z.some(ka)&&(U=Xg(U,i)),H=Ts(H,U,!1,!0))}return n.dirs&&(H=Ts(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&za(H,n.transition),W=H,xi(k),W}const Yg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ui(n))&&((t||(t={}))[n]=e[n]);return t},Xg=(e,t)=>{const n={};for(const s in e)(!ka(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Jg(e,t,n){const{props:s,children:r,component:i}=e,{props:a,children:l,patchFlag:u}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?xc(s,a,f):!!a;if(u&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const m=d[p];if(a[m]!==s[m]&&!Gi(f,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?xc(s,a,f):!0:!!a;return!1}function xc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Gi(n,i))return!0}return!1}function Zg({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const gf=e=>e.__isSuspense;function tm(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):hg(e)}const ve=Symbol.for("v-fgt"),Qi=Symbol.for("v-txt"),Pn=Symbol.for("v-cmt"),di=Symbol.for("v-stc"),fr=[];let xe=null;function vt(e=!1){fr.push(xe=e?null:[])}function em(){fr.pop(),xe=fr[fr.length-1]||null}let wr=1;function Ac(e,t=!1){wr+=e,e<0&&xe&&t&&(xe.hasOnce=!0)}function mf(e){return e.dynamicChildren=wr>0?xe||fs:null,em(),wr>0&&xe&&xe.push(e),e}function bt(e,t,n,s,r,i){return mf(w(e,t,n,s,r,i,!0))}function nm(e,t,n,s,r){return mf(Dt(e,t,n,s,r,!0))}function Ii(e){return e?e.__v_isVNode===!0:!1}function Js(e,t){return e.type===t.type&&e.key===t.key}const _f=({key:e})=>e??null,pi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||le(e)||ut(e)?{i:Pe,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,s=0,r=null,i=e===ve?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_f(t),ref:t&&pi(t),scopeId:zh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Pe};return l?(Qa(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=qt(n)?8:16),wr>0&&!a&&xe&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&xe.push(u),u}const Dt=sm;function sm(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Ig)&&(e=Pn),Ii(e)){const l=Ts(e,t,!0);return n&&Qa(l,n),wr>0&&!i&&xe&&(l.shapeFlag&6?xe[xe.indexOf(e)]=l:xe.push(l)),l.patchFlag=-2,l}if(dm(e)&&(e=e.__vccOpts),t){t=rm(t);let{class:l,style:u}=t;l&&!qt(l)&&(t.class=je(l)),kt(u)&&(qa(u)&&!ot(u)&&(u=ce({},u)),t.style=Ma(u))}const a=qt(e)?1:gf(e)?128:pg(e)?64:kt(e)?4:ut(e)?2:0;return w(e,t,n,s,r,a,i,!0)}function rm(e){return e?qa(e)||sf(e)?ce({},e):e:null}function Ts(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:l,transition:u}=e,f=t?im(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&_f(f),ref:t&&t.ref?n&&i?ot(i)?i.concat(pi(t)):[i,pi(t)]:pi(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ts(e.ssContent),ssFallback:e.ssFallback&&Ts(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&s&&za(d,u.clone(d)),d}function qe(e=" ",t=0){return Dt(Qi,null,e,t)}function ws(e,t){const n=Dt(di,null,e);return n.staticCount=t,n}function Zs(e="",t=!1){return t?(vt(),nm(Pn,null,e)):Dt(Pn,null,e)}function $e(e){return e==null||typeof e=="boolean"?Dt(Pn):ot(e)?Dt(ve,null,e.slice()):Ii(e)?En(e):Dt(Qi,null,String(e))}function En(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ts(e)}function Qa(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ot(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Qa(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!sf(t)?t._ctx=Pe:r===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ut(t)?(t={default:t,_ctx:Pe},n=32):(t=String(t),s&64?(n=16,t=[qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function im(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=je([t.class,s.class]));else if(r==="style")t.style=Ma([t.style,s.style]);else if(Ui(r)){const i=t[r],a=s[r];a&&i!==a&&!(ot(i)&&i.includes(a))&&(t[r]=i?[].concat(i,a):a)}else r!==""&&(t[r]=s[r])}return t}function Le(e,t,n,s=null){Ge(e,t,7,[n,s])}const om=tf();let am=0;function lm(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||om,i={uid:am++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Op(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:of(s,r),emitsOptions:pf(s,r),emit:null,emitted:null,propsDefaults:St,inheritAttrs:s.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Wg.bind(null,i),e.ce&&e.ce(i),i}let pe=null,Ci,sa;{const e=qi(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Ci=t("__VUE_INSTANCE_SETTERS__",n=>pe=n),sa=t("__VUE_SSR_SETTERS__",n=>xr=n)}const Nr=e=>{const t=pe;return Ci(e),e.scope.on(),()=>{e.scope.off(),Ci(t)}},Ic=()=>{pe&&pe.scope.off(),Ci(null)};function yf(e){return e.vnode.shapeFlag&4}let xr=!1;function cm(e,t=!1,n=!1){t&&sa(t);const{props:s,children:r}=e.vnode,i=yf(e);Og(e,s,i,t),Bg(e,r,n||t);const a=i?um(e,t):void 0;return t&&sa(!1),a}function um(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cg);const{setup:s}=n;if(s){ln();const r=e.setupContext=s.length>1?fm(e):null,i=Nr(e),a=kr(s,e,0,[e.props,r]),l=gh(a);if(cn(),i(),(l||e.sp)&&!cr(e)&&Gh(e),l){if(a.then(Ic,Ic),t)return a.then(u=>{Cc(e,u)}).catch(u=>{zi(u,e,0)});e.asyncDep=a}else Cc(e,a)}else vf(e)}function Cc(e,t,n){ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:kt(t)&&(e.setupState=Bh(t)),vf(e)}function vf(e,t,n){const s=e.type;e.render||(e.render=s.render||ze);{const r=Nr(e);ln();try{Rg(e)}finally{cn(),r()}}}const hm={get(e,t){return oe(e,"get",""),e[t]}};function fm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,hm),slots:e.slots,emit:e.emit,expose:t}}function Wi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Bh(eg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hr)return hr[n](e)},has(t,n){return n in t||n in hr}})):e.proxy}function dm(e){return ut(e)&&"__vccOpts"in e}const Se=(e,t)=>og(e,t,xr);function Ef(e,t,n){const s=arguments.length;return s===2?kt(t)&&!ot(t)?Ii(t)?Dt(e,null,[t]):Dt(e,t):Dt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ii(n)&&(n=[n]),Dt(e,t,n))}const pm="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ra;const Rc=typeof window<"u"&&window.trustedTypes;if(Rc)try{ra=Rc.createPolicy("vue",{createHTML:e=>e})}catch{}const bf=ra?e=>ra.createHTML(e):e=>e,gm="http://www.w3.org/2000/svg",mm="http://www.w3.org/1998/Math/MathML",en=typeof document<"u"?document:null,Sc=en&&en.createElement("template"),_m={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?en.createElementNS(gm,e):t==="mathml"?en.createElementNS(mm,e):n?en.createElement(e,{is:n}):en.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>en.createTextNode(e),createComment:e=>en.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>en.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Sc.innerHTML=bf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Sc.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ym=Symbol("_vtc");function vm(e,t,n){const s=e[ym];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Pc=Symbol("_vod"),Em=Symbol("_vsh"),bm=Symbol(""),Tm=/(^|;)\s*display\s*:/;function wm(e,t,n){const s=e.style,r=qt(n);let i=!1;if(n&&!r){if(t)if(qt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&gi(s,l,"")}else for(const a in t)n[a]==null&&gi(s,a,"");for(const a in n)a==="display"&&(i=!0),gi(s,a,n[a])}else if(r){if(t!==n){const a=s[bm];a&&(n+=";"+a),s.cssText=n,i=Tm.test(n)}}else t&&e.removeAttribute("style");Pc in e&&(e[Pc]=i?s.display:"",e[Em]&&(s.display="none"))}const Vc=/\s*!important$/;function gi(e,t,n){if(ot(n))n.forEach(s=>gi(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=xm(e,t);Vc.test(n)?e.setProperty(Jn(s),n.replace(Vc,""),"important"):e[s]=n}}const Dc=["Webkit","Moz","ms"],Do={};function xm(e,t){const n=Do[t];if(n)return n;let s=Rn(t);if(s!=="filter"&&s in e)return Do[t]=s;s=yh(s);for(let r=0;r<Dc.length;r++){const i=Dc[r]+s;if(i in e)return Do[t]=i}return t}const kc="http://www.w3.org/1999/xlink";function Nc(e,t,n,s,r,i=Np(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(kc,t.slice(6,t.length)):e.setAttributeNS(kc,t,n):n==null||i&&!vh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Fn(n)?String(n):n)}function Oc(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?bf(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=vh(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function os(e,t,n,s){e.addEventListener(t,n,s)}function Am(e,t,n,s){e.removeEventListener(t,n,s)}const Mc=Symbol("_vei");function Im(e,t,n,s,r=null){const i=e[Mc]||(e[Mc]={}),a=i[t];if(s&&a)a.value=s;else{const[l,u]=Cm(t);if(s){const f=i[t]=Pm(s,r);os(e,l,f,u)}else a&&(Am(e,l,a,u),i[t]=void 0)}}const Fc=/(?:Once|Passive|Capture)$/;function Cm(e){let t;if(Fc.test(e)){t={};let s;for(;s=e.match(Fc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jn(e.slice(2)),t]}let ko=0;const Rm=Promise.resolve(),Sm=()=>ko||(Rm.then(()=>ko=0),ko=Date.now());function Pm(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ge(Vm(s,n.value),t,5,[s])};return n.value=e,n.attached=Sm(),n}function Vm(e,t){if(ot(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Lc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Dm=(e,t,n,s,r,i)=>{const a=r==="svg";t==="class"?vm(e,s,a):t==="style"?wm(e,n,s):Ui(t)?ka(t)||Im(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):km(e,t,s,a))?(Oc(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nc(e,t,s,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qt(s))?Oc(e,Rn(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Nc(e,t,s,a))};function km(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lc(t)&&ut(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Lc(t)&&qt(n)?!1:t in e}const Bc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ot(t)?n=>ui(t,n):t};function Nm(e){e.target.composing=!0}function Uc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const No=Symbol("_assign"),sn={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[No]=Bc(r);const i=s||r.props&&r.props.type==="number";os(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Qo(l)),e[No](l)}),n&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",Nm),os(e,"compositionend",Uc),os(e,"change",Uc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(e[No]=Bc(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Qo(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===u)||(e.value=u))}},Om=["ctrl","shift","alt","meta"],Mm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Om.some(n=>e[`${n}Key`]&&!t.includes(n))},Wa=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...i)=>{for(let a=0;a<t.length;a++){const l=Mm[t[a]];if(l&&l(r,t))return}return e(r,...i)})},Fm=ce({patchProp:Dm},_m);let $c;function Lm(){return $c||($c=$g(Fm))}const Bm=(...e)=>{const t=Lm().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=$m(s);if(!r)return;const i=t._component;!ut(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,Um(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function Um(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $m(e){return qt(e)?document.querySelector(e):e}const jm="/assets/red-panda-logo-black-DpGi6YeW.svg",qm={class:"site-container"},Hm={__name:"App",setup(e){return(t,n)=>(vt(),bt("div",qm,n[0]||(n[0]=[w("header",{class:"site-header"},[w("router-link",{to:"/",class:"cursor-pointer"},[w("img",{src:jm,alt:" Red Panda",class:"h-10"})]),w("nav",null,[w("ul",{class:"flex items-center space-x-8"},[w("li",null,[w("router-link",{to:"/",class:"nav-link"},"")]),w("li",{class:"relative dropdown"},[w("div",{class:"nav-link flex items-center cursor-default"},[qe("   "),w("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])]),w("ul",{class:"dropdown-menu"},[w("li",null,[w("router-link",{to:"/team",class:"dropdown-item"},"")]),w("li",null,[w("router-link",{to:"/news",class:"dropdown-item"},"")]),w("li",null,[w("router-link",{to:"/vacancies",class:"dropdown-item"},"")]),w("li",null,[w("router-link",{to:"/equipment",class:"dropdown-item"},"")])])]),w("li",null,[w("router-link",{to:"/gallery",class:"nav-link"}," ")]),w("li",null,[w("router-link",{to:"/promotions",class:"nav-link"},"")]),w("li",null,[w("router-link",{to:"/shop",class:"nav-link"},"")]),w("li",null,[w("router-link",{to:"/preparation",class:"nav-link"},"  ")])])])],-1),w("main",null,[w("router-view")],-1)])))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const as=typeof document<"u";function Tf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Tf(e.default)}const At=Object.assign;function Oo(e,t){const n={};for(const s in t){const r=t[s];n[s]=Me(r)?r.map(e):e(r)}return n}const dr=()=>{},Me=Array.isArray,wf=/#/g,Km=/&/g,Gm=/\//g,Qm=/=/g,Wm=/\?/g,xf=/\+/g,Ym=/%5B/g,Xm=/%5D/g,Af=/%5E/g,Jm=/%60/g,If=/%7B/g,Zm=/%7C/g,Cf=/%7D/g,t_=/%20/g;function Ya(e){return encodeURI(""+e).replace(Zm,"|").replace(Ym,"[").replace(Xm,"]")}function e_(e){return Ya(e).replace(If,"{").replace(Cf,"}").replace(Af,"^")}function ia(e){return Ya(e).replace(xf,"%2B").replace(t_,"+").replace(wf,"%23").replace(Km,"%26").replace(Jm,"`").replace(If,"{").replace(Cf,"}").replace(Af,"^")}function n_(e){return ia(e).replace(Qm,"%3D")}function s_(e){return Ya(e).replace(wf,"%23").replace(Wm,"%3F")}function r_(e){return e==null?"":s_(e).replace(Gm,"%2F")}function Ar(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const i_=/\/$/,o_=e=>e.replace(i_,"");function Mo(e,t,n="/"){let s,r={},i="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(s=t.slice(0,u),i=t.slice(u+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=u_(s??t,n),{fullPath:s+(i&&"?")+i+a,path:s,query:r,hash:Ar(a)}}function a_(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function l_(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&xs(t.matched[s],n.matched[r])&&Rf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function xs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Rf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!c_(e[n],t[n]))return!1;return!0}function c_(e,t){return Me(e)?qc(e,t):Me(t)?qc(t,e):e===t}function qc(e,t){return Me(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function u_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(a).join("/")}const yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ir;(function(e){e.pop="pop",e.push="push"})(Ir||(Ir={}));var pr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(pr||(pr={}));function h_(e){if(!e)if(as){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),o_(e)}const f_=/^[^#]+#/;function d_(e,t){return e.replace(f_,"#")+t}function p_(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Yi=()=>({left:window.scrollX,top:window.scrollY});function g_(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=p_(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Hc(e,t){return(history.state?history.state.position-t:-1)+e}const oa=new Map;function m_(e,t){oa.set(e,t)}function __(e){const t=oa.get(e);return oa.delete(e),t}let y_=()=>location.protocol+"//"+location.host;function Sf(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let l=r.includes(e.slice(i))?e.slice(i).length:1,u=r.slice(l);return u[0]!=="/"&&(u="/"+u),jc(u,"")}return jc(n,e)+s+r}function v_(e,t,n,s){let r=[],i=[],a=null;const l=({state:m})=>{const E=Sf(e,location),V=n.value,R=t.value;let k=0;if(m){if(n.value=E,t.value=m,a&&a===V){a=null;return}k=R?m.position-R.position:0}else s(E);r.forEach(W=>{W(n.value,V,{delta:k,type:Ir.pop,direction:k?k>0?pr.forward:pr.back:pr.unknown})})};function u(){a=n.value}function f(m){r.push(m);const E=()=>{const V=r.indexOf(m);V>-1&&r.splice(V,1)};return i.push(E),E}function d(){const{history:m}=window;m.state&&m.replaceState(At({},m.state,{scroll:Yi()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:f,destroy:p}}function zc(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Yi():null}}function E_(e){const{history:t,location:n}=window,s={value:Sf(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,f,d){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+u:y_()+e+u;try{t[d?"replaceState":"pushState"](f,"",m),r.value=f}catch(E){console.error(E),n[d?"replace":"assign"](m)}}function a(u,f){const d=At({},t.state,zc(r.value.back,u,r.value.forward,!0),f,{position:r.value.position});i(u,d,!0),s.value=u}function l(u,f){const d=At({},r.value,t.state,{forward:u,scroll:Yi()});i(d.current,d,!0);const p=At({},zc(s.value,u,null),{position:d.position+1},f);i(u,p,!1),s.value=u}return{location:s,state:r,push:l,replace:a}}function b_(e){e=h_(e);const t=E_(e),n=v_(e,t.state,t.location,t.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const r=At({location:"",base:e,go:s,createHref:d_.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function T_(e){return typeof e=="string"||e&&typeof e=="object"}function Pf(e){return typeof e=="string"||typeof e=="symbol"}const Vf=Symbol("");var Kc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Kc||(Kc={}));function As(e,t){return At(new Error,{type:e,[Vf]:!0},t)}function tn(e,t){return e instanceof Error&&Vf in e&&(t==null||!!(e.type&t))}const Gc="[^/]+?",w_={sensitive:!1,strict:!1,start:!0,end:!0},x_=/[.+*?^${}()[\]/\\]/g;function A_(e,t){const n=At({},w_,t),s=[];let r=n.start?"^":"";const i=[];for(const f of e){const d=f.length?[]:[90];n.strict&&!f.length&&(r+="/");for(let p=0;p<f.length;p++){const m=f[p];let E=40+(n.sensitive?.25:0);if(m.type===0)p||(r+="/"),r+=m.value.replace(x_,"\\$&"),E+=40;else if(m.type===1){const{value:V,repeatable:R,optional:k,regexp:W}=m;i.push({name:V,repeatable:R,optional:k});const U=W||Gc;if(U!==Gc){E+=10;try{new RegExp(`(${U})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${V}" (${U}): `+z.message)}}let H=R?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;p||(H=k&&f.length<2?`(?:/${H})`:"/"+H),k&&(H+="?"),r+=H,E+=20,k&&(E+=-8),R&&(E+=-20),U===".*"&&(E+=-50)}d.push(E)}s.push(d)}if(n.strict&&n.end){const f=s.length-1;s[f][s[f].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(f){const d=f.match(a),p={};if(!d)return null;for(let m=1;m<d.length;m++){const E=d[m]||"",V=i[m-1];p[V.name]=E&&V.repeatable?E.split("/"):E}return p}function u(f){let d="",p=!1;for(const m of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const E of m)if(E.type===0)d+=E.value;else if(E.type===1){const{value:V,repeatable:R,optional:k}=E,W=V in f?f[V]:"";if(Me(W)&&!R)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const U=Me(W)?W.join("/"):W;if(!U)if(k)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${V}"`);d+=U}}return d||"/"}return{re:a,score:s,keys:i,parse:l,stringify:u}}function I_(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Df(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=I_(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Qc(s))return 1;if(Qc(r))return-1}return r.length-s.length}function Qc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const C_={type:0,value:""},R_=/[a-zA-Z0-9_]/;function S_(e){if(!e)return[[]];if(e==="/")return[[C_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(E){throw new Error(`ERR (${n})/"${f}": ${E}`)}let n=0,s=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let l=0,u,f="",d="";function p(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(f&&p(),a()):u===":"?(p(),n=1):m();break;case 4:m(),n=s;break;case 1:u==="("?n=2:R_.test(u)?m():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),p(),a(),r}function P_(e,t,n){const s=A_(S_(e.path),n),r=At(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function V_(e,t){const n=[],s=new Map;t=Jc({strict:!1,end:!0,sensitive:!1},t);function r(p){return s.get(p)}function i(p,m,E){const V=!E,R=Yc(p);R.aliasOf=E&&E.record;const k=Jc(t,p),W=[R];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const ft of z)W.push(Yc(At({},R,{components:E?E.record.components:R.components,path:ft,aliasOf:E?E.record:R})))}let U,H;for(const z of W){const{path:ft}=z;if(m&&ft[0]!=="/"){const pt=m.record.path,x=pt[pt.length-1]==="/"?"":"/";z.path=m.record.path+(ft&&x+ft)}if(U=P_(z,m,k),E?E.alias.push(U):(H=H||U,H!==U&&H.alias.push(U),V&&p.name&&!Xc(U)&&a(p.name)),kf(U)&&u(U),R.children){const pt=R.children;for(let x=0;x<pt.length;x++)i(pt[x],U,E&&E.children[x])}E=E||U}return H?()=>{a(H)}:dr}function a(p){if(Pf(p)){const m=s.get(p);m&&(s.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&s.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function u(p){const m=N_(p,n);n.splice(m,0,p),p.record.name&&!Xc(p)&&s.set(p.record.name,p)}function f(p,m){let E,V={},R,k;if("name"in p&&p.name){if(E=s.get(p.name),!E)throw As(1,{location:p});k=E.record.name,V=At(Wc(m.params,E.keys.filter(H=>!H.optional).concat(E.parent?E.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),p.params&&Wc(p.params,E.keys.map(H=>H.name))),R=E.stringify(V)}else if(p.path!=null)R=p.path,E=n.find(H=>H.re.test(R)),E&&(V=E.parse(R),k=E.record.name);else{if(E=m.name?s.get(m.name):n.find(H=>H.re.test(m.path)),!E)throw As(1,{location:p,currentLocation:m});k=E.record.name,V=At({},m.params,p.params),R=E.stringify(V)}const W=[];let U=E;for(;U;)W.unshift(U.record),U=U.parent;return{name:k,path:R,params:V,matched:W,meta:k_(W)}}e.forEach(p=>i(p));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:f,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function Wc(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Yc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:D_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function D_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Xc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function k_(e){return e.reduce((t,n)=>At(t,n.meta),{})}function Jc(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function N_(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;Df(e,t[i])<0?s=i:n=i+1}const r=O_(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function O_(e){let t=e;for(;t=t.parent;)if(kf(t)&&Df(e,t)===0)return t}function kf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function M_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(xf," "),a=i.indexOf("="),l=Ar(a<0?i:i.slice(0,a)),u=a<0?null:Ar(i.slice(a+1));if(l in t){let f=t[l];Me(f)||(f=t[l]=[f]),f.push(u)}else t[l]=u}return t}function Zc(e){let t="";for(let n in e){const s=e[n];if(n=n_(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Me(s)?s.map(i=>i&&ia(i)):[s&&ia(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function F_(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Me(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const L_=Symbol(""),tu=Symbol(""),Xa=Symbol(""),Nf=Symbol(""),aa=Symbol("");function tr(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function bn(e,t,n,s,r,i=a=>a()){const a=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const f=m=>{m===!1?u(As(4,{from:n,to:t})):m instanceof Error?u(m):T_(m)?u(As(2,{from:t,to:m})):(a&&s.enterCallbacks[r]===a&&typeof m=="function"&&a.push(m),l())},d=i(()=>e.call(s&&s.instances[r],t,n,f));let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>u(m))})}function Fo(e,t,n,s,r=i=>i()){const i=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Tf(u)){const d=(u.__vccOpts||u)[t];d&&i.push(bn(d,n,s,a,l,r))}else{let f=u();i.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=zm(d)?d.default:d;a.mods[l]=d,a.components[l]=p;const E=(p.__vccOpts||p)[t];return E&&bn(E,n,s,a,l,r)()}))}}return i}function eu(e){const t=an(Xa),n=an(Nf),s=Se(()=>{const u=gs(e.to);return t.resolve(u)}),r=Se(()=>{const{matched:u}=s.value,{length:f}=u,d=u[f-1],p=n.matched;if(!d||!p.length)return-1;const m=p.findIndex(xs.bind(null,d));if(m>-1)return m;const E=nu(u[f-2]);return f>1&&nu(d)===E&&p[p.length-1].path!==E?p.findIndex(xs.bind(null,u[f-2])):m}),i=Se(()=>r.value>-1&&q_(n.params,s.value.params)),a=Se(()=>r.value>-1&&r.value===n.matched.length-1&&Rf(n.params,s.value.params));function l(u={}){if(j_(u)){const f=t[gs(e.replace)?"replace":"push"](gs(e.to)).catch(dr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:s,href:Se(()=>s.value.href),isActive:i,isExactActive:a,navigate:l}}function B_(e){return e.length===1?e[0]:e}const U_=Kh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:eu,setup(e,{slots:t}){const n=Yn(eu(e)),{options:s}=an(Xa),r=Se(()=>({[su(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[su(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&B_(t.default(n));return e.custom?i:Ef("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),$_=U_;function j_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function q_(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Me(r)||r.length!==s.length||s.some((i,a)=>i!==r[a]))return!1}return!0}function nu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const su=(e,t,n)=>e??t??n,H_=Kh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=an(aa),r=Se(()=>e.route||s.value),i=an(tu,0),a=Se(()=>{let f=gs(i);const{matched:d}=r.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),l=Se(()=>r.value.matched[a.value]);hi(tu,Se(()=>a.value+1)),hi(L_,l),hi(aa,r);const u=Oe();return fi(()=>[u.value,l.value,e.name],([f,d,p],[m,E,V])=>{d&&(d.instances[p]=f,E&&E!==d&&f&&f===m&&(d.leaveGuards.size||(d.leaveGuards=E.leaveGuards),d.updateGuards.size||(d.updateGuards=E.updateGuards))),f&&d&&(!E||!xs(d,E)||!m)&&(d.enterCallbacks[p]||[]).forEach(R=>R(f))},{flush:"post"}),()=>{const f=r.value,d=e.name,p=l.value,m=p&&p.components[d];if(!m)return ru(n.default,{Component:m,route:f});const E=p.props[d],V=E?E===!0?f.params:typeof E=="function"?E(f):E:null,k=Ef(m,At({},V,t,{onVnodeUnmounted:W=>{W.component.isUnmounted&&(p.instances[d]=null)},ref:u}));return ru(n.default,{Component:k,route:f})||k}}});function ru(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const z_=H_;function K_(e){const t=V_(e.routes,e),n=e.parseQuery||M_,s=e.stringifyQuery||Zc,r=e.history,i=tr(),a=tr(),l=tr(),u=ng(yn);let f=yn;as&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Oo.bind(null,N=>""+N),p=Oo.bind(null,r_),m=Oo.bind(null,Ar);function E(N,X){let Y,Z;return Pf(N)?(Y=t.getRecordMatcher(N),Z=X):Z=N,t.addRoute(Z,Y)}function V(N){const X=t.getRecordMatcher(N);X&&t.removeRoute(X)}function R(){return t.getRoutes().map(N=>N.record)}function k(N){return!!t.getRecordMatcher(N)}function W(N,X){if(X=At({},X||u.value),typeof N=="string"){const C=Mo(n,N,X.path),O=t.resolve({path:C.path},X),L=r.createHref(C.fullPath);return At(C,O,{params:m(O.params),hash:Ar(C.hash),redirectedFrom:void 0,href:L})}let Y;if(N.path!=null)Y=At({},N,{path:Mo(n,N.path,X.path).path});else{const C=At({},N.params);for(const O in C)C[O]==null&&delete C[O];Y=At({},N,{params:p(C)}),X.params=p(X.params)}const Z=t.resolve(Y,X),wt=N.hash||"";Z.params=d(m(Z.params));const _=a_(s,At({},N,{hash:e_(wt),path:Z.path})),v=r.createHref(_);return At({fullPath:_,hash:wt,query:s===Zc?F_(N.query):N.query||{}},Z,{redirectedFrom:void 0,href:v})}function U(N){return typeof N=="string"?Mo(n,N,u.value.path):At({},N)}function H(N,X){if(f!==N)return As(8,{from:X,to:N})}function z(N){return x(N)}function ft(N){return z(At(U(N),{replace:!0}))}function pt(N){const X=N.matched[N.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let Z=typeof Y=="function"?Y(N):Y;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=U(Z):{path:Z},Z.params={}),At({query:N.query,hash:N.hash,params:Z.path!=null?{}:N.params},Z)}}function x(N,X){const Y=f=W(N),Z=u.value,wt=N.state,_=N.force,v=N.replace===!0,C=pt(Y);if(C)return x(At(U(C),{state:typeof C=="object"?At({},wt,C.state):wt,force:_,replace:v}),X||Y);const O=Y;O.redirectedFrom=X;let L;return!_&&l_(s,Z,Y)&&(L=As(16,{to:O,from:Z}),Ie(Z,Z,!0,!1)),(L?Promise.resolve(L):A(O,Z)).catch(M=>tn(M)?tn(M,2)?M:De(M):dt(M,O,Z)).then(M=>{if(M){if(tn(M,2))return x(At({replace:v},U(M.to),{state:typeof M.to=="object"?At({},wt,M.to.state):wt,force:_}),X||O)}else M=S(O,Z,!0,v,wt);return I(O,Z,M),M})}function y(N,X){const Y=H(N,X);return Y?Promise.reject(Y):Promise.resolve()}function T(N){const X=dn.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(N):N()}function A(N,X){let Y;const[Z,wt,_]=G_(N,X);Y=Fo(Z.reverse(),"beforeRouteLeave",N,X);for(const C of Z)C.leaveGuards.forEach(O=>{Y.push(bn(O,N,X))});const v=y.bind(null,N,X);return Y.push(v),me(Y).then(()=>{Y=[];for(const C of i.list())Y.push(bn(C,N,X));return Y.push(v),me(Y)}).then(()=>{Y=Fo(wt,"beforeRouteUpdate",N,X);for(const C of wt)C.updateGuards.forEach(O=>{Y.push(bn(O,N,X))});return Y.push(v),me(Y)}).then(()=>{Y=[];for(const C of _)if(C.beforeEnter)if(Me(C.beforeEnter))for(const O of C.beforeEnter)Y.push(bn(O,N,X));else Y.push(bn(C.beforeEnter,N,X));return Y.push(v),me(Y)}).then(()=>(N.matched.forEach(C=>C.enterCallbacks={}),Y=Fo(_,"beforeRouteEnter",N,X,T),Y.push(v),me(Y))).then(()=>{Y=[];for(const C of a.list())Y.push(bn(C,N,X));return Y.push(v),me(Y)}).catch(C=>tn(C,8)?C:Promise.reject(C))}function I(N,X,Y){l.list().forEach(Z=>T(()=>Z(N,X,Y)))}function S(N,X,Y,Z,wt){const _=H(N,X);if(_)return _;const v=X===yn,C=as?history.state:{};Y&&(Z||v?r.replace(N.fullPath,At({scroll:v&&C&&C.scroll},wt)):r.push(N.fullPath,wt)),u.value=N,Ie(N,X,Y,v),De()}let b;function ue(){b||(b=r.listen((N,X,Y)=>{if(!Fe.listening)return;const Z=W(N),wt=pt(Z);if(wt){x(At(wt,{replace:!0,force:!0}),Z).catch(dr);return}f=Z;const _=u.value;as&&m_(Hc(_.fullPath,Y.delta),Yi()),A(Z,_).catch(v=>tn(v,12)?v:tn(v,2)?(x(At(U(v.to),{force:!0}),Z).then(C=>{tn(C,20)&&!Y.delta&&Y.type===Ir.pop&&r.go(-1,!1)}).catch(dr),Promise.reject()):(Y.delta&&r.go(-Y.delta,!1),dt(v,Z,_))).then(v=>{v=v||S(Z,_,!1),v&&(Y.delta&&!tn(v,8)?r.go(-Y.delta,!1):Y.type===Ir.pop&&tn(v,20)&&r.go(-1,!1)),I(Z,_,v)}).catch(dr)}))}let Ae=tr(),$t=tr(),gt;function dt(N,X,Y){De(N);const Z=$t.list();return Z.length?Z.forEach(wt=>wt(N,X,Y)):console.error(N),Promise.reject(N)}function be(){return gt&&u.value!==yn?Promise.resolve():new Promise((N,X)=>{Ae.add([N,X])})}function De(N){return gt||(gt=!N,ue(),Ae.list().forEach(([X,Y])=>N?Y(N):X()),Ae.reset()),N}function Ie(N,X,Y,Z){const{scrollBehavior:wt}=e;if(!as||!wt)return Promise.resolve();const _=!Y&&__(Hc(N.fullPath,0))||(Z||!Y)&&history.state&&history.state.scroll||null;return $h().then(()=>wt(N,X,_)).then(v=>v&&g_(v)).catch(v=>dt(v,N,X))}const Nt=N=>r.go(N);let Ot;const dn=new Set,Fe={currentRoute:u,listening:!0,addRoute:E,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:R,resolve:W,options:e,push:z,replace:ft,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:$t.add,isReady:be,install(N){const X=this;N.component("RouterLink",$_),N.component("RouterView",z_),N.config.globalProperties.$router=X,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>gs(u)}),as&&!Ot&&u.value===yn&&(Ot=!0,z(r.location).catch(wt=>{}));const Y={};for(const wt in yn)Object.defineProperty(Y,wt,{get:()=>u.value[wt],enumerable:!0});N.provide(Xa,X),N.provide(Nf,Mh(Y)),N.provide(aa,u);const Z=N.unmount;dn.add(N),N.unmount=function(){dn.delete(N),dn.size<1&&(f=yn,b&&b(),b=null,u.value=yn,Ot=!1,gt=!1),Z()}}};function me(N){return N.reduce((X,Y)=>X.then(()=>T(Y)),Promise.resolve())}return Fe}function G_(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(f=>xs(f,l))?s.push(l):n.push(l));const u=e.matched[a];u&&(t.matched.find(f=>xs(f,u))||r.push(u))}return[n,s,r]}const Q_={class:"w-full bg-panda-black text-light-gray py-12 px-8"},W_={class:"max-w-5xl mx-auto flex flex-col lg:flex-row justify-between items-start lg:items-stretch relative z-10"},Y_={class:"flex flex-col items-start mb-8 lg:mb-0 lg:w-1/3"},X_=`
    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="40" height="40" rx="8" fill="#FFFFFF"/>
        <path d="M20 6C14.477 6 10 10.477 10 16C10 21.523 14.477 26 20 26C25.523 26 30 21.523 30 16C30 10.477 25.523 6 20 6ZM20 23C15.582 23 12 19.418 12 15C12 10.582 15.582 7 20 7C24.418 7 28 10.582 28 15C28 19.418 24.418 23 20 23Z" fill="#F15F31"/>
        <path d="M20 12C17.79 12 16 13.79 16 16C16 18.21 17.79 20 20 20C22.21 20 24 18.21 24 16C24 13.79 22.21 12 20 12ZM20 18C18.895 18 18 17.105 18 16C18 14.895 18.895 14 20 14C21.105 14 22 14.895 22 16C22 17.105 21.105 18 20 18Z" fill="#131C26"/>
        <circle cx="17" cy="13" r="1" fill="#131C26"/>
        <circle cx="23" cy="13" r="1" fill="#131C26"/>
        <path d="M20 19.5C19.17 19.5 18.5 19.17 18.5 18.5C18.5 17.83 19.17 17.5 20 17.5C20.83 17.5 21.5 17.83 21.5 18.5C21.5 19.17 20.83 19.5 20 19.5Z" fill="#131C26"/>
        <path d="M15 20C15 20.55 15.45 21 16 21H24C24.55 21 25 20.55 25 20V20C25 19.45 24.55 19 24 19H16C15.45 19 15 19.45 15 20V20Z" fill="#131C26"/>
    </svg>
`,Ye={__name:"FooterSection",setup(e){const t=Oe(!1);return(n,s)=>(vt(),bt("footer",Q_,[w("div",W_,[w("div",Y_,[w("div",{class:"flex items-center mb-4"},[w("div",{innerHTML:X_,class:"w-10 h-10 mr-2"}),s[3]||(s[3]=w("span",{class:"font-semibold text-2xl text-panda-white"},"RED PANDA",-1))]),s[5]||(s[5]=ws('<p class="text-base font-medium leading-snug mb-2">+7 700 725-77-99</p><p class="text-base font-medium leading-snug mb-4">infoprint@redpanda.kz</p><p class="text-base font-medium leading-snug">,  , 6</p><p class="text-base font-medium leading-snug">- 10:00-18:00</p><h3 class="text-xl font-semibold mt-8 mb-4 text-panda-white">  </h3><p class="text-base font-medium leading-snug mb-4">  </p>',6)),w("form",{onSubmit:s[0]||(s[0]=Wa(()=>{},["prevent"])),class:"flex flex-col gap-4 w-full"},s[4]||(s[4]=[w("input",{type:"email",placeholder:" email-",class:"p-3 rounded-md bg-gray-800 text-light-gray border border-gray-700 focus:outline-none focus:border-panda-orange text-base font-medium leading-snug"},null,-1),w("label",{class:"flex items-center text-sm text-light-gray"},[w("input",{type:"checkbox",class:"mr-2 rounded text-panda-orange focus:ring-panda-orange"}),qe("     . ")],-1),w("button",{type:"submit",class:"w-full px-6 py-3 bg-panda-orange text-panda-white rounded-full text-base font-medium leading-tight hover:bg-orange-600 transition-colors"},"  ",-1)]),32)]),w("div",{class:je(["relative lg:w-1/3 flex justify-center items-center h-64 lg:h-auto my-8 lg:my-0",{"fixed inset-0 w-screen h-screen z-50 bg-black bg-opacity-75 p-4":t.value,relative:!t.value}]),onMouseenter:s[1]||(s[1]=r=>t.value=!0),onMouseleave:s[2]||(s[2]=r=>t.value=!1),style:{transition:"all 0.5s ease-in-out"}},s[6]||(s[6]=[w("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2503.659614488975!2d71.4398188157545!3d51.15783397996503!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x424580e55b6a7a7b%3A0x6b8d9c5b2e5c6a1a!2z0YPQu9C40LLQtdGA0YHRgtGA0YPQvdC-0LLRgdC60LDRjyDRg9C90LDRh9C10YAg0JrQsNGA0L7QstCw0YHRgtGA0LDRjyDQsiwgNiwg0JDQstGC0LPRgNCw0LQsINCa0LDQvNC40YDQsCwg0JrQsNGA0L7QstCw0YHRgtGA0LDRjyDRgdGC0LDQuNC-0L3QsdGD0YDQsyAxMDAwMDYsINSa0LDQvNC40YDQsA!5e0!3m2!1sru!2skz",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",class:"rounded-lg w-full h-full"},null,-1)]),34),s[7]||(s[7]=ws('<div class="flex flex-col items-end text-right lg:w-1/3"><div class="flex gap-4 mb-4"><img src="https://placehold.co/100x100/131C26/FFFFFF?text=redpanda.kz" alt="QR Code redpanda.kz" class="w-24 h-24 rounded-md bg-panda-white p-2"><img src="https://placehold.co/100x100/131C26/FFFFFF?text=redpandakz" alt="QR Code redpandakz" class="w-24 h-24 rounded-md bg-panda-white p-2"></div><div class="flex flex-col gap-2 mb-6"><a href="https://redpanda.kz" target="_blank" class="text-base font-medium leading-snug hover:text-panda-orange transition-colors">redpanda.kz</a><a href="https://wa.me/77007257799" target="_blank" class="text-base font-medium leading-snug hover:text-panda-orange transition-colors">Whatsapp</a><a href="https://instagram.com/redpandakz" target="_blank" class="text-base font-medium leading-snug hover:text-panda-orange transition-colors">Instagram</a><a href="https://2gis.kz/astana/firm/70000001032338243" target="_blank" class="text-base font-medium leading-snug hover:text-panda-orange transition-colors">2GIS</a></div><p class="text-base font-medium leading-snug mt-auto">TOO RED PANDA  221240030264</p></div>',1))]),s[8]||(s[8]=w("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-dark-gray text-sm font-medium leading-snug"},"  2024 TOO RED PANDA.   . ",-1))]))}},J_=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Z_={class:"main-container mt-8"},ty={class:"form-wrapper"},ey={class:"form-body"},ny={class:"form-group"},sy={key:0,class:"error-message"},ry={class:"form-group"},iy={key:0,class:"error-message"},oy={class:"form-group"},ay={key:0,class:"error-message"},ly={class:"form-group"},cy={class:"form-group"},uy={key:0,class:"error-message"},hy={class:"form-group"},fy=["disabled"],dy={__name:"HomePage",setup(e){const t=Yn({name:"",phone:"",email:"",company:"",task:"",promo:""}),n=Yn({name:"",phone:"",email:"",task:""}),s=Oe(!1),r=Oe(""),i=Oe("success"),a=Se(()=>t.name&&!n.name&&t.phone&&!n.phone&&t.email&&!n.email&&t.task&&!n.task),l=(V,R="success")=>{r.value=V,i.value=R,setTimeout(()=>{r.value=""},5e3)},u=V=>/^[a-zA-Z0-9]([a-zA-Z0-9._-]*[a-zA-Z0-9])?@[a-zA-Z0-9]([a-zA-Z0-9.-]*[a-zA-Z0-9])?\.[a-zA-Z]{2,}$/.test(String(V).toLowerCase().trim()),f=V=>{const R=V.replace(/[\s\-()]/g,"");return[/^\+7[0-9]{10}$/,/^8[0-9]{10}$/,/^7[0-9]{10}$/,/^\+[1-9][0-9]{7,14}$/].some(k=>k.test(R))},d=()=>{let V=t.phone.replace(/\D/g,"");if(V.length>0&&(V.startsWith("8")&&(V="7"+V.slice(1)),V.startsWith("7")?V="+7"+V.slice(1):V.startsWith("+")||(V="+"+V),V.startsWith("+7")&&V.length>2)){const R=V.slice(2);R.length<=3?V=`+7 (${R}`:R.length<=6?V=`+7 (${R.slice(0,3)}) ${R.slice(3)}`:R.length<=8?V=`+7 (${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6)}`:V=`+7 (${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6,8)}-${R.slice(8,10)}`}t.phone=V,p("phone")},p=V=>{n[V]="";const R=t[V];switch(V){case"name":R?R.length<2&&(n.name="    2 "):n.name=",   ";break;case"phone":R?f(R)||(n.phone="   "):n.phone=",   ";break;case"email":R?u(R)||(n.email="  email "):n.email=",  email ";break;case"task":R?R.length<10&&(n.task="     10 "):n.task=",  ";break}return!n[V]},m=()=>["name","phone","email","task"].every(p),E=async()=>{if(!m()){l(",    .","error");return}s.value=!0;try{const V=await fetch("/api/submit-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),R=await V.json();if(!V.ok)throw new Error(R.message||" ");l(R.message,"success"),Object.keys(t).forEach(k=>t[k]="")}catch(V){console.error("  :",V),l(V.message||"   .  .","error")}finally{s.value=!1}};return(V,R)=>(vt(),bt("main",null,[R[11]||(R[11]=ws('<div class="main-container" data-v-0e2e671b><h1 class="text-4xl font-bold text-panda-black mb-4" data-v-0e2e671b>   Red Panda!</h1><p class="text-xl leading-relaxed text-dark-gray" data-v-0e2e671b>    ,      .</p><div class="p-6 mt-8 bg-white rounded-lg" data-v-0e2e671b><h3 class="mb-3 text-2xl font-semibold text-panda-black" data-v-0e2e671b> :</h3><ul class="space-y-2 text-lg list-disc list-inside text-dark-gray" data-v-0e2e671b><li data-v-0e2e671b>    .</li><li data-v-0e2e671b>     .</li><li data-v-0e2e671b>     .</li><li data-v-0e2e671b>     .</li></ul></div></div>',1)),w("div",Z_,[w("div",ty,[R[10]||(R[10]=w("div",{class:"form-info"},[w("h1",null,[qe(""),w("br"),qe("")]),w("p",null,[qe("    "),w("br"),qe("  . , "),w("br"),qe("    !")])],-1)),w("div",ey,[w("form",{onSubmit:Wa(E,["prevent"]),novalidate:""},[w("div",ny,[nn(w("input",{type:"text",placeholder:" ",required:"","onUpdate:modelValue":R[0]||(R[0]=k=>t.name=k),onBlur:R[1]||(R[1]=k=>p("name")),class:je({"border-panda-orange":n.name})},null,34),[[sn,t.name,void 0,{trim:!0}]]),n.name?(vt(),bt("div",sy,Gt(n.name),1)):Zs("",!0)]),w("div",ry,[nn(w("input",{type:"tel",placeholder:"",required:"","onUpdate:modelValue":R[2]||(R[2]=k=>t.phone=k),onInput:d,onBlur:R[3]||(R[3]=k=>p("phone")),class:je({"border-panda-orange":n.phone})},null,34),[[sn,t.phone]]),n.phone?(vt(),bt("div",iy,Gt(n.phone),1)):Zs("",!0)]),w("div",oy,[nn(w("input",{type:"email",placeholder:"@email",required:"","onUpdate:modelValue":R[4]||(R[4]=k=>t.email=k),onBlur:R[5]||(R[5]=k=>p("email")),class:je({"border-panda-orange":n.email})},null,34),[[sn,t.email,void 0,{trim:!0}]]),n.email?(vt(),bt("div",ay,Gt(n.email),1)):Zs("",!0)]),w("div",ly,[nn(w("input",{type:"text",placeholder:"","onUpdate:modelValue":R[6]||(R[6]=k=>t.company=k)},null,512),[[sn,t.company,void 0,{trim:!0}]])]),w("div",cy,[nn(w("textarea",{placeholder:" ",required:"","onUpdate:modelValue":R[7]||(R[7]=k=>t.task=k),onBlur:R[8]||(R[8]=k=>p("task")),class:je({"border-panda-orange":n.task})},null,34),[[sn,t.task,void 0,{trim:!0}]]),n.task?(vt(),bt("div",uy,Gt(n.task),1)):Zs("",!0)]),w("div",hy,[nn(w("input",{type:"text",placeholder:"","onUpdate:modelValue":R[9]||(R[9]=k=>t.promo=k)},null,512),[[sn,t.promo,void 0,{trim:!0}]])]),w("button",{type:"submit",class:"form-button",disabled:s.value||!a.value},Gt(s.value?"...":" "),9,fy)],32)])]),r.value?(vt(),bt("div",{key:0,class:je(["success-message",[i.value==="success"?"bg-panda-green":"bg-red-500"]])},Gt(r.value),3)):Zs("",!0)]),Dt(Ye)]))}},py=J_(dy,[["__scopeId","data-v-0e2e671b"]]),gy={class:"main-container"},my={class:"flex flex-wrap gap-2 mb-10"},_y=["onClick"],yy={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vy={key:1,class:"text-center py-10 text-dark-gray text-xl"},Ey={__name:"GalleryPage",setup(e){const t=Yn([{id:"badges",name:"  "},{id:"notebooks",name:"  "},{id:"businessCards",name:""},{id:"outdoorAdvertising",name:" "},{id:"calendarsPlanners",name:"  "},{id:"boxesPackaging",name:"  "},{id:"bags",name:""},{id:"souvenirs",name:" "},{id:"merchGifts",name:"  "},{id:"catalogsAlbums",name:"  "},{id:"stickersLabels",name:"  "},{id:"certificatesInvitations",name:"  "},{id:"corporateIdentity",name:" "}]),n=Oe("catalogsAlbums");return(s,r)=>(vt(),bt("main",null,[w("div",gy,[r[1]||(r[1]=w("h1",{class:"font-bold text-panda-black text-4xl mb-4"}," ",-1)),r[2]||(r[2]=w("p",{class:"text-xl text-dark-gray leading-relaxed mb-6"},'  .  "",   .',-1)),w("div",my,[(vt(!0),bt(ve,null,ur(t,i=>(vt(),bt("button",{key:i.id,onClick:a=>n.value=i.id,class:je([{"bg-panda-orange text-panda-white":n.value===i.id,"bg-gray-200 text-dark-gray":n.value!==i.id},"px-4 py-2 rounded-full text-sm font-medium transition-colors hover:bg-panda-orange hover:text-panda-white"])},Gt(i.name),11,_y))),128))]),n.value==="catalogsAlbums"?(vt(),bt("div",yy,r[0]||(r[0]=[w("div",{class:"bg-light-gray rounded-lg overflow-hidden flex flex-col md:flex-row items-center p-6 gap-6"},[w("img",{src:"https://placehold.co/250x200/F7F7F7/131C26?text=%20-",alt:" -",class:"w-full md:w-1/2 h-auto object-cover rounded-md"}),w("div",{class:"flex flex-col justify-center p-0 md:p-4 text-center md:text-left"},[w("h3",{class:"font-semibold text-panda-black text-2xl mb-2"}," -"),w("p",{class:"text-md text-dark-gray mb-4"},"       ."),w("router-link",{to:"/project-detail",class:"self-center md:self-start px-6 py-3 bg-panda-orange text-panda-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"")])],-1),w("div",{class:"bg-light-gray rounded-lg overflow-hidden flex flex-col md:flex-row items-center p-6 gap-6"},[w("img",{src:"https://placehold.co/250x200/F7F7F7/131C26?text=%20%20",alt:"  ",class:"w-full md:w-1/2 h-auto object-cover rounded-md"}),w("div",{class:"flex flex-col justify-center p-0 md:p-4 text-center md:text-left"},[w("h3",{class:"font-semibold text-panda-black text-2xl mb-2"},"  "),w("p",{class:"text-md text-dark-gray mb-4"},"    . ."),w("router-link",{to:"/project-detail",class:"self-center md:self-start px-6 py-3 bg-panda-orange text-panda-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"")])],-1)]))):(vt(),bt("div",vy,"     ."))]),Dt(Ye)]))}},by={__name:"ProjectDetailPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=w("div",{class:"main-container"},[w("h1",{class:"font-bold text-panda-black text-4xl mb-4"},"    Dostyk Lux"),w("p",{class:"text-xl text-dark-gray leading-relaxed mb-6"}," ,    .       ."),w("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},[w("div",{class:"bg-light-gray rounded-lg overflow-hidden flex flex-col items-center"},[w("img",{src:"https://placehold.co/800x400/F7F7F7/131C26?text=%20Dostyk%20lux",alt:" Dostyk lux",class:"w-full h-auto object-cover"}),w("div",{class:"p-4 text-center"},[w("h3",{class:"font-semibold text-panda-black text-lg mb-1"}," "),w("p",{class:"text-sm text-dark-gray"},"     .")])]),w("div",{class:"grid grid-cols-2 gap-4"},[w("div",{class:"bg-light-gray rounded-lg"},[w("img",{src:"https://placehold.co/400x200/F7F7F7/131C26?text=",alt:"",class:"w-full h-auto object-cover"}),w("div",{class:"p-2 text-center"},[w("p",{class:"text-sm text-dark-gray"},"  ")])]),w("div",{class:"bg-light-gray rounded-lg"},[w("img",{src:"https://placehold.co/400x200/F7F7F7/131C26?text=",alt:"",class:"w-full h-auto object-cover"}),w("div",{class:"p-2 text-center"},[w("p",{class:"text-sm text-dark-gray"}," ")])]),w("div",{class:"bg-light-gray rounded-lg"},[w("img",{src:"https://placehold.co/400x200/F7F7F7/131C26?text=",alt:"",class:"w-full h-auto object-cover"}),w("div",{class:"p-2 text-center"},[w("p",{class:"text-sm text-dark-gray"}," ")])]),w("div",{class:"bg-light-gray rounded-lg"},[w("img",{src:"https://placehold.co/400x200/F7F7F7/131C26?text=",alt:"",class:"w-full h-auto object-cover"}),w("div",{class:"p-2 text-center"},[w("p",{class:"text-sm text-dark-gray"}," ")])])])]),w("h2",{class:"font-bold text-panda-black text-3xl mb-4 mt-8"},"  :"),w("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[w("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=%20",alt:" ",class:"w-full h-auto object-cover rounded-lg"}),w("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=%20%20",alt:"  ",class:"w-full h-auto object-cover rounded-lg"}),w("img",{src:"https://placehold.co/600x400/F7F7F7/131C26?text=%20",alt:" ",class:"w-full h-auto object-cover rounded-lg"})]),w("router-link",{to:"/gallery",class:"inline-block mt-8 px-6 py-3 bg-panda-orange text-panda-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"    ")],-1)),Dt(Ye)]))}},Ty={__name:"ShopPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=ws('<div class="main-container"><h1 class="font-bold text-panda-black text-4xl mb-4"> </h1><p class="text-xl text-dark-gray leading-relaxed mb-6">      .              .</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="bg-light-gray rounded-lg overflow-hidden"><img src="https://placehold.co/400x300/F7F7F7/131C26?text=%201" alt=" 1" class="w-full h-48 object-cover rounded-t-lg"><div class="p-4"><h3 class="font-semibold text-panda-black text-lg mb-1"> </h3><p class="text-sm text-dark-gray"> 1000 .</p><p class="font-bold text-panda-orange mt-2">: $50</p><button class="mt-3 px-4 py-2 bg-panda-orange text-panda-white rounded-full text-sm hover:bg-orange-600 transition-colors"> </button></div></div><div class="bg-light-gray rounded-lg overflow-hidden"><img src="https://placehold.co/400x300/F7F7F7/131C26?text=%202" alt=" 2" class="w-full h-48 object-cover rounded-t-lg"><div class="p-4"><h3 class="font-semibold text-panda-black text-lg mb-1"> </h3><p class="text-sm text-dark-gray">  .</p><p class="font-bold text-panda-orange mt-2">: $200</p><button class="mt-3 px-4 py-2 bg-panda-orange text-panda-white rounded-full text-sm hover:bg-orange-600 transition-colors"> </button></div></div><div class="bg-light-gray rounded-lg overflow-hidden"><img src="https://placehold.co/400x300/F7F7F7/131C26?text=%203" alt=" 3" class="w-full h-48 object-cover rounded-t-lg"><div class="p-4"><h3 class="font-semibold text-panda-black text-lg mb-1"> </h3><p class="text-sm text-dark-gray">,   .</p><p class="font-bold text-panda-orange mt-2">: $30</p><button class="mt-3 px-4 py-2 bg-panda-orange text-panda-white rounded-full text-sm hover:bg-orange-600 transition-colors"> </button></div></div></div></div>',1)),Dt(Ye)]))}},wy={__name:"TeamPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=ws('<div class="main-container"><h1 class="font-bold text-panda-black text-4xl mb-4"> </h1><p class="text-xl text-dark-gray leading-relaxed mb-6">    .  - !</p><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=" alt=" " class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1"> </h3><p class="text-sm text-dark-gray"></p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=" alt="" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1"></h3><p class="text-sm text-dark-gray">  </p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=" alt="" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1"></h3><p class="text-sm text-dark-gray"></p></div><div class="bg-light-gray rounded-lg p-4 text-center"><img src="https://placehold.co/150x150/F7F7F7/131C26?text=" alt="" class="rounded-full w-32 h-32 mx-auto mb-4 object-cover"><h3 class="font-semibold text-panda-black text-xl mb-1"></h3><p class="text-sm text-dark-gray"></p></div></div><h2 class="font-bold text-panda-black text-3xl mb-4 mt-10"> </h2><div class="relative border-l-2 border-panda-orange pl-8 py-4"><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2024 </h3><p class="text-lg text-dark-gray">  ,   .</p></div><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2023 </h3><p class="text-lg text-dark-gray"> ,   .</p></div><div class="mb-8"><h3 class="font-semibold text-panda-black text-2xl">2022 </h3><p class="text-lg text-dark-gray">     .</p></div></div></div>',1)),Dt(Ye)]))}},xy=()=>{};var iu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ay=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[s++]=String.fromCharCode(55296+(u>>10)),t[s++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],a=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,f=u?e[r+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|f>>6,E=f&63;u||(E=64,a||(m=64)),s.push(n[d],n[p],n[m],n[E])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Of(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ay(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const f=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||l==null||f==null||p==null)throw new Iy;const m=i<<2|l>>4;if(s.push(m),f!==64){const E=l<<4&240|f>>2;if(s.push(E),p!==64){const V=f<<6&192|p;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Iy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cy=function(e){const t=Of(e);return Mf.encodeByteArray(t,!0)},Ri=function(e){return Cy(e).replace(/\./g,"")},Ry=function(e){try{return Mf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=()=>Sy().__FIREBASE_DEFAULTS__,Vy=()=>{if(typeof process>"u"||typeof iu>"u")return;const e=iu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Dy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ry(e[1]);return t&&JSON.parse(t)},Ja=()=>{try{return xy()||Py()||Vy()||Dy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ky=e=>{var t,n;return(n=(t=Ja())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ny=e=>{const t=ky(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Ff=()=>{var e;return(e=Ja())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){return e.endsWith(".cloudworkstations.dev")}async function My(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ri(JSON.stringify(n)),Ri(JSON.stringify(a)),""].join(".")}const gr={};function Ly(){const e={prod:[],emulator:[]};for(const t of Object.keys(gr))gr[t]?e.emulator.push(t):e.prod.push(t);return e}function By(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ou=!1;function Uy(e,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||gr[e]===t||gr[e]||ou)return;gr[e]=t;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=Ly().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,E){m.setAttribute("width","24"),m.setAttribute("id",E),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ou=!0,a()},m}function d(m,E){m.setAttribute("id",E),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=By(s),E=n("text"),V=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),k=document.getElementById(R)||document.createElement("a"),W=n("preprendIcon"),U=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const H=m.element;l(H),d(k,R);const z=f();u(U,W),H.append(U,V,k,z),document.body.appendChild(H)}i?(V.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jy(){var e;const t=(e=Ja())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qy(){return!jy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hy(){try{return typeof indexedDB=="object"}catch{return!1}}function zy(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="FirebaseError";class ks extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ky,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lf.prototype.create)}}class Lf{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],a=i?Gy(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ks(r,l,s)}}function Gy(e,t){return e.replace(Qy,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const Qy=/\{\$([^}]+)}/g;function Si(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],a=t[r];if(au(i)&&au(a)){if(!Si(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function au(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(e){return e&&e._delegate?e._delegate:e}class Cr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Oy;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jy(t))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=zn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zn){return this.instances.has(t)}getOptions(t=zn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xy(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zn){return this.component?this.component.multipleInstances?t:zn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xy(e){return e===zn?void 0:e}function Jy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yy(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(yt||(yt={}));const tv={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},ev=yt.INFO,nv={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},sv=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=nv[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bf{constructor(t){this.name=t,this._logLevel=ev,this._logHandler=sv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}const rv=(e,t)=>t.some(n=>e instanceof n);let lu,cu;function iv(){return lu||(lu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ov(){return cu||(cu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uf=new WeakMap,la=new WeakMap,$f=new WeakMap,Lo=new WeakMap,tl=new WeakMap;function av(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(An(e.result)),r()},a=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Uf.set(n,e)}).catch(()=>{}),tl.set(t,e),t}function lv(e){if(la.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});la.set(e,t)}let ca={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return la.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$f.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cv(e){ca=e(ca)}function uv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Bo(this),t,...n);return $f.set(s,t.sort?t.sort():[t]),An(s)}:ov().includes(e)?function(...t){return e.apply(Bo(this),t),An(Uf.get(this))}:function(...t){return An(e.apply(Bo(this),t))}}function hv(e){return typeof e=="function"?uv(e):(e instanceof IDBTransaction&&lv(e),rv(e,iv())?new Proxy(e,ca):e)}function An(e){if(e instanceof IDBRequest)return av(e);if(Lo.has(e))return Lo.get(e);const t=hv(e);return t!==e&&(Lo.set(e,t),tl.set(t,e)),t}const Bo=e=>tl.get(e);function fv(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(e,t),l=An(a);return s&&a.addEventListener("upgradeneeded",u=>{s(An(a.result),u.oldVersion,u.newVersion,An(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const dv=["get","getKey","getAll","getAllKeys","count"],pv=["put","add","delete","clear"],Uo=new Map;function uu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uo.get(t))return Uo.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=pv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||dv.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),r&&u.done]))[0]};return Uo.set(t,i),i}cv(e=>({...e,get:(t,n,s)=>uu(t,n)||e.get(t,n,s),has:(t,n)=>!!uu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ua="@firebase/app",hu="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Bf("@firebase/app"),_v="@firebase/app-compat",yv="@firebase/analytics-compat",vv="@firebase/analytics",Ev="@firebase/app-check-compat",bv="@firebase/app-check",Tv="@firebase/auth",wv="@firebase/auth-compat",xv="@firebase/database",Av="@firebase/data-connect",Iv="@firebase/database-compat",Cv="@firebase/functions",Rv="@firebase/functions-compat",Sv="@firebase/installations",Pv="@firebase/installations-compat",Vv="@firebase/messaging",Dv="@firebase/messaging-compat",kv="@firebase/performance",Nv="@firebase/performance-compat",Ov="@firebase/remote-config",Mv="@firebase/remote-config-compat",Fv="@firebase/storage",Lv="@firebase/storage-compat",Bv="@firebase/firestore",Uv="@firebase/ai",$v="@firebase/firestore-compat",jv="firebase",qv="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]",Hv={[ua]:"fire-core",[_v]:"fire-core-compat",[vv]:"fire-analytics",[yv]:"fire-analytics-compat",[bv]:"fire-app-check",[Ev]:"fire-app-check-compat",[Tv]:"fire-auth",[wv]:"fire-auth-compat",[xv]:"fire-rtdb",[Av]:"fire-data-connect",[Iv]:"fire-rtdb-compat",[Cv]:"fire-fn",[Rv]:"fire-fn-compat",[Sv]:"fire-iid",[Pv]:"fire-iid-compat",[Vv]:"fire-fcm",[Dv]:"fire-fcm-compat",[kv]:"fire-perf",[Nv]:"fire-perf-compat",[Ov]:"fire-rc",[Mv]:"fire-rc-compat",[Fv]:"fire-gcs",[Lv]:"fire-gcs-compat",[Bv]:"fire-fst",[$v]:"fire-fst-compat",[Uv]:"fire-vertex","fire-js":"fire-js",[jv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Map,zv=new Map,fa=new Map;function fu(e,t){try{e.container.addComponent(t)}catch(n){un.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Vi(e){const t=e.name;if(fa.has(t))return un.debug(`There were multiple attempts to register component ${t}.`),!1;fa.set(t,e);for(const n of Pi.values())fu(n,e);for(const n of zv.values())fu(n,e);return!0}function Kv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gv(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new Lf("app","Firebase",Qv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=qv;function jf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ha,automaticDataCollectionEnabled:!0},t),r=s.name;if(typeof r!="string"||!r)throw In.create("bad-app-name",{appName:String(r)});if(n||(n=Ff()),!n)throw In.create("no-options");const i=Pi.get(r);if(i){if(Si(n,i.options)&&Si(s,i.config))return i;throw In.create("duplicate-app",{appName:r})}const a=new Zy(r);for(const u of fa.values())a.addComponent(u);const l=new Wv(n,s,a);return Pi.set(r,l),l}function Xv(e=ha){const t=Pi.get(e);if(!t&&e===ha&&Ff())return jf();if(!t)throw In.create("no-app",{appName:e});return t}function ys(e,t,n){var s;let r=(s=Hv[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${t}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),un.warn(l.join(" "));return}Vi(new Cr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebase-heartbeat-database",Zv=1,Rr="firebase-heartbeat-store";let $o=null;function qf(){return $o||($o=fv(Jv,Zv,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rr)}catch(n){console.warn(n)}}}}).catch(e=>{throw In.create("idb-open",{originalErrorMessage:e.message})})),$o}async function t0(e){try{const n=(await qf()).transaction(Rr),s=await n.objectStore(Rr).get(Hf(e));return await n.done,s}catch(t){if(t instanceof ks)un.warn(t.message);else{const n=In.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});un.warn(n.message)}}}async function du(e,t){try{const s=(await qf()).transaction(Rr,"readwrite");await s.objectStore(Rr).put(t,Hf(e)),await s.done}catch(n){if(n instanceof ks)un.warn(n.message);else{const s=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});un.warn(s.message)}}}function Hf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=1024,n0=30;class s0{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pu();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>n0){const a=o0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){un.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pu(),{heartbeatsToSend:s,unsentEntries:r}=r0(this._heartbeatsCache.heartbeats),i=Ri(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return un.warn(n),""}}}function pu(){return new Date().toISOString().substring(0,10)}function r0(e,t=e0){const n=[];let s=e.slice();for(const r of e){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),gu(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),gu(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class i0{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hy()?zy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return du(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return du(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function gu(e){return Ri(JSON.stringify({version:2,heartbeats:e})).length}function o0(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(e){Vi(new Cr("platform-logger",t=>new gv(t),"PRIVATE")),Vi(new Cr("heartbeat",t=>new s0(t),"PRIVATE")),ys(ua,hu,e),ys(ua,hu,"esm2017"),ys("fire-js","")}a0("");var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cn,zf;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,y){function T(){}T.prototype=y.prototype,x.D=y.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(A,I,S){for(var b=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)b[ue-2]=arguments[ue];return y.prototype[I].apply(A,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,y,T){T||(T=0);var A=Array(16);if(typeof y=="string")for(var I=0;16>I;++I)A[I]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(I=0;16>I;++I)A[I]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=x.g[0],T=x.g[1],I=x.g[2];var S=x.g[3],b=y+(S^T&(I^S))+A[0]+3614090360&4294967295;y=T+(b<<7&4294967295|b>>>25),b=S+(I^y&(T^I))+A[1]+3905402710&4294967295,S=y+(b<<12&4294967295|b>>>20),b=I+(T^S&(y^T))+A[2]+606105819&4294967295,I=S+(b<<17&4294967295|b>>>15),b=T+(y^I&(S^y))+A[3]+3250441966&4294967295,T=I+(b<<22&4294967295|b>>>10),b=y+(S^T&(I^S))+A[4]+4118548399&4294967295,y=T+(b<<7&4294967295|b>>>25),b=S+(I^y&(T^I))+A[5]+1200080426&4294967295,S=y+(b<<12&4294967295|b>>>20),b=I+(T^S&(y^T))+A[6]+2821735955&4294967295,I=S+(b<<17&4294967295|b>>>15),b=T+(y^I&(S^y))+A[7]+4249261313&4294967295,T=I+(b<<22&4294967295|b>>>10),b=y+(S^T&(I^S))+A[8]+1770035416&4294967295,y=T+(b<<7&4294967295|b>>>25),b=S+(I^y&(T^I))+A[9]+2336552879&4294967295,S=y+(b<<12&4294967295|b>>>20),b=I+(T^S&(y^T))+A[10]+4294925233&4294967295,I=S+(b<<17&4294967295|b>>>15),b=T+(y^I&(S^y))+A[11]+2304563134&4294967295,T=I+(b<<22&4294967295|b>>>10),b=y+(S^T&(I^S))+A[12]+1804603682&4294967295,y=T+(b<<7&4294967295|b>>>25),b=S+(I^y&(T^I))+A[13]+4254626195&4294967295,S=y+(b<<12&4294967295|b>>>20),b=I+(T^S&(y^T))+A[14]+2792965006&4294967295,I=S+(b<<17&4294967295|b>>>15),b=T+(y^I&(S^y))+A[15]+1236535329&4294967295,T=I+(b<<22&4294967295|b>>>10),b=y+(I^S&(T^I))+A[1]+4129170786&4294967295,y=T+(b<<5&4294967295|b>>>27),b=S+(T^I&(y^T))+A[6]+3225465664&4294967295,S=y+(b<<9&4294967295|b>>>23),b=I+(y^T&(S^y))+A[11]+643717713&4294967295,I=S+(b<<14&4294967295|b>>>18),b=T+(S^y&(I^S))+A[0]+3921069994&4294967295,T=I+(b<<20&4294967295|b>>>12),b=y+(I^S&(T^I))+A[5]+3593408605&4294967295,y=T+(b<<5&4294967295|b>>>27),b=S+(T^I&(y^T))+A[10]+38016083&4294967295,S=y+(b<<9&4294967295|b>>>23),b=I+(y^T&(S^y))+A[15]+3634488961&4294967295,I=S+(b<<14&4294967295|b>>>18),b=T+(S^y&(I^S))+A[4]+3889429448&4294967295,T=I+(b<<20&4294967295|b>>>12),b=y+(I^S&(T^I))+A[9]+568446438&4294967295,y=T+(b<<5&4294967295|b>>>27),b=S+(T^I&(y^T))+A[14]+3275163606&4294967295,S=y+(b<<9&4294967295|b>>>23),b=I+(y^T&(S^y))+A[3]+4107603335&4294967295,I=S+(b<<14&4294967295|b>>>18),b=T+(S^y&(I^S))+A[8]+1163531501&4294967295,T=I+(b<<20&4294967295|b>>>12),b=y+(I^S&(T^I))+A[13]+2850285829&4294967295,y=T+(b<<5&4294967295|b>>>27),b=S+(T^I&(y^T))+A[2]+4243563512&4294967295,S=y+(b<<9&4294967295|b>>>23),b=I+(y^T&(S^y))+A[7]+1735328473&4294967295,I=S+(b<<14&4294967295|b>>>18),b=T+(S^y&(I^S))+A[12]+2368359562&4294967295,T=I+(b<<20&4294967295|b>>>12),b=y+(T^I^S)+A[5]+4294588738&4294967295,y=T+(b<<4&4294967295|b>>>28),b=S+(y^T^I)+A[8]+2272392833&4294967295,S=y+(b<<11&4294967295|b>>>21),b=I+(S^y^T)+A[11]+1839030562&4294967295,I=S+(b<<16&4294967295|b>>>16),b=T+(I^S^y)+A[14]+4259657740&4294967295,T=I+(b<<23&4294967295|b>>>9),b=y+(T^I^S)+A[1]+2763975236&4294967295,y=T+(b<<4&4294967295|b>>>28),b=S+(y^T^I)+A[4]+1272893353&4294967295,S=y+(b<<11&4294967295|b>>>21),b=I+(S^y^T)+A[7]+4139469664&4294967295,I=S+(b<<16&4294967295|b>>>16),b=T+(I^S^y)+A[10]+3200236656&4294967295,T=I+(b<<23&4294967295|b>>>9),b=y+(T^I^S)+A[13]+681279174&4294967295,y=T+(b<<4&4294967295|b>>>28),b=S+(y^T^I)+A[0]+3936430074&4294967295,S=y+(b<<11&4294967295|b>>>21),b=I+(S^y^T)+A[3]+3572445317&4294967295,I=S+(b<<16&4294967295|b>>>16),b=T+(I^S^y)+A[6]+76029189&4294967295,T=I+(b<<23&4294967295|b>>>9),b=y+(T^I^S)+A[9]+3654602809&4294967295,y=T+(b<<4&4294967295|b>>>28),b=S+(y^T^I)+A[12]+3873151461&4294967295,S=y+(b<<11&4294967295|b>>>21),b=I+(S^y^T)+A[15]+530742520&4294967295,I=S+(b<<16&4294967295|b>>>16),b=T+(I^S^y)+A[2]+3299628645&4294967295,T=I+(b<<23&4294967295|b>>>9),b=y+(I^(T|~S))+A[0]+4096336452&4294967295,y=T+(b<<6&4294967295|b>>>26),b=S+(T^(y|~I))+A[7]+1126891415&4294967295,S=y+(b<<10&4294967295|b>>>22),b=I+(y^(S|~T))+A[14]+2878612391&4294967295,I=S+(b<<15&4294967295|b>>>17),b=T+(S^(I|~y))+A[5]+4237533241&4294967295,T=I+(b<<21&4294967295|b>>>11),b=y+(I^(T|~S))+A[12]+1700485571&4294967295,y=T+(b<<6&4294967295|b>>>26),b=S+(T^(y|~I))+A[3]+2399980690&4294967295,S=y+(b<<10&4294967295|b>>>22),b=I+(y^(S|~T))+A[10]+4293915773&4294967295,I=S+(b<<15&4294967295|b>>>17),b=T+(S^(I|~y))+A[1]+2240044497&4294967295,T=I+(b<<21&4294967295|b>>>11),b=y+(I^(T|~S))+A[8]+1873313359&4294967295,y=T+(b<<6&4294967295|b>>>26),b=S+(T^(y|~I))+A[15]+4264355552&4294967295,S=y+(b<<10&4294967295|b>>>22),b=I+(y^(S|~T))+A[6]+2734768916&4294967295,I=S+(b<<15&4294967295|b>>>17),b=T+(S^(I|~y))+A[13]+1309151649&4294967295,T=I+(b<<21&4294967295|b>>>11),b=y+(I^(T|~S))+A[4]+4149444226&4294967295,y=T+(b<<6&4294967295|b>>>26),b=S+(T^(y|~I))+A[11]+3174756917&4294967295,S=y+(b<<10&4294967295|b>>>22),b=I+(y^(S|~T))+A[2]+718787259&4294967295,I=S+(b<<15&4294967295|b>>>17),b=T+(S^(I|~y))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+S&4294967295}s.prototype.u=function(x,y){y===void 0&&(y=x.length);for(var T=y-this.blockSize,A=this.B,I=this.h,S=0;S<y;){if(I==0)for(;S<=T;)r(this,x,S),S+=this.blockSize;if(typeof x=="string"){for(;S<y;)if(A[I++]=x.charCodeAt(S++),I==this.blockSize){r(this,A),I=0;break}}else for(;S<y;)if(A[I++]=x[S++],I==this.blockSize){r(this,A),I=0;break}}this.h=I,this.o+=y},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;var T=8*this.o;for(y=x.length-8;y<x.length;++y)x[y]=T&255,T/=256;for(this.u(x),x=Array(16),y=T=0;4>y;++y)for(var A=0;32>A;A+=8)x[T++]=this.g[y]>>>A&255;return x};function i(x,y){var T=l;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=y(x)}function a(x,y){this.h=y;for(var T=[],A=!0,I=x.length-1;0<=I;I--){var S=x[I]|0;A&&S==y||(T[I]=S,A=!1)}this.g=T}var l={};function u(x){return-128<=x&&128>x?i(x,function(y){return new a([y|0],0>y?-1:0)}):new a([x|0],0>x?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return k(f(-x));for(var y=[],T=1,A=0;x>=T;A++)y[A]=x/T|0,T*=4294967296;return new a(y,0)}function d(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return k(d(x.substring(1),y));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(y,8)),A=p,I=0;I<x.length;I+=8){var S=Math.min(8,x.length-I),b=parseInt(x.substring(I,I+S),y);8>S?(S=f(Math.pow(y,S)),A=A.j(S).add(f(b))):(A=A.j(T),A=A.add(f(b)))}return A}var p=u(0),m=u(1),E=u(16777216);e=a.prototype,e.m=function(){if(R(this))return-k(this).m();for(var x=0,y=1,T=0;T<this.g.length;T++){var A=this.i(T);x+=(0<=A?A:4294967296+A)*y,y*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(R(this))return"-"+k(this).toString(x);for(var y=f(Math.pow(x,6)),T=this,A="";;){var I=z(T,y).g;T=W(T,I.j(y));var S=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=I,V(T))return S+A;for(;6>S.length;)S="0"+S;A=S+A}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function R(x){return x.h==-1}e.l=function(x){return x=W(this,x),R(x)?-1:V(x)?0:1};function k(x){for(var y=x.g.length,T=[],A=0;A<y;A++)T[A]=~x.g[A];return new a(T,~x.h).add(m)}e.abs=function(){return R(this)?k(this):this},e.add=function(x){for(var y=Math.max(this.g.length,x.g.length),T=[],A=0,I=0;I<=y;I++){var S=A+(this.i(I)&65535)+(x.i(I)&65535),b=(S>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);A=b>>>16,S&=65535,b&=65535,T[I]=b<<16|S}return new a(T,T[T.length-1]&-2147483648?-1:0)};function W(x,y){return x.add(k(y))}e.j=function(x){if(V(this)||V(x))return p;if(R(this))return R(x)?k(this).j(k(x)):k(k(this).j(x));if(R(x))return k(this.j(k(x)));if(0>this.l(E)&&0>x.l(E))return f(this.m()*x.m());for(var y=this.g.length+x.g.length,T=[],A=0;A<2*y;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<x.g.length;I++){var S=this.i(A)>>>16,b=this.i(A)&65535,ue=x.i(I)>>>16,Ae=x.i(I)&65535;T[2*A+2*I]+=b*Ae,U(T,2*A+2*I),T[2*A+2*I+1]+=S*Ae,U(T,2*A+2*I+1),T[2*A+2*I+1]+=b*ue,U(T,2*A+2*I+1),T[2*A+2*I+2]+=S*ue,U(T,2*A+2*I+2)}for(A=0;A<y;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=y;A<2*y;A++)T[A]=0;return new a(T,0)};function U(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function H(x,y){this.g=x,this.h=y}function z(x,y){if(V(y))throw Error("division by zero");if(V(x))return new H(p,p);if(R(x))return y=z(k(x),y),new H(k(y.g),k(y.h));if(R(y))return y=z(x,k(y)),new H(k(y.g),y.h);if(30<x.g.length){if(R(x)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,A=y;0>=A.l(x);)T=ft(T),A=ft(A);var I=pt(T,1),S=pt(A,1);for(A=pt(A,2),T=pt(T,2);!V(A);){var b=S.add(A);0>=b.l(x)&&(I=I.add(T),S=b),A=pt(A,1),T=pt(T,1)}return y=W(x,I.j(y)),new H(I,y)}for(I=p;0<=x.l(y);){for(T=Math.max(1,Math.floor(x.m()/y.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),S=f(T),b=S.j(y);R(b)||0<b.l(x);)T-=A,S=f(T),b=S.j(y);V(S)&&(S=m),I=I.add(S),x=W(x,b)}return new H(I,x)}e.A=function(x){return z(this,x).h},e.and=function(x){for(var y=Math.max(this.g.length,x.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)&x.i(A);return new a(T,this.h&x.h)},e.or=function(x){for(var y=Math.max(this.g.length,x.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)|x.i(A);return new a(T,this.h|x.h)},e.xor=function(x){for(var y=Math.max(this.g.length,x.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)^x.i(A);return new a(T,this.h^x.h)};function ft(x){for(var y=x.g.length+1,T=[],A=0;A<y;A++)T[A]=x.i(A)<<1|x.i(A-1)>>>31;return new a(T,x.h)}function pt(x,y){var T=y>>5;y%=32;for(var A=x.g.length-T,I=[],S=0;S<A;S++)I[S]=0<y?x.i(S+T)>>>y|x.i(S+T+1)<<32-y:x.i(S+T);return new a(I,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,zf=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,Cn=a}).apply(typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{});var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kf,nr,Gf,mi,da,Qf,Wf,Yf;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,h){return o==Array.prototype||o==Object.prototype||(o[c]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ri=="object"&&ri];for(var c=0;c<o.length;++c){var h=o[c];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var s=n(this);function r(o,c){if(c)t:{var h=s;o=o.split(".");for(var g=0;g<o.length-1;g++){var P=o[g];if(!(P in h))break t;h=h[P]}o=o[o.length-1],g=h[o],c=c(g),c!=g&&c!=null&&t(h,o,{configurable:!0,writable:!0,value:c})}}function i(o,c){o instanceof String&&(o+="");var h=0,g=!1,P={next:function(){if(!g&&h<o.length){var D=h++;return{value:c(D,o[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(o){return o||function(){return i(this,function(c,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function f(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,h){return o.call.apply(o.bind,arguments)}function p(o,c,h){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,g),o.apply(c,P)}}return function(){return o.apply(c,arguments)}}function m(o,c,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function E(o,c){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function V(o,c){function h(){}h.prototype=c.prototype,o.aa=c.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(g,P,D){for(var q=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)q[Rt-2]=arguments[Rt];return c.prototype[P].apply(g,q)}}function R(o){const c=o.length;if(0<c){const h=Array(c);for(let g=0;g<c;g++)h[g]=o[g];return h}return[]}function k(o,c){for(let h=1;h<arguments.length;h++){const g=arguments[h];if(u(g)){const P=o.length||0,D=g.length||0;o.length=P+D;for(let q=0;q<D;q++)o[P+q]=g[q]}else o.push(g)}}class W{constructor(c,h){this.i=c,this.j=h,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function U(o){return/^[\s\xa0]*$/.test(o)}function H(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function z(o){return z[" "](o),o}z[" "]=function(){};var ft=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function pt(o,c,h){for(const g in o)c.call(h,o[g],g,o)}function x(o,c){for(const h in o)c.call(void 0,o[h],h,o)}function y(o){const c={};for(const h in o)c[h]=o[h];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let h,g;for(let P=1;P<arguments.length;P++){g=arguments[P];for(h in g)o[h]=g[h];for(let D=0;D<T.length;D++)h=T[D],Object.prototype.hasOwnProperty.call(g,h)&&(o[h]=g[h])}}function I(o){var c=1;o=o.split(":");const h=[];for(;0<c&&o.length;)h.push(o.shift()),c--;return o.length&&h.push(o.join(":")),h}function S(o){l.setTimeout(()=>{throw o},0)}function b(){var o=be;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class ue{constructor(){this.h=this.g=null}add(c,h){const g=Ae.get();g.set(c,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ae=new W(()=>new $t,o=>o.reset());class $t{constructor(){this.next=this.g=this.h=null}set(c,h){this.h=c,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,dt=!1,be=new ue,De=()=>{const o=l.Promise.resolve(void 0);gt=()=>{o.then(Ie)}};var Ie=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(h){S(h)}var c=Ae;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}dt=!1};function Nt(){this.s=this.s,this.C=this.C}Nt.prototype.s=!1,Nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ot(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};l.addEventListener("test",h,c),l.removeEventListener("test",h,c)}catch{}return o}();function Fe(o,c){if(Ot.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(ft){t:{try{z(c.nodeName);var P=!0;break t}catch{}P=!1}P||(c=null)}}else h=="mouseover"?c=o.fromElement:h=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:me[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Fe.aa.h.call(this)}}V(Fe,Ot);var me={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(o,c,h,g,P){this.listener=o,this.proxy=null,this.src=c,this.type=h,this.capture=!!g,this.ha=P,this.key=++X,this.da=this.fa=!1}function Z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function wt(o){this.src=o,this.g={},this.h=0}wt.prototype.add=function(o,c,h,g,P){var D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);var q=v(o,c,g,P);return-1<q?(c=o[q],h||(c.fa=!1)):(c=new Y(c,this.src,D,!!g,P),c.fa=h,o.push(c)),c};function _(o,c){var h=c.type;if(h in o.g){var g=o.g[h],P=Array.prototype.indexOf.call(g,c,void 0),D;(D=0<=P)&&Array.prototype.splice.call(g,P,1),D&&(Z(c),o.g[h].length==0&&(delete o.g[h],o.h--))}}function v(o,c,h,g){for(var P=0;P<o.length;++P){var D=o[P];if(!D.da&&D.listener==c&&D.capture==!!h&&D.ha==g)return P}return-1}var C="closure_lm_"+(1e6*Math.random()|0),O={};function L(o,c,h,g,P){if(Array.isArray(c)){for(var D=0;D<c.length;D++)L(o,c[D],h,g,P);return null}return h=rt(h),o&&o[N]?o.K(c,h,f(g)?!!g.capture:!1,P):M(o,c,h,!1,g,P)}function M(o,c,h,g,P,D){if(!c)throw Error("Invalid event type");var q=f(P)?!!P.capture:!!P,Rt=K(o);if(Rt||(o[C]=Rt=new wt(o)),h=Rt.add(c,h,g,q,D),h.proxy)return h;if(g=Q(),h.proxy=g,g.src=o,g.listener=h,o.addEventListener)dn||(P=q),P===void 0&&(P=!1),o.addEventListener(c.toString(),g,P);else if(o.attachEvent)o.attachEvent(B(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Q(){function o(h){return c.call(o.src,o.listener,h)}const c=et;return o}function j(o,c,h,g,P){if(Array.isArray(c))for(var D=0;D<c.length;D++)j(o,c[D],h,g,P);else g=f(g)?!!g.capture:!!g,h=rt(h),o&&o[N]?(o=o.i,c=String(c).toString(),c in o.g&&(D=o.g[c],h=v(D,h,g,P),-1<h&&(Z(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete o.g[c],o.h--)))):o&&(o=K(o))&&(c=o.g[c.toString()],o=-1,c&&(o=v(c,h,g,P)),(h=-1<o?c[o]:null)&&$(h))}function $(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[N])_(c.i,o);else{var h=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(h,g,o.capture):c.detachEvent?c.detachEvent(B(h),g):c.addListener&&c.removeListener&&c.removeListener(g),(h=K(c))?(_(h,o),h.h==0&&(h.src=null,c[C]=null)):Z(o)}}}function B(o){return o in O?O[o]:O[o]="on"+o}function et(o,c){if(o.da)o=!0;else{c=new Fe(c,this);var h=o.listener,g=o.ha||o.src;o.fa&&$(o),o=h.call(g,c)}return o}function K(o){return o=o[C],o instanceof wt?o:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(o){return typeof o=="function"?o:(o[tt]||(o[tt]=function(c){return o.handleEvent(c)}),o[tt])}function nt(){Nt.call(this),this.i=new wt(this),this.M=this,this.F=null}V(nt,Nt),nt.prototype[N]=!0,nt.prototype.removeEventListener=function(o,c,h,g){j(this,o,c,h,g)};function ct(o,c){var h,g=o.F;if(g)for(h=[];g;g=g.F)h.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new Ot(c,o);else if(c instanceof Ot)c.target=c.target||o;else{var P=c;c=new Ot(g,o),A(c,P)}if(P=!0,h)for(var D=h.length-1;0<=D;D--){var q=c.g=h[D];P=mt(q,g,!0,c)&&P}if(q=c.g=o,P=mt(q,g,!0,c)&&P,P=mt(q,g,!1,c)&&P,h)for(D=0;D<h.length;D++)q=c.g=h[D],P=mt(q,g,!1,c)&&P}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var h=o.g[c],g=0;g<h.length;g++)Z(h[g]);delete o.g[c],o.h--}}this.F=null},nt.prototype.K=function(o,c,h,g){return this.i.add(String(o),c,!1,h,g)},nt.prototype.L=function(o,c,h,g){return this.i.add(String(o),c,!0,h,g)};function mt(o,c,h,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var P=!0,D=0;D<c.length;++D){var q=c[D];if(q&&!q.da&&q.capture==h){var Rt=q.listener,Xt=q.ha||q.src;q.fa&&_(o.i,q),P=Rt.call(Xt,g)!==!1&&P}}return P&&!g.defaultPrevented}function Qt(o,c,h){if(typeof o=="function")h&&(o=m(o,h));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Wt(o){o.g=Qt(()=>{o.g=null,o.i&&(o.i=!1,Wt(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Ce extends Nt{constructor(c,h){super(),this.m=c,this.l=h,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(o){Nt.call(this),this.h=o,this.g={}}V(ee,Nt);var pn=[];function Ls(o){pt(o.g,function(c,h){this.g.hasOwnProperty(h)&&$(c)},o),o.g={}}ee.prototype.N=function(){ee.aa.N.call(this),Ls(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=l.JSON.stringify,Re=l.JSON.parse,Br=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function co(){}co.prototype.h=null;function Tl(o){return o.h||(o.h=o.i())}function wl(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uo(){Ot.call(this,"d")}V(uo,Ot);function ho(){Ot.call(this,"c")}V(ho,Ot);var Ln={},xl=null;function Ur(){return xl=xl||new nt}Ln.La="serverreachability";function Al(o){Ot.call(this,Ln.La,o)}V(Al,Ot);function Us(o){const c=Ur();ct(c,new Al(c))}Ln.STAT_EVENT="statevent";function Il(o,c){Ot.call(this,Ln.STAT_EVENT,o),this.stat=c}V(Il,Ot);function he(o){const c=Ur();ct(c,new Il(c,o))}Ln.Ma="timingevent";function Cl(o,c){Ot.call(this,Ln.Ma,o),this.size=c}V(Cl,Ot);function $s(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function js(){this.g=!0}js.prototype.xa=function(){this.g=!1};function ep(o,c,h,g,P,D){o.info(function(){if(o.g)if(D)for(var q="",Rt=D.split("&"),Xt=0;Xt<Rt.length;Xt++){var xt=Rt[Xt].split("=");if(1<xt.length){var ne=xt[0];xt=xt[1];var se=ne.split("_");q=2<=se.length&&se[1]=="type"?q+(ne+"="+xt+"&"):q+(ne+"=redacted&")}}else q=null;else q=D;return"XMLHTTP REQ ("+g+") [attempt "+P+"]: "+c+`
`+h+`
`+q})}function np(o,c,h,g,P,D,q){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+P+"]: "+c+`
`+h+`
`+D+" "+q})}function ts(o,c,h,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+rp(o,h)+(g?" "+g:"")})}function sp(o,c){o.info(function(){return"TIMEOUT: "+c})}js.prototype.info=function(){};function rp(o,c){if(!o.g)return c;if(!c)return null;try{var h=JSON.parse(c);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var g=h[o];if(!(2>g.length)){var P=g[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return Yt(h)}catch{return c}}var $r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fo;function jr(){}V(jr,co),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},fo=new jr;function gn(o,c,h,g){this.j=o,this.i=c,this.l=h,this.R=g||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sl}function Sl(){this.i=null,this.g="",this.h=!1}var Pl={},po={};function go(o,c,h){o.L=1,o.v=Kr(Xe(c)),o.m=h,o.P=!0,Vl(o,null)}function Vl(o,c){o.F=Date.now(),qr(o),o.A=Xe(o.v);var h=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),zl(h.i,"t",g),o.C=0,h=o.j.J,o.h=new Sl,o.g=cc(o.j,h?c:null,!o.m),0<o.O&&(o.M=new Ce(m(o.Y,o,o.g),o.O)),c=o.U,h=o.g,g=o.ca;var P="readystatechange";Array.isArray(P)||(P&&(pn[0]=P.toString()),P=pn);for(var D=0;D<P.length;D++){var q=L(h,P[D],g||c.handleEvent,!1,c.h||c);if(!q)break;c.g[q.key]=q}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Us(),ep(o.i,o.u,o.A,o.l,o.R,o.m)}gn.prototype.ca=function(o){o=o.target;const c=this.M;c&&Je(o)==3?c.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)t:{const se=Je(this.g);var c=this.g.Ba();const ss=this.g.Z();if(!(3>se)&&(se!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||se!=4||c==7||(c==8||0>=ss?Us(3):Us(2)),mo(this);var h=this.g.Z();this.X=h;e:if(Dl(this)){var g=Jl(this.g);o="";var P=g.length,D=Je(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),qs(this);var q="";break e}this.h.i=new l.TextDecoder}for(c=0;c<P;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(D&&c==P-1)});g.length=0,this.h.g+=o,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=h==200,np(this.i,this.u,this.A,this.l,this.R,se,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Rt,Xt=this.g;if((Rt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Rt)){var xt=Rt;break e}}xt=null}if(h=xt)ts(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,h);else{this.o=!1,this.s=3,he(12),Bn(this),qs(this);break t}}if(this.P){h=!0;let ke;for(;!this.J&&this.C<q.length;)if(ke=ip(this,q),ke==po){se==4&&(this.s=4,he(14),h=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Pl){this.s=4,he(15),ts(this.i,this.l,q,"[Invalid Chunk]"),h=!1;break}else ts(this.i,this.l,ke,null),_o(this,ke);if(Dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||q.length!=0||this.h.h||(this.s=1,he(16),h=!1),this.o=this.o&&h,!h)ts(this.i,this.l,q,"[Invalid Chunked Response]"),Bn(this),qs(this);else if(0<q.length&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.ba&&!ne.M&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),wo(ne),ne.M=!0,he(11))}}else ts(this.i,this.l,q,null),_o(this,q);se==4&&Bn(this),this.o&&!this.J&&(se==4?ic(this.j,this):(this.o=!1,qr(this)))}else Tp(this.g),h==400&&0<q.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Bn(this),qs(this)}}}catch{}finally{}};function Dl(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ip(o,c){var h=o.C,g=c.indexOf(`
`,h);return g==-1?po:(h=Number(c.substring(h,g)),isNaN(h)?Pl:(g+=1,g+h>c.length?po:(c=c.slice(g,g+h),o.C=g+h,c)))}gn.prototype.cancel=function(){this.J=!0,Bn(this)};function qr(o){o.S=Date.now()+o.I,kl(o,o.I)}function kl(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=$s(m(o.ba,o),c)}function mo(o){o.B&&(l.clearTimeout(o.B),o.B=null)}gn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(sp(this.i,this.A),this.L!=2&&(Us(),he(17)),Bn(this),this.s=2,qs(this)):kl(this,this.S-o)};function qs(o){o.j.G==0||o.J||ic(o.j,o)}function Bn(o){mo(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Ls(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function _o(o,c){try{var h=o.j;if(h.G!=0&&(h.g==o||yo(h.h,o))){if(!o.K&&yo(h.h,o)&&h.G==3){try{var g=h.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var P=g;if(P[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)Jr(h),Yr(h);else break t;To(h),he(18)}}else h.za=P[1],0<h.za-h.T&&37500>P[2]&&h.F&&h.v==0&&!h.C&&(h.C=$s(m(h.Za,h),6e3));if(1>=Ml(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else $n(h,11)}else if((o.K||h.g==o)&&Jr(h),!U(c))for(P=h.Da.g.parse(c),c=0;c<P.length;c++){let xt=P[c];if(h.T=xt[0],xt=xt[1],h.G==2)if(xt[0]=="c"){h.K=xt[1],h.ia=xt[2];const ne=xt[3];ne!=null&&(h.la=ne,h.j.info("VER="+h.la));const se=xt[4];se!=null&&(h.Aa=se,h.j.info("SVER="+h.Aa));const ss=xt[5];ss!=null&&typeof ss=="number"&&0<ss&&(g=1.5*ss,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;const ke=o.g;if(ke){const ti=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var D=g.h;D.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(vo(D,D.h),D.h=null))}if(g.D){const xo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(g.ya=xo,Vt(g.I,g.D,xo))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var q=o;if(g.qa=lc(g,g.J?g.ia:null,g.W),q.K){Fl(g.h,q);var Rt=q,Xt=g.L;Xt&&(Rt.I=Xt),Rt.B&&(mo(Rt),qr(Rt)),g.g=q}else sc(g);0<h.i.length&&Xr(h)}else xt[0]!="stop"&&xt[0]!="close"||$n(h,7);else h.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?$n(h,7):bo(h):xt[0]!="noop"&&h.l&&h.l.ta(xt),h.v=0)}}Us(4)}catch{}}var op=class{constructor(o,c){this.g=o,this.map=c}};function Nl(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ol(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ml(o){return o.h?1:o.g?o.g.size:0}function yo(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function vo(o,c){o.g?o.g.add(c):o.h=c}function Fl(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Nl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ll(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const h of o.g.values())c=c.concat(h.D);return c}return R(o.i)}function ap(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],h=o.length,g=0;g<h;g++)c.push(o[g]);return c}c=[],h=0;for(g in o)c[h++]=o[g];return c}function lp(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var h=0;h<o;h++)c.push(h);return c}c=[],h=0;for(const g in o)c[h++]=g;return c}}}function Bl(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var h=lp(o),g=ap(o),P=g.length,D=0;D<P;D++)c.call(void 0,g[D],h&&h[D],o)}var Ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cp(o,c){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var g=o[h].indexOf("="),P=null;if(0<=g){var D=o[h].substring(0,g);P=o[h].substring(g+1)}else D=o[h];c(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Un(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Un){this.h=o.h,Hr(this,o.j),this.o=o.o,this.g=o.g,zr(this,o.s),this.l=o.l;var c=o.i,h=new Ks;h.i=c.i,c.g&&(h.g=new Map(c.g),h.h=c.h),$l(this,h),this.m=o.m}else o&&(c=String(o).match(Ul))?(this.h=!1,Hr(this,c[1]||"",!0),this.o=Hs(c[2]||""),this.g=Hs(c[3]||"",!0),zr(this,c[4]),this.l=Hs(c[5]||"",!0),$l(this,c[6]||"",!0),this.m=Hs(c[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}Un.prototype.toString=function(){var o=[],c=this.j;c&&o.push(zs(c,jl,!0),":");var h=this.g;return(h||c=="file")&&(o.push("//"),(c=this.o)&&o.push(zs(c,jl,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(zs(h,h.charAt(0)=="/"?fp:hp,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",zs(h,pp)),o.join("")};function Xe(o){return new Un(o)}function Hr(o,c,h){o.j=h?Hs(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function zr(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function $l(o,c,h){c instanceof Ks?(o.i=c,gp(o.i,o.h)):(h||(c=zs(c,dp)),o.i=new Ks(c,o.h))}function Vt(o,c,h){o.i.set(c,h)}function Kr(o){return Vt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Hs(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zs(o,c,h){return typeof o=="string"?(o=encodeURI(o).replace(c,up),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function up(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var jl=/[#\/\?@]/g,hp=/[#\?:]/g,fp=/[#\?]/g,dp=/[#\?@]/g,pp=/#/g;function Ks(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&cp(o.i,function(c,h){o.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}e=Ks.prototype,e.add=function(o,c){mn(this),this.i=null,o=es(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(c),this.h+=1,this};function ql(o,c){mn(o),c=es(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Hl(o,c){return mn(o),c=es(o,c),o.g.has(c)}e.forEach=function(o,c){mn(this),this.g.forEach(function(h,g){h.forEach(function(P){o.call(c,P,g,this)},this)},this)},e.na=function(){mn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),h=[];for(let g=0;g<c.length;g++){const P=o[g];for(let D=0;D<P.length;D++)h.push(c[g])}return h},e.V=function(o){mn(this);let c=[];if(typeof o=="string")Hl(this,o)&&(c=c.concat(this.g.get(es(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)c=c.concat(o[h])}return c},e.set=function(o,c){return mn(this),this.i=null,o=es(this,o),Hl(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function zl(o,c,h){ql(o,c),0<h.length&&(o.i=null,o.g.set(es(o,c),R(h)),o.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var h=0;h<c.length;h++){var g=c[h];const D=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var P=D;q[g]!==""&&(P+="="+encodeURIComponent(String(q[g]))),o.push(P)}}return this.i=o.join("&")};function es(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function gp(o,c){c&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(h,g){var P=g.toLowerCase();g!=P&&(ql(this,g),zl(this,P,h))},o)),o.j=c}function mp(o,c){const h=new js;if(l.Image){const g=new Image;g.onload=E(_n,h,"TestLoadImage: loaded",!0,c,g),g.onerror=E(_n,h,"TestLoadImage: error",!1,c,g),g.onabort=E(_n,h,"TestLoadImage: abort",!1,c,g),g.ontimeout=E(_n,h,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function _p(o,c){const h=new js,g=new AbortController,P=setTimeout(()=>{g.abort(),_n(h,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(D=>{clearTimeout(P),D.ok?_n(h,"TestPingServer: ok",!0,c):_n(h,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(P),_n(h,"TestPingServer: error",!1,c)})}function _n(o,c,h,g,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),g(h)}catch{}}function yp(){this.g=new Br}function vp(o,c,h){const g=h||"";try{Bl(o,function(P,D){let q=P;f(P)&&(q=Yt(P)),c.push(g+D+"="+encodeURIComponent(q))})}catch(P){throw c.push(g+"type="+encodeURIComponent("_badmap")),P}}function Gr(o){this.l=o.Ub||null,this.j=o.eb||!1}V(Gr,co),Gr.prototype.g=function(){return new Qr(this.l,this.j)},Gr.prototype.i=function(o){return function(){return o}}({});function Qr(o,c){nt.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Qr,nt),e=Qr.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Qs(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Gs(this):Qs(this),this.readyState==3&&Kl(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Gs(this))},e.Qa=function(o){this.g&&(this.response=o,Gs(this))},e.ga=function(){this.g&&Gs(this)};function Gs(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qs(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var h=c.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=c.next();return o.join(`\r
`)};function Qs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Gl(o){let c="";return pt(o,function(h,g){c+=g,c+=":",c+=h,c+=`\r
`}),c}function Eo(o,c,h){t:{for(g in h){var g=!1;break t}g=!0}g||(h=Gl(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):Vt(o,c,h))}function Ft(o){nt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ft,nt);var Ep=/^https?$/i,bp=["POST","PUT"];e=Ft.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fo.g(),this.v=this.o?Tl(this.o):Tl(fo),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(D){Ql(this,D);return}if(o=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var P in g)h.set(P,g[P]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(bp,c,void 0))||g||P||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,q]of h)this.g.setRequestHeader(D,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xl(this),this.u=!0,this.g.send(o),this.u=!1}catch(D){Ql(this,D)}};function Ql(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Wl(o),Wr(o)}function Wl(o){o.A||(o.A=!0,ct(o,"complete"),ct(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ct(this,"complete"),ct(this,"abort"),Wr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Yl(this):this.bb())},e.bb=function(){Yl(this)};function Yl(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Je(o)!=4||o.Z()!=2)){if(o.u&&Je(o)==4)Qt(o.Ea,0,o);else if(ct(o,"readystatechange"),Je(o)==4){o.h=!1;try{const q=o.Z();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var g;if(g=q===0){var P=String(o.D).match(Ul)[1]||null;!P&&l.self&&l.self.location&&(P=l.self.location.protocol.slice(0,-1)),g=!Ep.test(P?P.toLowerCase():"")}h=g}if(h)ct(o,"complete"),ct(o,"success");else{o.m=6;try{var D=2<Je(o)?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.Z()+"]",Wl(o)}}finally{Wr(o)}}}}function Wr(o,c){if(o.g){Xl(o);const h=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ct(o,"ready");try{h.onreadystatechange=g}catch{}}}function Xl(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Je(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Je(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Re(c)}};function Jl(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Tp(o){const c={};o=(o.g&&2<=Je(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(U(o[g]))continue;var h=I(o[g]);const P=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const D=c[P]||[];c[P]=D,D.push(h)}x(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(o,c,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||c}function Zl(o){this.Aa=0,this.i=[],this.j=new js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,o),this.cb=Ws("retryDelaySeedMs",1e4,o),this.Wa=Ws("forwardChannelMaxRetries",2,o),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Nl(o&&o.concurrentRequestLimit),this.Da=new yp,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Zl.prototype,e.la=8,e.G=1,e.connect=function(o,c,h,g){he(0),this.W=o,this.H=c||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=lc(this,null,this.W),Xr(this)};function bo(o){if(tc(o),o.G==3){var c=o.U++,h=Xe(o.I);if(Vt(h,"SID",o.K),Vt(h,"RID",c),Vt(h,"TYPE","terminate"),Ys(o,h),c=new gn(o,o.j,c),c.L=2,c.v=Kr(Xe(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=c.v,h=!0),h||(c.g=cc(c.j,null),c.g.ea(c.v)),c.F=Date.now(),qr(c)}ac(o)}function Yr(o){o.g&&(wo(o),o.g.cancel(),o.g=null)}function tc(o){Yr(o),o.u&&(l.clearTimeout(o.u),o.u=null),Jr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Xr(o){if(!Ol(o.h)&&!o.s){o.s=!0;var c=o.Ga;gt||De(),dt||(gt(),dt=!0),be.add(c,o),o.B=0}}function wp(o,c){return Ml(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=$s(m(o.Ga,o,c),oc(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const P=new gn(this,this.j,o);let D=this.o;if(this.S&&(D?(D=y(D),A(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)t:{for(var c=0,h=0;h<this.i.length;h++){e:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=h;break t}if(c===4096||h===this.i.length-1){c=h+1;break t}}c=1e3}else c=1e3;c=nc(this,P,c),h=Xe(this.I),Vt(h,"RID",o),Vt(h,"CVER",22),this.D&&Vt(h,"X-HTTP-Session-Id",this.D),Ys(this,h),D&&(this.O?c="headers="+encodeURIComponent(String(Gl(D)))+"&"+c:this.m&&Eo(h,this.m,D)),vo(this.h,P),this.Ua&&Vt(h,"TYPE","init"),this.P?(Vt(h,"$req",c),Vt(h,"SID","null"),P.T=!0,go(P,h,null)):go(P,h,c),this.G=2}}else this.G==3&&(o?ec(this,o):this.i.length==0||Ol(this.h)||ec(this))};function ec(o,c){var h;c?h=c.l:h=o.U++;const g=Xe(o.I);Vt(g,"SID",o.K),Vt(g,"RID",h),Vt(g,"AID",o.T),Ys(o,g),o.m&&o.o&&Eo(g,o.m,o.o),h=new gn(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),c&&(o.i=c.D.concat(o.i)),c=nc(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),vo(o.h,h),go(h,g,c)}function Ys(o,c){o.H&&pt(o.H,function(h,g){Vt(c,g,h)}),o.l&&Bl({},function(h,g){Vt(c,g,h)})}function nc(o,c,h){h=Math.min(o.i.length,h);var g=o.l?m(o.l.Na,o.l,o):null;t:{var P=o.i;let D=-1;for(;;){const q=["count="+h];D==-1?0<h?(D=P[0].g,q.push("ofs="+D)):D=0:q.push("ofs="+D);let Rt=!0;for(let Xt=0;Xt<h;Xt++){let xt=P[Xt].g;const ne=P[Xt].map;if(xt-=D,0>xt)D=Math.max(0,P[Xt].g-100),Rt=!1;else try{vp(ne,q,"req"+xt+"_")}catch{g&&g(ne)}}if(Rt){g=q.join("&");break t}}}return o=o.i.splice(0,h),c.D=o,g}function sc(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;gt||De(),dt||(gt(),dt=!0),be.add(c,o),o.v=0}}function To(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=$s(m(o.Fa,o),oc(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=$s(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),Yr(this),rc(this))};function wo(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function rc(o){o.g=new gn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=Xe(o.qa);Vt(c,"RID","rpc"),Vt(c,"SID",o.K),Vt(c,"AID",o.T),Vt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Vt(c,"TO",o.ja),Vt(c,"TYPE","xmlhttp"),Ys(o,c),o.m&&o.o&&Eo(c,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Kr(Xe(c)),h.m=null,h.P=!0,Vl(h,o)}e.Za=function(){this.C!=null&&(this.C=null,Yr(this),To(this),he(19))};function Jr(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function ic(o,c){var h=null;if(o.g==c){Jr(o),wo(o),o.g=null;var g=2}else if(yo(o.h,c))h=c.D,Fl(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){h=c.m?c.m.length:0,c=Date.now()-c.F;var P=o.B;g=Ur(),ct(g,new Cl(g,h)),Xr(o)}else sc(o);else if(P=c.s,P==3||P==0&&0<c.X||!(g==1&&wp(o,c)||g==2&&To(o)))switch(h&&0<h.length&&(c=o.h,c.i=c.i.concat(h)),P){case 1:$n(o,5);break;case 4:$n(o,10);break;case 3:$n(o,6);break;default:$n(o,2)}}}function oc(o,c){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*c}function $n(o,c){if(o.j.info("Error code "+c),c==2){var h=m(o.fb,o),g=o.Xa;const P=!g;g=new Un(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Hr(g,"https"),Kr(g),P?mp(g.toString(),h):_p(g.toString(),h)}else he(2);o.G=0,o.l&&o.l.sa(c),ac(o),tc(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function ac(o){if(o.G=0,o.ka=[],o.l){const c=Ll(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,R(o.i),o.i.length=0),o.l.ra()}}function lc(o,c,h){var g=h instanceof Un?Xe(h):new Un(h);if(g.g!="")c&&(g.g=c+"."+g.g),zr(g,g.s);else{var P=l.location;g=P.protocol,c=c?c+"."+P.hostname:P.hostname,P=+P.port;var D=new Un(null);g&&Hr(D,g),c&&(D.g=c),P&&zr(D,P),h&&(D.l=h),g=D}return h=o.D,c=o.ya,h&&c&&Vt(g,h,c),Vt(g,"VER",o.la),Ys(o,g),g}function cc(o,c,h){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Ft(new Gr({eb:h})):new Ft(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}e=uc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Zr(){}Zr.prototype.g=function(o,c){return new Te(o,c)};function Te(o,c){nt.call(this),this.g=new Zl(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!U(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!U(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ns(this)}V(Te,nt),Te.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Te.prototype.close=function(){bo(this.g)},Te.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=Yt(o),o=h);c.i.push(new op(c.Ya++,o)),c.G==3&&Xr(c)},Te.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Te.aa.N.call(this)};function hc(o){uo.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const h in c){o=h;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}V(hc,uo);function fc(){ho.call(this),this.status=1}V(fc,ho);function ns(o){this.g=o}V(ns,uc),ns.prototype.ua=function(){ct(this.g,"a")},ns.prototype.ta=function(o){ct(this.g,new hc(o))},ns.prototype.sa=function(o){ct(this.g,new fc)},ns.prototype.ra=function(){ct(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,Te.prototype.send=Te.prototype.o,Te.prototype.open=Te.prototype.m,Te.prototype.close=Te.prototype.close,Yf=function(){return new Zr},Wf=function(){return Ur()},Qf=Ln,da={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,mi=$r,Rl.COMPLETE="complete",Gf=Rl,wl.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",nt.prototype.listen=nt.prototype.K,nr=wl,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Kf=Ft}).apply(typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{});const _u="@firebase/firestore",yu="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ie.UNAUTHENTICATED=new ie(null),ie.GOOGLE_CREDENTIALS=new ie("google-credentials-uid"),ie.FIRST_PARTY=new ie("first-party-uid"),ie.MOCK_USER=new ie("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Bf("@firebase/firestore");function ls(){return Xn.logLevel}function J(e,...t){if(Xn.logLevel<=yt.DEBUG){const n=t.map(el);Xn.debug(`Firestore (${Ns}): ${e}`,...n)}}function hn(e,...t){if(Xn.logLevel<=yt.ERROR){const n=t.map(el);Xn.error(`Firestore (${Ns}): ${e}`,...n)}}function Is(e,...t){if(Xn.logLevel<=yt.WARN){const n=t.map(el);Xn.warn(`Firestore (${Ns}): ${e}`,...n)}}function el(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Xf(e,s,n)}function Xf(e,t,n){let s=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hn(s),new Error(s)}function Mt(e,t,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,e||Xf(t,r,s)}function Et(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ks{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class l0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ie.UNAUTHENTICATED))}shutdown(){}}class c0{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u0{constructor(t){this.t=t,this.currentUser=ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Mt(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qn,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qn)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt(typeof s.accessToken=="string",31837,{l:s}),new Jf(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mt(t===null||typeof t=="string",2055,{h:t}),new ie(t)}}class h0{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ie.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f0{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new h0(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ie.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d0{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gv(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Mt(this.o===void 0,3512);const s=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>s(i))};const r=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vu(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=p0(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%62))}return s}}function ht(e,t){return e<t?-1:e>t?1:0}function pa(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),r=t.codePointAt(n);if(s!==r){if(s<128&&r<128)return ht(s,r);{const i=Zf(),a=m0(i.encode(Eu(e,n)),i.encode(Eu(t,n)));return a!==0?a:ht(s,r)}}n+=s>65535?2:1}return ht(e.length,t.length)}function Eu(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function m0(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ht(e[n],t[n]);return ht(e.length,t.length)}function Cs(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-62135596800,Tu=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(t){return Ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Tu);return new Ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bu)throw new st(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tu}_compareTo(t){return this.seconds===t.seconds?ht(this.nanoseconds,t.nanoseconds):ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-bu;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new Ee(0,0))}static max(){return new at(new Ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="__name__";class Ue{constructor(t,n,s){n===void 0?n=0:n>t.length&&lt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&lt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ue.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ue?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=Ue.compareSegments(t.get(r),n.get(r));if(i!==0)return i}return ht(t.length,n.length)}static compareSegments(t,n){const s=Ue.isNumericId(t),r=Ue.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Ue.extractNumericId(t).compare(Ue.extractNumericId(n)):pa(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cn.fromString(t.substring(4,t.length-2))}}class Lt extends Ue{construct(t,n,s){return new Lt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const _0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ge extends Ue{construct(t,n,s){return new ge(t,n,s)}static isValidIdentifier(t){return _0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wu}static keyField(){return new ge([wu])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new st(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new st(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new st(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new st(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ge(n)}static emptyPath(){return new ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(Lt.fromString(t))}static fromName(t){return new it(Lt.fromString(t).popFirst(5))}static empty(){return new it(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Lt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new Lt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=-1;function y0(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=at.fromTimestamp(s===1e9?new Ee(n+1,0):new Ee(n,s));return new Vn(r,it.empty(),t)}function v0(e){return new Vn(e.readTime,e.key,Sr)}class Vn{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Vn(at.min(),it.empty(),Sr)}static max(){return new Vn(at.max(),it.empty(),Sr)}}function E0(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==b0)throw e;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,s)=>{n(t)})}static reject(t){return new F((n,s)=>{s(t)})}static waitFor(t){return new F((n,s)=>{let r=0,i=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},u=>s(u))}),a=!0,i===r&&n()})}static or(t){let n=F.resolve(!1);for(const s of t)n=n.next(r=>r?F.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(t,n){return new F((s,r)=>{const i=t.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const f=u;n(t[f]).next(d=>{a[f]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(t,n){return new F((s,r)=>{const i=()=>{t()===!0?n().next(()=>{i()},r):s()};i()})}}function w0(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Os(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ji.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-1;function Zi(e){return e==null}function ga(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="";function A0(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xu(t)),t=I0(e.get(n),t);return xu(t)}function I0(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const i=e.charAt(r);switch(i){case"\0":n+="";break;case td:n+="";break;default:n+=i}}return n}function xu(e){return e+td+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Or(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function C0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,n){this.comparator=t,this.root=n||Jt.EMPTY}insert(t,n){return new Ut(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ii(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ii(this.root,t,this.comparator,!1)}getReverseIterator(){return new ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ii(this.root,t,this.comparator,!0)}}class ii{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,n&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jt{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s??Jt.RED,this.left=r??Jt.EMPTY,this.right=i??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new Jt(t??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Jt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw lt(27949);return t+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(t,n,s,r,i){return this}insert(t,n,s){return new Jt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iu(this.data.getIterator())}getIteratorFrom(t){return new Iu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new zt(this.comparator);return n.data=t,n}}class Iu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(ge.comparator)}static empty(){return new Tn([])}unionWith(t){let n=new zt(ge.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Cs(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ed("Invalid base64 string: "+i):i}}(t);return new te(n)}static fromUint8Array(t){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(t);return new te(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}te.EMPTY_BYTE_STRING=new te("");const R0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dn(e){if(Mt(!!e,39018),typeof e=="string"){let t=0;const n=R0.exec(e);if(Mt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function kn(e){return typeof e=="string"?te.fromBase64String(e):te.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="server_timestamp",sd="__type__",rd="__previous_value__",id="__local_write_time__";function nl(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[sd])===null||n===void 0?void 0:n.stringValue)===nd}function to(e){const t=e.mapValue.fields[rd];return nl(t)?to(t):t}function Pr(e){const t=Dn(e.mapValue.fields[id].timestampValue);return new Ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n,s,r,i,a,l,u,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=d}}const Di="(default)";class Vr{constructor(t,n){this.projectId=t,this.database=n||Di}static empty(){return new Vr("","")}get isDefaultDatabase(){return this.database===Di}isEqual(t){return t instanceof Vr&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__type__",V0="__max__",oi={mapValue:{}},D0="__vector__",ma="value";function Nn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nl(e)?4:N0(e)?9007199254740991:k0(e)?10:11:lt(28295,{value:e})}function Qe(e,t){if(e===t)return!0;const n=Nn(e);if(n!==Nn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pr(e).isEqual(Pr(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Dn(r.timestampValue),l=Dn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return kn(r.bytesValue).isEqual(kn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Bt(r.doubleValue),l=Bt(i.doubleValue);return a===l?ga(a)===ga(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Cs(e.arrayValue.values||[],t.arrayValue.values||[],Qe);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Au(a)!==Au(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Qe(a[u],l[u])))return!1;return!0}(e,t);default:return lt(52216,{left:e})}}function Dr(e,t){return(e.values||[]).find(n=>Qe(n,t))!==void 0}function Rs(e,t){if(e===t)return 0;const n=Nn(e),s=Nn(t);if(n!==s)return ht(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(e.booleanValue,t.booleanValue);case 2:return function(i,a){const l=Bt(i.integerValue||i.doubleValue),u=Bt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Cu(e.timestampValue,t.timestampValue);case 4:return Cu(Pr(e),Pr(t));case 5:return pa(e.stringValue,t.stringValue);case 6:return function(i,a){const l=kn(i),u=kn(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const l=i.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const d=ht(l[f],u[f]);if(d!==0)return d}return ht(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const l=ht(Bt(i.latitude),Bt(a.latitude));return l!==0?l:ht(Bt(i.longitude),Bt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ru(e.arrayValue,t.arrayValue);case 10:return function(i,a){var l,u,f,d;const p=i.fields||{},m=a.fields||{},E=(l=p[ma])===null||l===void 0?void 0:l.arrayValue,V=(u=m[ma])===null||u===void 0?void 0:u.arrayValue,R=ht(((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0,((d=V==null?void 0:V.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:Ru(E,V)}(e.mapValue,t.mapValue);case 11:return function(i,a){if(i===oi.mapValue&&a===oi.mapValue)return 0;if(i===oi.mapValue)return 1;if(a===oi.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),f=a.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=pa(u[p],d[p]);if(m!==0)return m;const E=Rs(l[u[p]],f[d[p]]);if(E!==0)return E}return ht(u.length,d.length)}(e.mapValue,t.mapValue);default:throw lt(23264,{Pe:n})}}function Cu(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ht(e,t);const n=Dn(e),s=Dn(t),r=ht(n.seconds,s.seconds);return r!==0?r:ht(n.nanos,s.nanos)}function Ru(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Rs(n[r],s[r]);if(i)return i}return ht(n.length,s.length)}function Ss(e){return _a(e)}function _a(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=Dn(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return kn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return it.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=_a(i);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${_a(n.fields[a])}`;return r+"}"}(e.mapValue):lt(61005,{value:e})}function _i(e){switch(Nn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=to(e);return t?16+_i(t):16;case 5:return 2*e.stringValue.length;case 6:return kn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+_i(i),0)}(e.arrayValue);case 10:case 11:return function(s){let r=0;return Or(s.fields,(i,a)=>{r+=i.length+_i(a)}),r}(e.mapValue);default:throw lt(13486,{value:e})}}function ya(e){return!!e&&"integerValue"in e}function sl(e){return!!e&&"arrayValue"in e}function Su(e){return!!e&&"nullValue"in e}function Pu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jo(e){return!!e&&"mapValue"in e}function k0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[P0])===null||n===void 0?void 0:n.stringValue)===D0}function mr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Or(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=mr(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function N0(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===V0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.value=t}static empty(){return new He({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!jo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=mr(n)}setAll(t){let n=ge.emptyPath(),s={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=mr(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());jo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qe(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];jo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){Or(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new He(mr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n,s,r,i,a,l){this.key=t,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ae(t,0,at.min(),at.min(),at.min(),He.empty(),0)}static newFoundDocument(t,n,s,r){return new ae(t,1,n,at.min(),s,r,0)}static newNoDocument(t,n){return new ae(t,2,n,at.min(),at.min(),He.empty(),0)}static newUnknownDocument(t,n){return new ae(t,3,n,at.min(),at.min(),He.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=He.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=He.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ae&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n){this.position=t,this.inclusive=n}}function Vu(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],a=e.position[r];if(i.field.isKeyField()?s=it.comparator(it.fromName(a.referenceValue),n.key):s=Rs(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Du(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qe(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n="asc"){this.field=t,this.dir=n}}function O0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{}class Ht extends od{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new F0(t,n,s):n==="array-contains"?new U0(t,s):n==="in"?new $0(t,s):n==="not-in"?new j0(t,s):n==="array-contains-any"?new q0(t,s):new Ht(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new L0(t,s):new B0(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rs(n,this.value)):n!==null&&Nn(this.value)===Nn(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class We extends od{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new We(t,n)}matches(t){return ad(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ad(e){return e.op==="and"}function ld(e){return M0(e)&&ad(e)}function M0(e){for(const t of e.filters)if(t instanceof We)return!1;return!0}function va(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+Ss(e.value);if(ld(e))return e.filters.map(t=>va(t)).join(",");{const t=e.filters.map(n=>va(n)).join(",");return`${e.op}(${t})`}}function cd(e,t){return e instanceof Ht?function(s,r){return r instanceof Ht&&s.op===r.op&&s.field.isEqual(r.field)&&Qe(s.value,r.value)}(e,t):e instanceof We?function(s,r){return r instanceof We&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&cd(a,r.filters[l]),!0):!1}(e,t):void lt(19439)}function ud(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ss(n.value)}`}(e):e instanceof We?function(n){return n.op.toString()+" {"+n.getFilters().map(ud).join(" ,")+"}"}(e):"Filter"}class F0 extends Ht{constructor(t,n,s){super(t,n,s),this.key=it.fromName(s.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class L0 extends Ht{constructor(t,n){super(t,"in",n),this.keys=hd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class B0 extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=hd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function hd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>it.fromName(s.referenceValue))}class U0 extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sl(n)&&Dr(n.arrayValue,this.value)}}class $0 extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Dr(this.value.arrayValue,n)}}class j0 extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(Dr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dr(this.value.arrayValue,n)}}class q0 extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n=null,s=[],r=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function ku(e,t=null,n=[],s=[],r=null,i=null,a=null){return new H0(e,t,n,s,r,i,a)}function rl(e){const t=Et(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>va(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Zi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ss(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ss(s)).join(",")),t.Ie=n}return t.Ie}function il(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!O0(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Du(e.startAt,t.startAt)&&Du(e.endAt,t.endAt)}function Ea(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n=null,s=[],r=[],i=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function z0(e,t,n,s,r,i,a,l){return new eo(e,t,n,s,r,i,a,l)}function fd(e){return new eo(e)}function Nu(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function K0(e){return e.collectionGroup!==null}function _r(e){const t=Et(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),n.add(i.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new zt(ge.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Ni(i,s))}),n.has(ge.keyField().canonicalString())||t.Ee.push(new Ni(ge.keyField(),s))}return t.Ee}function Ke(e){const t=Et(e);return t.de||(t.de=G0(t,_r(e))),t.de}function G0(e,t){if(e.limitType==="F")return ku(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Ni(r.field,i)});const n=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;return ku(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ba(e,t,n){return new eo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function no(e,t){return il(Ke(e),Ke(t))&&e.limitType===t.limitType}function dd(e){return`${rl(Ke(e))}|lt:${e.limitType}`}function cs(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>ud(r)).join(", ")}]`),Zi(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Ss(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Ss(r)).join(",")),`Target(${s})`}(Ke(e))}; limitType=${e.limitType})`}function so(e,t){return t.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):it.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(e,t)&&function(s,r){for(const i of _r(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(s,r){return!(s.startAt&&!function(a,l,u){const f=Vu(a,l,u);return a.inclusive?f<=0:f<0}(s.startAt,_r(s),r)||s.endAt&&!function(a,l,u){const f=Vu(a,l,u);return a.inclusive?f>=0:f>0}(s.endAt,_r(s),r))}(e,t)}function Q0(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pd(e){return(t,n)=>{let s=!1;for(const r of _r(e)){const i=W0(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function W0(e,t,n){const s=e.field.isKeyField()?it.comparator(t.key,n.key):function(i,a,l){const u=a.data.field(i),f=l.data.field(i);return u!==null&&f!==null?Rs(u,f):lt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return lt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Or(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Ut(it.comparator);function On(){return Y0}const gd=new Ut(it.comparator);function sr(...e){let t=gd;for(const n of e)t=t.insert(n.key,n);return t}function X0(e){let t=gd;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Kn(){return yr()}function md(){return yr()}function yr(){return new Zn(e=>e.toString(),(e,t)=>e.isEqual(t))}const J0=new zt(it.comparator);function Tt(...e){let t=J0;for(const n of e)t=t.add(n);return t}const Z0=new zt(ht);function tE(){return Z0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ga(t)?"-0":t}}function nE(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this._=void 0}}function sE(e,t,n){return e instanceof Ta?function(r,i){const a={fields:{[sd]:{stringValue:nd},[id]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&nl(i)&&(i=to(i)),i&&(a.fields[rd]=i),{mapValue:a}}(n,t):e instanceof Oi?_d(e,t):e instanceof Mi?yd(e,t):function(r,i){const a=iE(r,i),l=Ou(a)+Ou(r.Re);return ya(a)&&ya(r.Re)?nE(l):eE(r.serializer,l)}(e,t)}function rE(e,t,n){return e instanceof Oi?_d(e,t):e instanceof Mi?yd(e,t):n}function iE(e,t){return e instanceof wa?function(s){return ya(s)||function(i){return!!i&&"doubleValue"in i}(s)}(t)?t:{integerValue:0}:null}class Ta extends ro{}class Oi extends ro{constructor(t){super(),this.elements=t}}function _d(e,t){const n=vd(t);for(const s of e.elements)n.some(r=>Qe(r,s))||n.push(s);return{arrayValue:{values:n}}}class Mi extends ro{constructor(t){super(),this.elements=t}}function yd(e,t){let n=vd(t);for(const s of e.elements)n=n.filter(r=>!Qe(r,s));return{arrayValue:{values:n}}}class wa extends ro{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Ou(e){return Bt(e.integerValue||e.doubleValue)}function vd(e){return sl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function oE(e,t){return e.field.isEqual(t.field)&&function(s,r){return s instanceof Oi&&r instanceof Oi||s instanceof Mi&&r instanceof Mi?Cs(s.elements,r.elements,Qe):s instanceof wa&&r instanceof wa?Qe(s.Re,r.Re):s instanceof Ta&&r instanceof Ta}(e.transform,t.transform)}class Wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ol{}function Ed(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lE(e.key,Wn.none()):new al(e.key,e.data,Wn.none());{const n=e.data,s=He.empty();let r=new zt(ge.comparator);for(let i of t.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new io(e.key,s,new Tn(r.toArray()),Wn.none())}}function aE(e,t,n){e instanceof al?function(r,i,a){const l=r.value.clone(),u=Fu(r.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof io?function(r,i,a){if(!yi(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Fu(r.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(bd(r)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function vr(e,t,n,s){return e instanceof al?function(i,a,l,u){if(!yi(i.precondition,a))return l;const f=i.value.clone(),d=Lu(i.fieldTransforms,u,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,s):e instanceof io?function(i,a,l,u){if(!yi(i.precondition,a))return l;const f=Lu(i.fieldTransforms,u,a),d=a.data;return d.setAll(bd(i)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(e,t,n,s):function(i,a,l){return yi(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function Mu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Cs(s,r,(i,a)=>oE(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class al extends ol{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class io extends ol{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Fu(e,t,n){const s=new Map;Mt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let r=0;r<n.length;r++){const i=e[r],a=i.transform,l=t.data.field(i.field);s.set(i.field,rE(a,l,n[r]))}return s}function Lu(e,t,n){const s=new Map;for(const r of e){const i=r.transform,a=n.data.field(r.field);s.set(r.field,sE(i,a,t))}return s}class lE extends ol{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&aE(i,t,s[r])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=vr(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=vr(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=md();return this.mutations.forEach(r=>{const i=t.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const u=Ed(a,l);u!==null&&s.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(at.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Tt())}isEqual(t){return this.batchId===t.batchId&&Cs(this.mutations,t.mutations,(n,s)=>Mu(n,s))&&Cs(this.baseMutations,t.baseMutations,(n,s)=>Mu(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,_t;function Td(e){if(e===void 0)return hn("GRPC error has no .code"),G.UNKNOWN;switch(e){case jt.OK:return G.OK;case jt.CANCELLED:return G.CANCELLED;case jt.UNKNOWN:return G.UNKNOWN;case jt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case jt.INTERNAL:return G.INTERNAL;case jt.UNAVAILABLE:return G.UNAVAILABLE;case jt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case jt.NOT_FOUND:return G.NOT_FOUND;case jt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case jt.ABORTED:return G.ABORTED;case jt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case jt.DATA_LOSS:return G.DATA_LOSS;default:return lt(39323,{code:e})}}(_t=jt||(jt={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Cn([4294967295,4294967295],0);function Bu(e){const t=Zf().encode(e),n=new zf;return n.update(t),new Uint8Array(n.digest())}function Uu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Cn([n,s],0),new Cn([r,i],0)]}class ll{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new rr(`Invalid padding: ${n}`);if(s<0)throw new rr(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new rr(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new rr(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Cn.fromNumber(this.pe)}we(t,n,s){let r=t.add(n.multiply(Cn.fromNumber(s)));return r.compare(fE)===1&&(r=new Cn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Bu(t),[s,r]=Uu(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);if(!this.be(a))return!1}return!0}static create(t,n,s){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new ll(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=Bu(t),[s,r]=Uu(n);for(let i=0;i<this.hashCount;i++){const a=this.we(s,r,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class rr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n,s,r,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const r=new Map;return r.set(t,Mr.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new oo(at.min(),r,new Ut(ht),On(),Tt())}}class Mr{constructor(t,n,s,r,i){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Mr(s,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,s,r){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=r}}class wd{constructor(t,n){this.targetId=t,this.Ce=n}}class xd{constructor(t,n,s=te.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=r}}class $u{constructor(){this.Fe=0,this.Me=ju(),this.xe=te.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Tt(),n=Tt(),s=Tt();return this.Me.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:lt(38017,{changeType:i})}}),new Mr(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=ju()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dE{constructor(t){this.ze=t,this.je=new Map,this.He=On(),this.Je=ai(),this.Ye=ai(),this.Ze=new Ut(ht)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:lt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(t){const n=t.targetId,s=t.Ce.count,r=this._t(n);if(r){const i=r.target;if(Ea(i))if(s===0){const a=new it(i.path);this.tt(n,a,ae.newNoDocument(a,at.min()))}else Mt(s===1,20013,{expectedCount:s});else{const a=this.ut(n);if(a!==s){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=kn(s).toUint8Array()}catch(u){if(u instanceof ed)return Is("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ll(a,r,i)}catch(u){return Is(u instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,i,null),r++)}),r}It(t){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Ea(l.target)){const u=new it(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,ae.newNoDocument(u,t))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let s=Tt();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.He.forEach((i,a)=>a.setReadTime(t));const r=new oo(t,n,this.Ze,this.He,s);return this.He=On(),this.Je=ai(),this.Ye=ai(),this.Ze=new Ut(ht),r}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const r=this.rt(t);this.dt(t,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new $u,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new zt(ht),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new zt(ht),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new $u),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function ai(){return new Ut(it.comparator)}function ju(){return new Ut(it.comparator)}const pE={asc:"ASCENDING",desc:"DESCENDING"},gE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mE={and:"AND",or:"OR"};class _E{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xa(e,t){return e.useProto3Json||Zi(t)?t:{value:t}}function yE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vs(e){return Mt(!!e,49232),at.fromTimestamp(function(n){const s=Dn(n);return new Ee(s.seconds,s.nanos)}(e))}function EE(e,t){return Aa(e,t).canonicalString()}function Aa(e,t){const n=function(r){return new Lt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Ad(e){const t=Lt.fromString(e);return Mt(Pd(t),10190,{key:t.toString()}),t}function qo(e,t){const n=Ad(t);if(n.get(1)!==e.databaseId.projectId)throw new st(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new st(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(Cd(n))}function Id(e,t){return EE(e.databaseId,t)}function bE(e){const t=Ad(e);return t.length===4?Lt.emptyPath():Cd(t)}function qu(e){return new Lt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cd(e){return Mt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function TE(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:lt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(f,d){return f.useProto3Json?(Mt(d===void 0||typeof d=="string",58123),te.fromBase64String(d||"")):(Mt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),te.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(f){const d=f.code===void 0?G.UNKNOWN:Td(f.code);return new st(d,f.message||"")}(a);n=new xd(s,r,i,l||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=qo(e,s.document.name),i=vs(s.document.updateTime),a=s.document.createTime?vs(s.document.createTime):at.min(),l=new He({mapValue:{fields:s.document.fields}}),u=ae.newFoundDocument(r,i,a,l),f=s.targetIds||[],d=s.removedTargetIds||[];n=new vi(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=qo(e,s.document),i=s.readTime?vs(s.readTime):at.min(),a=ae.newNoDocument(r,i),l=s.removedTargetIds||[];n=new vi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=qo(e,s.document),i=s.removedTargetIds||[];n=new vi([],i,r,null)}else{if(!("filter"in t))return lt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new hE(r,i),l=s.targetId;n=new wd(l,a)}}return n}function wE(e,t){return{documents:[Id(e,t.path)]}}function xE(e,t){const n={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Id(e,r);const i=function(f){if(f.length!==0)return Sd(We.create(f,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(f){if(f.length!==0)return f.map(d=>function(m){return{field:us(m.field),direction:CE(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=xa(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:n,parent:r}}function AE(e){let t=bE(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Mt(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(p){const m=Rd(p);return m instanceof We&&ld(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(V){return new Ni(hs(V.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Zi(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,E=p.values||[];return new ki(E,m)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const m=!p.before,E=p.values||[];return new ki(E,m)}(n.endAt)),z0(t,r,a,i,l,"F",u,f)}function IE(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Rd(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=hs(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=hs(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hs(n.unaryFilter.field);return Ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hs(n.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return We.create(n.compositeFilter.filters.map(s=>Rd(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(n.compositeFilter.op))}(e):lt(30097,{filter:e})}function CE(e){return pE[e]}function RE(e){return gE[e]}function SE(e){return mE[e]}function us(e){return{fieldPath:e.canonicalString()}}function hs(e){return ge.fromServerFormat(e.fieldPath)}function Sd(e){return e instanceof Ht?function(n){if(n.op==="=="){if(Pu(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(Su(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pu(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(Su(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:RE(n.op),value:n.value}}}(e):e instanceof We?function(n){const s=n.getFilters().map(r=>Sd(r));return s.length===1?s[0]:{compositeFilter:{op:SE(n.op),filters:s}}}(e):lt(54877,{filter:e})}function Pd(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,n,s,r,i=at.min(),a=at.min(),l=te.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new wn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.wt=t}}function VE(e){const t=AE({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ba(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.Cn=new kE}addToCollectionParentIndex(t,n){return this.Cn.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(Vn.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(Vn.min())}updateCollectionGroup(t,n,s){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class kE{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new zt(Lt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new zt(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vd=41943040;class ye{static withCacheSize(t){return new ye(t,ye.DEFAULT_COLLECTION_PERCENTILE,ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ye.DEFAULT_COLLECTION_PERCENTILE=10,ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ye.DEFAULT=new ye(Vd,ye.DEFAULT_COLLECTION_PERCENTILE,ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ye.DISABLED=new ye(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ps(0)}static lr(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="LruGarbageCollector",NE=1048576;function Ku([e,t],[n,s]){const r=ht(e,n);return r===0?ht(t,s):r}class OE{constructor(t){this.Er=t,this.buffer=new zt(Ku),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ku(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ME{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){J(zu,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Os(n)?J(zu,"Ignoring IndexedDB error during garbage collection: ",n):await Xi(n)}await this.mr(3e5)})}}class FE{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return F.resolve(Ji.le);const s=new OE(n);return this.gr.forEachTarget(t,r=>s.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>s.Rr(r))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Hu)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hu):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,r,i,a,l,u,f;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(s=p,l=Date.now(),this.removeTargets(t,s,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(t,s))).next(p=>(f=Date.now(),ls()<=yt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p})))}}function LE(e,t){return new FE(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.changes=new Zn(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ae.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n,s,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(s!==null&&vr(s.mutation,r,Tn.empty(),Ee.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Tt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Tt()){const r=Kn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,s).next(i=>{let a=sr();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const s=Kn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Tt()))}populateOverlays(t,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(t,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,s,r){let i=On();const a=yr(),l=function(){return yr()}();return n.forEach((u,f)=>{const d=s.get(f.key);r.has(f.key)&&(d===void 0||d.mutation instanceof io)?i=i.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),vr(d.mutation,f,d.mutation.getFieldMask(),Ee.now())):a.set(f.key,Tn.empty())}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((f,d)=>a.set(f,d)),n.forEach((f,d)=>{var p;return l.set(f,new UE(d,(p=a.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const s=yr();let r=new Ut((a,l)=>a-l),i=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let d=s.get(u)||Tn.empty();d=l.applyToLocalView(f,d),s.set(u,d);const p=(r.get(l.batchId)||Tt()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,d=u.value,p=md();d.forEach(m=>{if(!i.has(m)){const E=Ed(n.get(m),s.get(m));E!==null&&p.set(m,E),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,p))}return F.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,r){return function(a){return it.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):K0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,r):this.getDocumentsMatchingCollectionQuery(t,n,s,r)}getNextDocuments(t,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,r-i.size):F.resolve(Kn());let l=Sr,u=i;return a.next(f=>F.forEach(f,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,f,i)).next(()=>this.computeViews(t,u,f,Tt())).next(d=>({batchId:l,changes:X0(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(s=>{let r=sr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,s,r){const i=n.collectionGroup;let a=sr();return this.indexManager.getCollectionParents(t,i).next(l=>F.forEach(l,u=>{const f=function(p,m){return new eo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,f,s,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,i,r))).next(a=>{i.forEach((u,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,ae.newInvalidDocument(d)))});let l=sr();return a.forEach((u,f)=>{const d=i.get(u);d!==void 0&&vr(d.mutation,f,Tn.empty(),Ee.now()),so(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:vs(r.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(r){return{name:r.name,query:VE(r.bundledQuery),readTime:vs(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.overlays=new Ut(it.comparator),this.Qr=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Kn();return F.forEach(n,r=>this.getOverlay(t,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((r,i)=>{this.St(t,n,i)}),F.resolve()}removeOverlaysForBatchId(t,n,s){const r=this.Qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(s)),F.resolve()}getOverlaysForCollection(t,n,s){const r=Kn(),i=n.length+1,a=new it(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return F.resolve(r)}getOverlaysForCollectionGroup(t,n,s,r){let i=new Ut((f,d)=>f-d);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>s){let d=i.get(f.largestBatchId);d===null&&(d=Kn(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=Kn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=r)););return F.resolve(l)}St(t,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.Qr.get(r.largestBatchId).delete(s.key);this.Qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new uE(n,s));let i=this.Qr.get(n);i===void 0&&(i=Tt(),this.Qr.set(n,i)),this.Qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.sessionToken=te.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.$r=new zt(Kt.Ur),this.Kr=new zt(Kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Kt(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Kt(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new it(new Lt([])),s=new Kt(n,t),r=new Kt(n,t+1),i=[];return this.Kr.forEachInRange([s,r],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new it(new Lt([])),s=new Kt(n,t),r=new Kt(n,t+1);let i=Tt();return this.Kr.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new Kt(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Kt{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return it.comparator(t.key,n.key)||ht(t.Zr,n.Zr)}static Wr(t,n){return ht(t.Zr,n.Zr)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new zt(Kt.Ur)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cE(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Xr=this.Xr.add(new Kt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(t,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.ti(s),i=r<0?0:r;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?x0:this.nr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Kt(n,0),r=new Kt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([s,r],a=>{const l=this.ei(a.Zr);i.push(l)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new zt(ht);return n.forEach(r=>{const i=new Kt(r,0),a=new Kt(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{s=s.add(l.Zr)})}),F.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;it.isDocumentKey(i)||(i=i.child(""));const a=new Kt(new it(i),0);let l=new zt(ht);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===r&&(l=l.add(u.Zr)),!0)},a),F.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(s=>{const r=this.ei(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Mt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return F.forEach(n.mutations,r=>{const i=new Kt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Kt(n,0),r=this.Xr.firstAfterOrEqual(s);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this.ii=t,this.docs=function(){return new Ut(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():ae.newInvalidDocument(n))}getEntries(t,n){let s=On();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():ae.newInvalidDocument(r))}),F.resolve(s)}getDocumentsMatchingQuery(t,n,s,r){let i=On();const a=n.path,l=new it(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||E0(v0(d),s)<=0||(r.has(d.key)||so(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(t,n,s,r){lt(9500)}si(t,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new GE(this)}getSize(t){return F.resolve(this.size)}}class GE extends BE{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(t,r)):this.Br.removeEntry(s)}),F.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.persistence=t,this.oi=new Zn(n=>rl(n),il),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this._i=0,this.ai=new cl,this.targetCount=0,this.ui=Ps.cr()}forEachTarget(t,n){return this.oi.forEach((s,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),F.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ps(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.Tr(n),F.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),F.waitFor(i).next(()=>r)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return F.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),F.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(t,a))}),F.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return F.resolve(s)}containsKey(t,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,n){this.ci={},this.overlays={},this.li=new Ji(0),this.hi=!1,this.hi=!0,this.Pi=new HE,this.referenceDelegate=t(this),this.Ti=new QE(this),this.indexManager=new DE,this.remoteDocumentCache=function(r){return new KE(r)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new PE(n),this.Ei=new jE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qE,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new zE(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){J("MemoryPersistence","Starting transaction:",t);const r=new WE(this.li.next());return this.referenceDelegate.di(),s(r).next(i=>this.referenceDelegate.Ai(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ri(t,n){return F.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class WE extends T0{constructor(t){super(),this.currentSequenceNumber=t}}class ul{constructor(t){this.persistence=t,this.Vi=new cl,this.mi=null}static fi(t){return new ul(t)}get gi(){if(this.mi)return this.mi;throw lt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),F.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.gi.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,s=>{const r=it.fromPath(s);return this.pi(t,r).next(i=>{i||n.removeEntry(r,at.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Fi{constructor(t,n){this.persistence=t,this.yi=new Zn(s=>A0(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=LE(this,n)}static fi(t,n){return new Fi(t,n)}di(){}Ai(t){return F.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(r=>s+r))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return F.forEach(this.yi,(s,r)=>this.Dr(t,s,r).next(i=>i?F.resolve():n(r)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(t,a=>this.Dr(t,a,n).next(l=>{l||(s++,i.removeEntry(a,at.min()))})).next(()=>i.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),F.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),F.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_i(t.data.value)),n}Dr(t,n,s){return F.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.yi.get(n);return F.resolve(r!==void 0&&r>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.ds=s,this.As=r}static Rs(t,n){let s=Tt(),r=Tt();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hl(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qy()?8:w0($y())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,r){const i={result:null};return this.ws(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(t,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new YE;return this.Ss(t,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>i.result)}Ds(t,n,s,r){return s.documentReadCount<this.gs?(ls()<=yt.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(ls()<=yt.DEBUG&&J("QueryEngine","Query:",cs(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ps*r?(ls()<=yt.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ke(n))):F.resolve())}ws(t,n){if(Nu(n))return F.resolve(null);let s=Ke(n);return this.indexManager.getIndexType(t,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ba(n,null,"F"),s=Ke(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(i=>{const a=Tt(...i);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,s).next(u=>{const f=this.vs(n,l);return this.Cs(n,f,a,u.readTime)?this.ws(t,ba(n,null,"F")):this.Fs(t,f,n,u)}))})))}bs(t,n,s,r){return Nu(n)||r.isEqual(at.min())?F.resolve(null):this.ys.getDocuments(t,s).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,s,r)?F.resolve(null):(ls()<=yt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cs(n)),this.Fs(t,a,n,y0(r,Sr)).next(l=>l))})}vs(t,n){let s=new zt(pd(t));return n.forEach((r,i)=>{so(t,i)&&(s=s.add(i))}),s}Cs(t,n,s,r){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(t,n,s){return ls()<=yt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",cs(n)),this.ys.getDocumentsMatchingQuery(t,n,Vn.min(),s)}Fs(t,n,s,r){return this.ys.getDocumentsMatchingQuery(t,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="LocalStore",JE=3e8;class ZE{constructor(t,n,s,r){this.persistence=t,this.Ms=n,this.serializer=r,this.xs=new Ut(ht),this.Os=new Zn(i=>rl(i),il),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $E(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function t1(e,t,n,s){return new ZE(e,t,n,s)}async function kd(e,t){const n=Et(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let u=Tt();for(const f of r){a.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of i){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(f=>({ks:f,removedBatchIds:a,addedBatchIds:l}))})})}function Nd(e){const t=Et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function e1(e,t){const n=Et(e),s=t.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let E=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?E=E.withResumeToken(te.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,s)),r=r.insert(p,E),function(R,k,W){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=JE?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(m,E,d)&&l.push(n.Ti.updateTargetData(i,E))});let u=On(),f=Tt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(n1(i,a,t.documentUpdates).next(d=>{u=d.qs,f=d.Qs})),!s.isEqual(at.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return F.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,f)).next(()=>u)}).then(i=>(n.xs=r,i))}function n1(e,t,n){let s=Tt(),r=Tt();return n.forEach(i=>s=s.add(i)),t.getEntries(e,s).next(i=>{let a=On();return n.forEach((l,u)=>{const f=i.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(at.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):J(fl,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{qs:a,Qs:r}})}function s1(e,t){const n=Et(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ti.getTargetData(s,t).next(i=>i?(r=i,F.resolve(r)):n.Ti.allocateTargetId(s).next(a=>(r=new wn(t,a,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.xs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Ia(e,t,n){const s=Et(e),r=s.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Os(a))throw a;J(fl,`Failed to update sequence numbers for target ${t}: ${a}`)}s.xs=s.xs.remove(t),s.Os.delete(r.target)}function Gu(e,t,n){const s=Et(e);let r=at.min(),i=Tt();return s.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,d){const p=Et(u),m=p.Os.get(d);return m!==void 0?F.resolve(p.xs.get(m)):p.Ti.getTargetData(f,d)}(s,a,Ke(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>s.Ms.getDocumentsMatchingQuery(a,t,n?r:at.min(),n?i:Tt())).next(l=>(r1(s,Q0(t),l),{documents:l,$s:i})))}function r1(e,t,n){let s=e.Ns.get(t)||at.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),e.Ns.set(t,s)}class Qu{constructor(){this.activeTargetIds=tE()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class i1{constructor(){this.xo=new Qu,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Qu,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="ConnectivityMonitor";class Yu{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){J(Wu,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){J(Wu,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li=null;function Ca(){return li===null?li=function(){return 268435456+Math.round(2147483648*Math.random())}():li++,"0x"+li.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RestConnection",a1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l1{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${r}`,this.Go=this.databaseId.database===Di?`project_id=${s}`:`project_id=${s}&database_id=${r}`}zo(t,n,s,r,i){const a=Ca(),l=this.jo(t,n.toUriEncodedString());J(Ho,`Sending RPC '${t}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,r,i);const{host:f}=new URL(l),d=Za(f);return this.Jo(t,l,u,s,d).then(p=>(J(Ho,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Is(Ho,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",s),p})}Yo(t,n,s,r,i,a){return this.zo(t,n,s,r,i)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}jo(t,n){const s=a1[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re="WebChannelConnection";class u1 extends l1{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,r,i){const a=Ca();return new Promise((l,u)=>{const f=new Kf;f.setWithCredentials(!0),f.listenOnce(Gf.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case mi.NO_ERROR:const p=f.getResponseJson();J(re,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case mi.TIMEOUT:J(re,`RPC '${t}' ${a} timed out`),u(new st(G.DEADLINE_EXCEEDED,"Request time out"));break;case mi.HTTP_ERROR:const m=f.getStatus();if(J(re,`RPC '${t}' ${a} failed with status:`,m,"response text:",f.getResponseText()),m>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const V=E==null?void 0:E.error;if(V&&V.status&&V.message){const R=function(W){const U=W.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(U)>=0?U:G.UNKNOWN}(V.status);u(new st(R,V.message))}else u(new st(G.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new st(G.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{h_:t,streamId:a,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{J(re,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);J(re,`RPC '${t}' ${a} sending request:`,r),f.send(n,"POST",d,s,15)})}I_(t,n,s){const r=Ca(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Yf(),l=Wf(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");J(re,`Creating RPC '${t}' stream ${r}: ${d}`,u);const p=a.createWebChannel(d,u);this.E_(p);let m=!1,E=!1;const V=new c1({Zo:k=>{E?J(re,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(m||(J(re,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),J(re,`RPC '${t}' stream ${r} sending:`,k),p.send(k))},Xo:()=>p.close()}),R=(k,W,U)=>{k.listen(W,H=>{try{U(H)}catch(z){setTimeout(()=>{throw z},0)}})};return R(p,nr.EventType.OPEN,()=>{E||(J(re,`RPC '${t}' stream ${r} transport opened.`),V.__())}),R(p,nr.EventType.CLOSE,()=>{E||(E=!0,J(re,`RPC '${t}' stream ${r} transport closed`),V.u_(),this.d_(p))}),R(p,nr.EventType.ERROR,k=>{E||(E=!0,Is(re,`RPC '${t}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),V.u_(new st(G.UNAVAILABLE,"The operation could not be completed")))}),R(p,nr.EventType.MESSAGE,k=>{var W;if(!E){const U=k.data[0];Mt(!!U,16349);const H=U,z=(H==null?void 0:H.error)||((W=H[0])===null||W===void 0?void 0:W.error);if(z){J(re,`RPC '${t}' stream ${r} received error:`,z);const ft=z.status;let pt=function(T){const A=jt[T];if(A!==void 0)return Td(A)}(ft),x=z.message;pt===void 0&&(pt=G.INTERNAL,x="Unknown error status: "+ft+" with message "+z.message),E=!0,V.u_(new st(pt,x)),p.close()}else J(re,`RPC '${t}' stream ${r} received:`,U),V.c_(U)}}),R(l,Qf.STAT_EVENT,k=>{k.stat===da.PROXY?J(re,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===da.NOPROXY&&J(re,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function zo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e){return new _E(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n,s=1e3,r=1.5,i=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-s);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="PersistentStream";class h1{constructor(t,n,s,r,i,a,l,u){this.xi=t,this.S_=s,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Md(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.v_===n&&this.z_(s,r)},s=>{t(()=>{const r=new st(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(r)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{s(()=>this.j_(r))}),this.stream.onMessage(r=>{s(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return J(Xu,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(J(Xu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f1 extends h1{constructor(t,n,s,r,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=TE(this.serializer,t),s=function(i){if(!("targetChange"in i))return at.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?at.min():a.readTime?vs(a.readTime):at.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=qu(this.serializer),n.addTarget=function(i,a){let l;const u=a.target;if(l=Ea(u)?{documents:wE(i,u)}:{query:xE(i,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=vE(i,a.resumeToken);const f=xa(i,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(at.min())>0){l.readTime=yE(i,a.snapshotVersion.toTimestamp());const f=xa(i,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,t);const s=IE(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=qu(this.serializer),n.removeTarget=t,this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class p1 extends d1{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new st(G.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(t,Aa(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(G.UNKNOWN,i.toString())})}Yo(t,n,s,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Aa(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new st(G.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class g1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(hn(n),this.ua=!1):J("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class m1{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{s.enqueueAndForget(async()=>{Lr(this)&&(J(Vs,"Restarting streams for network reachability change."),await async function(u){const f=Et(u);f.da.add(4),await Fr(f),f.Va.set("Unknown"),f.da.delete(4),await ao(f)}(this))})}),this.Va=new g1(s,r)}}async function ao(e){if(Lr(e))for(const t of e.Aa)await t(!0)}async function Fr(e){for(const t of e.Aa)await t(!1)}function Fd(e,t){const n=Et(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),ml(n)?gl(n):Ms(n).N_()&&pl(n,t))}function dl(e,t){const n=Et(e),s=Ms(n);n.Ea.delete(t),s.N_()&&Ld(n,t),n.Ea.size===0&&(s.N_()?s.k_():Lr(n)&&n.Va.set("Unknown"))}function pl(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ms(e).Z_(t)}function Ld(e,t){e.ma.Ke(t),Ms(e).X_(t)}function gl(e){e.ma=new dE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ms(e).start(),e.Va.ca()}function ml(e){return Lr(e)&&!Ms(e).O_()&&e.Ea.size>0}function Lr(e){return Et(e).da.size===0}function Bd(e){e.ma=void 0}async function _1(e){e.Va.set("Online")}async function y1(e){e.Ea.forEach((t,n)=>{pl(e,t)})}async function v1(e,t){Bd(e),ml(e)?(e.Va.Pa(t),gl(e)):e.Va.set("Unknown")}async function E1(e,t,n){if(e.Va.set("Online"),t instanceof xd&&t.state===2&&t.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ea.delete(l),r.ma.removeTarget(l))}(e,t)}catch(s){J(Vs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ju(e,s)}else if(t instanceof vi?e.ma.Xe(t):t instanceof wd?e.ma.ot(t):e.ma.nt(t),!n.isEqual(at.min()))try{const s=await Nd(e.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ea.get(f);d&&i.Ea.set(f,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,f)=>{const d=i.Ea.get(u);if(!d)return;i.Ea.set(u,d.withResumeToken(te.EMPTY_BYTE_STRING,d.snapshotVersion)),Ld(i,u);const p=new wn(d.target,u,f,d.sequenceNumber);pl(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(s){J(Vs,"Failed to raise snapshot:",s),await Ju(e,s)}}async function Ju(e,t,n){if(!Os(t))throw t;e.da.add(1),await Fr(e),e.Va.set("Offline"),n||(n=()=>Nd(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{J(Vs,"Retrying IndexedDB access"),await n(),e.da.delete(1),await ao(e)})}async function Zu(e,t){const n=Et(e);n.asyncQueue.verifyOperationInProgress(),J(Vs,"RemoteStore received new credentials");const s=Lr(n);n.da.add(3),await Fr(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await ao(n)}async function b1(e,t){const n=Et(e);t?(n.da.delete(2),await ao(n)):t||(n.da.add(2),await Fr(n),n.Va.set("Unknown"))}function Ms(e){return e.fa||(e.fa=function(n,s,r){const i=Et(n);return i.oa(),new f1(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{e_:_1.bind(null,e),n_:y1.bind(null,e),i_:v1.bind(null,e),Y_:E1.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),ml(e)?gl(e):e.Va.set("Unknown")):(await e.fa.stop(),Bd(e))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,r,i){const a=Date.now()+s,l=new _l(t,n,a,r,i);return l.start(s),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(e,t){if(hn("AsyncQueue",`${t}: ${e}`),Os(e))return new st(G.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(t){return new Es(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||it.comparator(n.key,s.key):(n,s)=>it.comparator(n.key,s.key),this.keyedMap=sr(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Es)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Es;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.pa=new Ut(it.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):lt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ds{constructor(t,n,s,r,i,a,l,u,f){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ds(t,n,Es.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&no(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class w1{constructor(){this.queries=eh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Et(n),i=r.queries;r.queries=eh(),i.forEach((a,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new st(G.ABORTED,"Firestore shutting down"))}}function eh(){return new Zn(e=>dd(e),no)}async function x1(e,t){const n=Et(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.Da()&&t.va()&&(s=2):(i=new T1,s=t.va()?0:1);try{switch(s){case 0:i.ba=await n.onListen(r,!0);break;case 1:i.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Ud(a,`Initialization of query '${cs(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&yl(n)}async function A1(e,t){const n=Et(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=t.va()?0:1:!i.Da()&&t.va()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function I1(e,t){const n=Et(e);let s=!1;for(const r of t){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(r)&&(s=!0);a.ba=r}}s&&yl(n)}function C1(e,t,n){const s=Et(e),r=s.queries.get(t);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(t)}function yl(e){e.Ca.forEach(t=>{t.next()})}var Ra,nh;(nh=Ra||(Ra={})).xa="default",nh.Cache="cache";class R1{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new Ds(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ds.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ra.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t){this.key=t}}class jd{constructor(t){this.key=t}}class S1{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Tt(),this.mutatedKeys=Tt(),this.Za=pd(t),this.Xa=new Es(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new th,r=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),E=so(this.query,p)?p:null,V=!!m&&this.mutatedKeys.has(m.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;m&&E?m.data.isEqual(E.data)?V!==R&&(s.track({type:3,doc:E}),k=!0):this.ru(m,E)||(s.track({type:2,doc:E}),k=!0,(u&&this.Za(E,u)>0||f&&this.Za(E,f)<0)&&(l=!0)):!m&&E?(s.track({type:0,doc:E}),k=!0):m&&!E&&(s.track({type:1,doc:m}),k=!0,(u||f)&&(l=!0)),k&&(E?(a=a.add(E),i=R?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{Xa:a,nu:s,Cs:l,mutatedKeys:i}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,r){const i=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,p)=>function(E,V){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Vt:k})}};return R(E)-R(V)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(s),r=r!=null&&r;const l=n&&!r?this.su():[],u=this.Ya.size===0&&this.current&&!r?1:0,f=u!==this.Ja;return this.Ja=u,a.length!==0||f?{snapshot:new Ds(this.query,t.Xa,i,a,t.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new th,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Tt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new jd(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new $d(s))}),n}au(t){this.Ha=t.$s,this.Ya=Tt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ds.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const vl="SyncEngine";class P1{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class V1{constructor(t){this.key=t,this.cu=!1}}class D1{constructor(t,n,s,r,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Zn(l=>dd(l),no),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut(it.comparator),this.Eu=new Map,this.du=new cl,this.Au={},this.Ru=new Map,this.Vu=Ps.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function k1(e,t,n=!0){const s=Gd(e);let r;const i=s.hu.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.uu()):r=await qd(s,t,n,!0),r}async function N1(e,t){const n=Gd(e);await qd(n,t,!0,!1)}async function qd(e,t,n,s){const r=await s1(e.localStore,Ke(t)),i=r.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await O1(e,t,i,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&Fd(e.remoteStore,r),l}async function O1(e,t,n,s,r){e.fu=(p,m,E)=>async function(R,k,W,U){let H=k.view.tu(W);H.Cs&&(H=await Gu(R.localStore,k.query,!1).then(({documents:x})=>k.view.tu(x,H)));const z=U&&U.targetChanges.get(k.targetId),ft=U&&U.targetMismatches.get(k.targetId)!=null,pt=k.view.applyChanges(H,R.isPrimaryClient,z,ft);return rh(R,k.targetId,pt.ou),pt.snapshot}(e,p,m,E);const i=await Gu(e.localStore,t,!0),a=new S1(t,i.$s),l=a.tu(i.documents),u=Mr.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",r),f=a.applyChanges(l,e.isPrimaryClient,u);rh(e,n,f.ou);const d=new P1(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),f.snapshot}async function M1(e,t,n){const s=Et(e),r=s.hu.get(t),i=s.Pu.get(r.targetId);if(i.length>1)return s.Pu.set(r.targetId,i.filter(a=>!no(a,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Ia(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&dl(s.remoteStore,r.targetId),Sa(s,r.targetId)}).catch(Xi)):(Sa(s,r.targetId),await Ia(s.localStore,r.targetId,!0))}async function F1(e,t){const n=Et(e),s=n.hu.get(t),r=n.Pu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dl(n.remoteStore,s.targetId))}async function Hd(e,t){const n=Et(e);try{const s=await e1(n.localStore,t);t.targetChanges.forEach((r,i)=>{const a=n.Eu.get(i);a&&(Mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.cu=!0:r.modifiedDocuments.size>0?Mt(a.cu,14607):r.removedDocuments.size>0&&(Mt(a.cu,42227),a.cu=!1))}),await Kd(n,s,t)}catch(s){await Xi(s)}}function sh(e,t,n){const s=Et(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.hu.forEach((i,a)=>{const l=a.view.Fa(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Et(a);u.onlineState=l;let f=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.Fa(l)&&(f=!0)}),f&&yl(u)}(s.eventManager,t),r.length&&s.lu.Y_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function L1(e,t,n){const s=Et(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s.Eu.get(t),i=r&&r.key;if(i){let a=new Ut(it.comparator);a=a.insert(i,ae.newNoDocument(i,at.min()));const l=Tt().add(i),u=new oo(at.min(),new Map,new Ut(ht),a,l);await Hd(s,u),s.Iu=s.Iu.remove(i),s.Eu.delete(t),El(s)}else await Ia(s.localStore,t,!1).then(()=>Sa(s,t,n)).catch(Xi)}function Sa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Pu.get(t))e.hu.delete(s),n&&e.lu.gu(s,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(s=>{e.du.containsKey(s)||zd(e,s)})}function zd(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(dl(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),El(e))}function rh(e,t,n){for(const s of n)s instanceof $d?(e.du.addReference(s.key,t),B1(e,s)):s instanceof jd?(J(vl,"Document no longer in limbo: "+s.key),e.du.removeReference(s.key,t),e.du.containsKey(s.key)||zd(e,s.key)):lt(19791,{pu:s})}function B1(e,t){const n=t.key,s=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(s)||(J(vl,"New document in limbo: "+n),e.Tu.add(s),El(e))}function El(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new it(Lt.fromString(t)),s=e.Vu.next();e.Eu.set(s,new V1(n)),e.Iu=e.Iu.insert(n,s),Fd(e.remoteStore,new wn(Ke(fd(n.path)),s,"TargetPurposeLimboResolution",Ji.le))}}async function Kd(e,t,n){const s=Et(e),r=[],i=[],a=[];s.hu.isEmpty()||(s.hu.forEach((l,u)=>{a.push(s.fu(u,t,n).then(f=>{var d;if((f||n)&&s.isPrimaryClient){const p=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){r.push(f);const p=hl.Rs(u.targetId,f);i.push(p)}}))}),await Promise.all(a),s.lu.Y_(r),await async function(u,f){const d=Et(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(f,m=>F.forEach(m.ds,E=>d.persistence.referenceDelegate.addReference(p,m.targetId,E)).next(()=>F.forEach(m.As,E=>d.persistence.referenceDelegate.removeReference(p,m.targetId,E)))))}catch(p){if(!Os(p))throw p;J(fl,"Failed to update sequence numbers: "+p)}for(const p of f){const m=p.targetId;if(!p.fromCache){const E=d.xs.get(m),V=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(V);d.xs=d.xs.insert(m,R)}}}(s.localStore,i))}async function U1(e,t){const n=Et(e);if(!n.currentUser.isEqual(t)){J(vl,"User change. New user:",t.toKey());const s=await kd(n.localStore,t);n.currentUser=t,function(i,a){i.Ru.forEach(l=>{l.forEach(u=>{u.reject(new st(G.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kd(n,s.ks)}}function $1(e,t){const n=Et(e),s=n.Eu.get(t);if(s&&s.cu)return Tt().add(s.key);{let r=Tt();const i=n.Pu.get(t);if(!i)return r;for(const a of i){const l=n.hu.get(a);r=r.unionWith(l.view.eu)}return r}}function Gd(e){const t=Et(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=L1.bind(null,t),t.lu.Y_=I1.bind(null,t.eventManager),t.lu.gu=C1.bind(null,t.eventManager),t}class Li{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Od(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return t1(this.persistence,new XE,t.initialUser,this.serializer)}Su(t){return new Dd(ul.fi,this.serializer)}bu(t){return new i1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Li.provider={build:()=>new Li};class j1 extends Li{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Mt(this.persistence.referenceDelegate instanceof Fi,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ME(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?ye.withCacheSize(this.cacheSizeBytes):ye.DEFAULT;return new Dd(s=>Fi.fi(s,n),this.serializer)}}class Pa{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=U1.bind(null,this.syncEngine),await b1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new w1}()}createDatastore(t){const n=Od(t.databaseInfo.databaseId),s=function(i){return new u1(i)}(t.databaseInfo);return function(i,a,l,u){return new p1(i,a,l,u)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,r,i,a,l){return new m1(s,r,i,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>sh(this.syncEngine,n,0),function(){return Yu.C()?new Yu:new o1}())}createSyncEngine(t,n){return function(r,i,a,l,u,f,d){const p=new D1(r,i,a,l,u,f);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const i=Et(r);J(Vs,"RemoteStore shutting down."),i.da.add(5),await Fr(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pa.provider={build:()=>new Pa};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):hn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="FirestoreClient";class H1{constructor(t,n,s,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ie.UNAUTHENTICATED,this.clientId=g0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{J(Mn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(J(Mn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ud(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ko(e,t){e.asyncQueue.verifyOperationInProgress(),J(Mn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await kd(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ih(e,t){e.asyncQueue.verifyOperationInProgress();const n=await z1(e);J(Mn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Zu(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Zu(t.remoteStore,r)),e._onlineComponents=t}async function z1(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J(Mn,"Using user provided OfflineComponentProvider");try{await Ko(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await Ko(e,new Li)}}else J(Mn,"Using default OfflineComponentProvider"),await Ko(e,new j1(void 0));return e._offlineComponents}async function K1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J(Mn,"Using user provided OnlineComponentProvider"),await ih(e,e._uninitializedComponentsProvider._online)):(J(Mn,"Using default OnlineComponentProvider"),await ih(e,new Pa))),e._onlineComponents}async function G1(e){const t=await K1(e),n=t.eventManager;return n.onListen=k1.bind(null,t.syncEngine),n.onUnlisten=M1.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=N1.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F1.bind(null,t.syncEngine),n}function Q1(e,t,n={}){const s=new Qn;return e.asyncQueue.enqueueAndForget(async()=>function(i,a,l,u,f){const d=new q1({next:m=>{d.xu(),a.enqueueAndForget(()=>A1(i,p)),m.fromCache&&u.source==="server"?f.reject(new st(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:m=>f.reject(m)}),p=new R1(l,d,{includeMetadataChanges:!0,Qa:!0});return x1(i,p)}(await G1(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map;function W1(e,t,n,s){if(t===!0&&s===!0)throw new st(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ah(e){if(it.isDocumentKey(e))throw new st(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Y1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":lt(12329,{type:typeof e})}function Va(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new st(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y1(e);throw new st(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="firestore.googleapis.com",lh=!0;class ch{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wd,this.ssl=lh}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:lh;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Vd;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NE)throw new st(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qd((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new st(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bl{constructor(t,n,s,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new l0;switch(s.type){case"firstParty":return new f0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=oh.get(n);s&&(J("ComponentProvider","Removing Datastore"),oh.delete(n),s.terminate())}(this),Promise.resolve()}}function X1(e,t,n,s={}){var r;e=Va(e,bl);const i=Za(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;i&&(My(`https://${u}`),Uy("Firestore",!0)),a.host!==Wd&&a.host!==u&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:u,ssl:i,emulatorOptions:s});if(!Si(f,l)&&(e._setSettings(f),s.mockUserToken)){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=ie.MOCK_USER;else{d=Fy(s.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new st(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ie(m)}e._authCredentials=new c0(new Jf(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class Fs{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fs(this.firestore,t,this._key)}}class bs extends lo{constructor(t,n,s){super(t,n,fd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fs(this.firestore,null,new it(t))}withConverter(t){return new bs(this.firestore,t,this._path)}}function J1(e,t,...n){if(e=Wy(e),e instanceof bl){const s=Lt.fromString(t,...n);return ah(s),new bs(e,null,s)}{if(!(e instanceof Fs||e instanceof bs))throw new st(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Lt.fromString(t,...n));return ah(s),new bs(e.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="AsyncQueue";class hh{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Md(this,"async_queue_retry"),this.rc=()=>{const s=zo();s&&J(uh,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=zo();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=zo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Qn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Os(t))throw t;J(uh,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,hn("INTERNAL UNHANDLED ERROR: ",fh(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const r=_l.createAndSchedule(this,t,n,s,i=>this.uc(i));return this.Zu.push(r),r}oc(){this.Xu&&lt(47125,{cc:fh(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function fh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Yd extends bl{constructor(t,n,s,r){super(t,n,s,r),this.type="firestore",this._queue=new hh,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hh(t),this._firestoreClient=void 0,await t}}}function Z1(e,t){const n=typeof e=="object"?e:Xv(),s=typeof e=="string"?e:Di,r=Kv(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Ny("firestore");i&&X1(r,...i)}return r}function tb(e){if(e._terminated)throw new st(G.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eb(e),e._firestoreClient}function eb(e){var t,n,s;const r=e._freezeSettings(),i=function(l,u,f,d){return new S0(l,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Qd(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new H1(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bi(te.fromBase64String(t))}catch(n){throw new st(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bi(te.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ht(this._lat,t._lat)||ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,t._values)}}const rb=new RegExp("[~\\*/\\[\\]]");function ib(e,t,n){if(t.search(rb)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Xd(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function dh(e,t,n,s,r){let i=`Function ${t}() called with invalid data`;i+=". ";let a="";return new st(G.INVALID_ARGUMENT,i+e+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n,s,r,i){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Zd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ob extends Jd{data(){return super.data()}}function Zd(e,t){return typeof t=="string"?ib(e,t):t instanceof Xd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new st(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lb{convertValue(t,n="none"){switch(Nn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Or(t,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(t){var n,s,r;const i=(r=(s=(n=t.fields)===null||n===void 0?void 0:n[ma].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(a=>Bt(a.doubleValue));return new sb(i)}convertGeoPoint(t){return new nb(Bt(t.latitude),Bt(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=to(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pr(t));default:return null}}convertTimestamp(t){const n=Dn(t);return new Ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Lt.fromString(t);Mt(Pd(s),9688,{name:t});const r=new Vr(s.get(1),s.get(3)),i=new it(s.popFirst(5));return r.isEqual(n)||hn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cb extends Jd{constructor(t,n,s,r,i,a){super(t,n,s,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ei(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Zd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ei extends cb{data(t={}){return super.data(t)}}class ub{constructor(t,n,s,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ci(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ei(this._firestore,this._userDataWriter,s.key,s,new ci(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Ei(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ci(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Ei(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ci(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,d=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:hb(l.type),doc:u,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:e})}}class fb extends lb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fs(this.firestore,null,n)}}function db(e){e=Va(e,lo);const t=Va(e.firestore,Yd),n=tb(t),s=new fb(t);return ab(e._query),Q1(n,e._query).then(r=>new ub(t,s,e,r))}(function(t,n=!0){(function(r){Ns=r})(Yv),Vi(new Cr("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new Yd(new u0(s.getProvider("auth-internal")),new d0(a,s.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new st(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vr(f.options.projectId,d)}(a,r),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ys(_u,yu,t),ys(_u,yu,"esm2017")})();var pb="firebase",gb="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(pb,gb,"app");const mb={apiKey:"AIzaSyDq26z1uAGlTVaAe-L4e_m9YE6Grjkkvcc",authDomain:"redpanda-cca8e.firebaseapp.com",projectId:"redpanda-cca8e",storageBucket:"redpanda-cca8e.appspot.com",messagingSenderId:"957458953340",appId:"1:957458953340:web:d0d55904558acbbb75c5f9",measurementId:"G-P4MJ9XGYR3"},_b=jf(mb),yb=Z1(_b),vb={class:"main-container"},Eb={key:0,class:"text-center py-10"},bb={key:1,class:"text-center py-10 bg-red-100 text-red-700 p-4 rounded-lg"},Tb={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wb=["src","alt"],xb={class:"p-4"},Ab={class:"text-sm text-dark-gray mb-1"},Ib={class:"font-semibold text-panda-black text-xl mb-2"},Cb={class:"text-md text-dark-gray"},Rb={key:3,class:"text-center py-10"},Sb={__name:"NewsPage",setup(e){const t=Oe([]),n=Oe(!0),s=Oe(null);return Yh(async()=>{try{const r=await db(J1(yb,"news")),i=[];r.forEach(a=>{i.push({id:a.id,...a.data()})}),t.value=i}catch(r){console.error("   : ",r),s.value="   .  ."}finally{n.value=!1}}),(r,i)=>(vt(),bt("main",null,[w("div",vb,[i[2]||(i[2]=w("h1",{class:"font-bold text-panda-black text-4xl mb-4"},"",-1)),i[3]||(i[3]=w("p",{class:"text-xl text-dark-gray leading-relaxed mb-6"},"        .",-1)),n.value?(vt(),bt("div",Eb,i[0]||(i[0]=[w("p",{class:"text-lg text-dark-gray"}," ...",-1)]))):s.value?(vt(),bt("div",bb,[w("p",null,Gt(s.value),1)])):t.value.length>0?(vt(),bt("div",Tb,[(vt(!0),bt(ve,null,ur(t.value,a=>(vt(),bt("div",{key:a.id,class:"bg-light-gray rounded-lg overflow-hidden"},[w("img",{src:a.imageUrl,alt:a.title,class:"w-full h-auto object-cover rounded-t-lg aspect-[16/9]",onerror:"this.onerror=null;this.src='https://placehold.co/600x350/F7F7F7/131C26?text=Image+not+found';"},null,8,wb),w("div",xb,[w("p",Ab,Gt(a.date),1),w("h3",Ib,Gt(a.title),1),w("p",Cb,Gt(a.description),1)])]))),128))])):(vt(),bt("div",Rb,i[1]||(i[1]=[w("p",{class:"text-lg text-dark-gray"},"  .",-1)])))]),Dt(Ye)]))}},Pb={class:"main-container"},Vb={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-16"},Db={class:"flex justify-between items-start mb-4"},kb={class:"text-2xl font-bold text-gray-900 leading-tight"},Nb={class:"flex gap-2 ml-4"},Ob={class:"text-gray-600 text-sm mb-6 font-medium"},Mb={class:"mb-6"},Fb={class:"text-gray-800 text-sm leading-relaxed"},Lb={class:"mb-8"},Bb={class:"list-decimal list-inside text-gray-800 text-sm leading-relaxed space-y-2"},Ub=["onClick"],$b={class:"bg-white rounded-2xl p-8 talent-reserve-form mt-16"},jb={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start"},qb={class:"flex items-center gap-3 py-3 border-b border-gray-300 cursor-pointer text-gray-600 text-sm"},Hb={__name:"VacanciesPage",setup(e){const t=Oe([{id:1,title:"-",salary:" 350 000  900 000 KZT",tags:[""," "],conditions:" .   09:00-18:00 (5/2).",responsibilities:["   ;","  ;",";","- ;","  ."]},{id:2,title:"",salary:" 350 000  900 000 KZT",tags:[""," 1-3 "],conditions:" .   09:00-18:00 (5/2).",responsibilities:["  : Mimaki, Roland, XEROX;","  ."]}]),n=Oe({desiredPosition:"",name:"",phone:"",resume:null}),s=a=>{n.value.desiredPosition=a;const l=document.querySelector(".talent-reserve-form");l&&l.scrollIntoView({behavior:"smooth"})},r=a=>{const l=a.target.files[0];l&&(n.value.resume=l)},i=()=>{alert(`  , ${n.value.name}!    .`),n.value={desiredPosition:"",name:"",phone:"",resume:null}};return(a,l)=>(vt(),bt("main",null,[w("div",Pb,[l[8]||(l[8]=w("h1",{class:"font-bold text-panda-black text-4xl mb-8"},"",-1)),w("div",Vb,[(vt(!0),bt(ve,null,ur(t.value,u=>(vt(),bt("div",{key:u.id,class:"bg-gray-50 rounded-3xl p-8 relative"},[w("div",Db,[w("h3",kb,Gt(u.title),1),w("div",Nb,[(vt(!0),bt(ve,null,ur(u.tags,f=>(vt(),bt("span",{key:f,class:"bg-white rounded-full px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 whitespace-nowrap"},Gt(f),1))),128))])]),w("div",Ob,Gt(u.salary),1),w("div",Mb,[l[3]||(l[3]=w("div",{class:"text-orange-500 font-bold text-base mb-3"},"",-1)),w("div",Fb,Gt(u.conditions),1)]),w("div",Lb,[l[4]||(l[4]=w("div",{class:"text-orange-500 font-bold text-base mb-3"},"",-1)),w("ol",Bb,[(vt(!0),bt(ve,null,ur(u.responsibilities,f=>(vt(),bt("li",{key:f,class:"pl-1"},Gt(f),1))),128))])]),w("button",{onClick:f=>s(u.title),class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-8 rounded-xl transition-all duration-200 hover:shadow-md"},"",8,Ub)]))),128))]),w("div",$b,[w("div",jb,[l[7]||(l[7]=w("div",null,[w("h2",{class:"text-4xl font-bold text-gray-900 mb-6 leading-tight"},[qe(""),w("br"),qe("")]),w("p",{class:"text-gray-600 text-lg"},"   ,    ?  !")],-1)),w("div",null,[w("form",{onSubmit:Wa(i,["prevent"]),class:"space-y-6"},[w("div",null,[nn(w("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>n.value.desiredPosition=u),type:"text",placeholder:" ",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-sm text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[sn,n.value.desiredPosition]])]),w("div",null,[nn(w("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>n.value.name=u),type:"text",placeholder:" ",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-sm text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[sn,n.value.name]])]),w("div",null,[nn(w("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>n.value.phone=u),type:"tel",placeholder:"",class:"w-full border-0 border-b border-gray-300 py-3 px-0 text-sm text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none focus:border-orange-500 focus:ring-0",required:""},null,512),[[sn,n.value.phone]])]),w("div",null,[w("label",qb,[l[5]||(l[5]=w("span",{class:"text-2xl"},"",-1)),w("span",null,Gt(n.value.resume?n.value.resume.name:"   "),1),w("input",{type:"file",onChange:r,accept:".pdf,.doc,.docx",class:"hidden"},null,32)])]),l[6]||(l[6]=w("button",{type:"submit",class:"bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-8 rounded-full transition-colors"},"",-1))],32)])])])]),Dt(Ye)]))}},zb="/assets/Roland%20VersaCAMM%20VS-640-B_BFlbi6.png",Kb="/assets/Roland%20VersaUV%20LEF-200-D0GjV_ep.png",Gb="/assets/XEROX%20Versant%20280-_whOoNA4.png",Qb="/assets/Duplo%20DC-616-C7BluFMR.png",Wb={__name:"EquipmentPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=ws('<div class="main-container"><h1 class="font-bold text-panda-black text-4xl mb-8"> </h1><div class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mb-16"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+zb+'" alt=" Roland VersaCAMM VS-640" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-2xl font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Roland VersaCAMM VS-640</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600"> -    </p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600"> 1615 </p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">CMYK + Light Cyan, Light Magenta, White, Metallic</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">Roland ECO-SOL MAX / MAX 2</p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600"> 1440 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600"> , , , ,   ,   .</p></div></div></div></div></div><hr class="border-t border-gray-200 my-16"><div class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mb-16"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+Kb+'" alt=" Roland VersaUV LEF-200" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-2xl font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Roland VersaUV LEF-200</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">- (  )</p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">508  330 .   100 </p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">CMYK + White + Gloss ()</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">Roland ECO-UV</p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600"> 1440 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">  , , , , ,   .</p></div></div></div></div></div><hr class="border-t border-gray-200 my-16"><div class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mb-16"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+Gb+'" alt=" XEROX Versant 280" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-2xl font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">XEROX Versant 280</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">   </p></div><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600"> 80 ./ (4)</p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">52-400 /</p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">2400 x 2400 DPI</p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600">, , , , </p></div><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600"> , , , .</p></div></div></div></div></div><hr class="border-t border-gray-200 my-16"><div class="group grid grid-cols-1 lg:grid-cols-2 gap-16 items-start"><div class="bg-light-gray rounded-lg p-8 flex items-center justify-center"><img src="'+Qb+'" alt=" Duplo DC-616" class="w-full h-auto max-w-sm"></div><div class="space-y-6"><h2 class="text-2xl font-bold text-gray-900 transition-colors duration-300 group-hover:text-panda-orange">Duplo DC-616</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-sm"><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">  /  / </p></div><div><h3 class="font-semibold text-gray-900 mb-1"> </h3><p class="text-gray-600"> 10   </p></div></div><div class="flex flex-col gap-y-4"><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">   , </p></div><div><h3 class="font-semibold text-gray-900 mb-1"></h3><p class="text-gray-600">, , , , .</p></div></div></div></div></div></div>',1)),Dt(Ye)]))}},Yb={__name:"PromotionsPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=w("div",{class:"main-container"},[w("h1",{class:"font-bold text-panda-black text-4xl mb-4"},""),w("p",{class:"text-xl text-dark-gray leading-relaxed mb-6"},"       !"),w("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[w("div",{class:"bg-light-gray rounded-lg overflow-hidden p-6 text-center"},[w("img",{src:"https://placehold.co/400x250/F7F7F7/131C26?text=%20%20%20",alt:"   ",class:"w-full h-auto object-cover rounded-md mb-4"}),w("h2",{class:"font-bold text-panda-black text-2xl mb-2"}," 15%   "),w("p",{class:"text-lg text-dark-gray mb-4"},"    Red Panda."),w("router-link",{to:"/",class:"px-6 py-3 bg-panda-orange text-panda-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"")]),w("div",{class:"bg-light-gray rounded-lg overflow-hidden p-6 text-center"},[w("img",{src:"https://placehold.co/400x250/F7F7F7/131C26?text=%20%20",alt:"  ",class:"w-full h-auto object-cover rounded-md mb-4"}),w("h2",{class:"font-bold text-panda-black text-2xl mb-2"}," 10%  1 "),w("p",{class:"text-lg text-dark-gray mb-4"},"        !"),w("router-link",{to:"/",class:"px-6 py-3 bg-panda-orange text-panda-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"")])])],-1)),Dt(Ye)]))}},Xb={__name:"PreparationPage",setup(e){return(t,n)=>(vt(),bt("main",null,[n[0]||(n[0]=w("div",{class:"main-container"},[w("h1",{class:"font-bold text-panda-black text-4xl mb-8"},"  "),w("h2",{class:"text-2xl font-semibold text-panda-black mb-4"},""),w("div",{class:"mb-12"},[w("div",{class:"flex flex-wrap gap-4 mb-6"},[w("div",{class:"flex flex-col items-center"},[w("div",{class:"w-20 h-28 bg-dark-gray rounded-sm flex items-center justify-center mb-2"},[w("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[w("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})])]),w("div",{class:"text-center"},[w("div",{class:"text-xs text-panda-orange mb-1"},"320x200 "),w("button",{class:"px-3 py-1 bg-panda-black text-white text-xs rounded"},"")])]),w("div",{class:"flex flex-col items-center"},[w("div",{class:"w-20 h-28 bg-dark-gray rounded-sm flex items-center justify-center mb-2"},[w("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[w("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})])]),w("div",{class:"text-center"},[w("div",{class:"text-xs text-panda-orange mb-1"},"250x350 "),w("button",{class:"px-3 py-1 bg-panda-black text-white text-xs rounded"},"")])])])]),w("h2",{class:"text-2xl font-semibold text-panda-black mb-4 mt-12"},"  "),w("div",{class:"space-y-6"},[w("div",null,[w("h3",{class:"font-bold text-panda-black text-lg mb-2"}," "),w("p",{class:"text-dark-gray"},"   PDF.   CDR, AI, PSD, EPS.")]),w("div",null,[w("h3",{class:"font-bold text-panda-black text-lg mb-2"}," "),w("p",{class:"text-dark-gray"},"       CMYK.   RGB   ,      .")]),w("div",null,[w("h3",{class:"font-bold text-panda-black text-lg mb-2"},""),w("p",{class:"text-dark-gray"},"        (curves/outlines).")]),w("div",null,[w("h3",{class:"font-bold text-panda-black text-lg mb-2"}," (Bleeds)"),w("p",{class:"text-dark-gray"},'  ,    "",     3-5    .')])]),w("div",{class:"text-center bg-light-gray rounded-lg p-12 my-12"},[w("h3",{class:"text-2xl font-bold text-panda-black mb-4"},"    ?"),w("p",{class:"text-xl text-panda-black mb-6"},"   !"),w("router-link",{to:"/",class:"px-8 py-3 bg-panda-orange text-white rounded-full text-lg hover:bg-orange-600 transition-colors"},"  ")])],-1)),Dt(Ye)]))}},Jb=[{path:"/",name:"Home",component:py},{path:"/gallery",name:"Gallery",component:Ey},{path:"/project-detail",name:"ProjectDetail",component:by},{path:"/shop",name:"Shop",component:Ty},{path:"/team",name:"Team",component:wy},{path:"/news",name:"News",component:Sb},{path:"/vacancies",name:"Vacancies",component:Hb},{path:"/equipment",name:"Equipment",component:Wb},{path:"/promotions",name:"Promotions",component:Yb},{path:"/preparation",name:"Preparation",component:Xb}],Zb=K_({history:b_(),routes:Jb,scrollBehavior(e,t,n){return n||{top:0}}}),tp=Bm(Hm);tp.use(Zb);tp.mount("#app");
